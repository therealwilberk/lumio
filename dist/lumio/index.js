import{DurableObject as ut}from"cloudflare:workers";var F=(e,t,s)=>(r,n)=>{let i=-1;return a(0);async function a(c){if(c<=i)throw new Error("next() called multiple times");i=c;let o,h=!1,l;if(e[c]?(l=e[c][0][0],r.req.routeIndex=c):l=c===e.length&&n||void 0,l)try{o=await l(r,()=>a(c+1))}catch(u){if(u instanceof Error&&t)r.error=u,o=await t(u,r),h=!0;else throw u}else r.finalized===!1&&s&&(o=await s(r));return o&&(r.finalized===!1||h)&&(r.res=o),r}},dt=Symbol(),ft=async(e,t=Object.create(null))=>{const{all:s=!1,dot:r=!1}=t,i=(e instanceof Y?e.raw.headers:e.headers).get("Content-Type");return i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded")?pt(e,{all:s,dot:r}):{}};async function pt(e,t){const s=await e.formData();return s?gt(s,t):{}}function gt(e,t){const s=Object.create(null);return e.forEach((r,n)=>{t.all||n.endsWith("[]")?wt(s,n,r):s[n]=r}),t.dot&&Object.entries(s).forEach(([r,n])=>{r.includes(".")&&(yt(s,r,n),delete s[r])}),s}var wt=(e,t,s)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(s):e[t]=[e[t],s]:t.endsWith("[]")?e[t]=[s]:e[t]=s},yt=(e,t,s)=>{let r=e;const n=t.split(".");n.forEach((i,a)=>{a===n.length-1?r[i]=s:((!r[i]||typeof r[i]!="object"||Array.isArray(r[i])||r[i]instanceof File)&&(r[i]=Object.create(null)),r=r[i])})},K=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},mt=e=>{const{groups:t,path:s}=xt(e),r=K(s);return vt(r,t)},xt=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(s,r)=>{const n=`@${r}`;return t.push([n,s]),n}),{groups:t,path:e}},vt=(e,t)=>{for(let s=t.length-1;s>=0;s--){const[r]=t[s];for(let n=e.length-1;n>=0;n--)if(e[n].includes(r)){e[n]=e[n].replace(r,t[s][1]);break}}return e},D={},Rt=(e,t)=>{if(e==="*")return"*";const s=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(s){const r=`${e}#${t}`;return D[r]||(s[2]?D[r]=t&&t[0]!==":"&&t[0]!=="*"?[r,s[1],new RegExp(`^${s[2]}(?=/${t})`)]:[e,s[1],new RegExp(`^${s[2]}$`)]:D[r]=[e,s[1],!0]),D[r]}return null},B=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,s=>{try{return t(s)}catch{return s}})}},Et=e=>B(e,decodeURI),z=e=>{const t=e.url,s=t.indexOf("/",t.indexOf(":")+4);let r=s;for(;r<t.length;r++){const n=t.charCodeAt(r);if(n===37){const i=t.indexOf("?",r),a=t.slice(s,i===-1?void 0:i);return Et(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(n===63)break}return t.slice(s,r)},bt=e=>{const t=z(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},S=(e,t,...s)=>(s.length&&(t=S(t,...s)),`${e?.[0]==="/"?"":"/"}${e}${t==="/"?"":`${e?.at(-1)==="/"?"":"/"}${t?.[0]==="/"?t.slice(1):t}`}`),J=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),s=[];let r="";return t.forEach(n=>{if(n!==""&&!/\:/.test(n))r+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){s.length===0&&r===""?s.push("/"):s.push(r);const i=n.replace("?","");r+="/"+i,s.push(r)}else r+="/"+n}),s.filter((n,i,a)=>a.indexOf(n)===i)},T=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?B(e,X):e):e,Q=(e,t,s)=>{let r;if(!s&&t&&!/[%+]/.test(t)){let a=e.indexOf("?",8);if(a===-1)return;for(e.startsWith(t,a+1)||(a=e.indexOf(`&${t}`,a+1));a!==-1;){const c=e.charCodeAt(a+t.length+1);if(c===61){const o=a+t.length+2,h=e.indexOf("&",o);return T(e.slice(o,h===-1?void 0:h))}else if(c==38||isNaN(c))return"";a=e.indexOf(`&${t}`,a+1)}if(r=/[%+]/.test(e),!r)return}const n={};r??=/[%+]/.test(e);let i=e.indexOf("?",8);for(;i!==-1;){const a=e.indexOf("&",i+1);let c=e.indexOf("=",i);c>a&&a!==-1&&(c=-1);let o=e.slice(i+1,c===-1?a===-1?void 0:a:c);if(r&&(o=T(o)),i=a,o==="")continue;let h;c===-1?h="":(h=e.slice(c+1,a===-1?void 0:a),r&&(h=T(h))),s?(n[o]&&Array.isArray(n[o])||(n[o]=[]),n[o].push(h)):n[o]??=h}return t?n[t]:n},Ot=Q,St=(e,t)=>Q(e,t,!0),X=decodeURIComponent,U=e=>B(e,X),Y=class{raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(e,t="/",s=[[]]){this.raw=e,this.path=t,this.#t=s,this.#e={}}param(e){return e?this.#s(e):this.#i()}#s(e){const t=this.#t[0][this.routeIndex][1][e],s=this.#n(t);return s&&/\%/.test(s)?U(s):s}#i(){const e={},t=Object.keys(this.#t[0][this.routeIndex][1]);for(const s of t){const r=this.#n(this.#t[0][this.routeIndex][1][s]);r!==void 0&&(e[s]=/\%/.test(r)?U(r):r)}return e}#n(e){return this.#t[1]?this.#t[1][e]:e}query(e){return Ot(this.url,e)}queries(e){return St(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((s,r)=>{t[r]=s}),t}async parseBody(e){return this.bodyCache.parsedBody??=await ft(this,e)}#r=e=>{const{bodyCache:t,raw:s}=this,r=t[e];if(r)return r;const n=Object.keys(t)[0];return n?t[n].then(i=>(n==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=s[e]()};json(){return this.#r("text").then(e=>JSON.parse(e))}text(){return this.#r("text")}arrayBuffer(){return this.#r("arrayBuffer")}blob(){return this.#r("blob")}formData(){return this.#r("formData")}addValidatedData(e,t){this.#e[e]=t}valid(e){return this.#e[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[dt](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,e]])=>e)}get routePath(){return this.#t[0].map(([[,e]])=>e)[this.routeIndex].path}},jt={Stringify:1},Z=async(e,t,s,r,n)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i?.length?(n?n[0]+=e:n=[e],Promise.all(i.map(c=>c({phase:t,buffer:n,context:r}))).then(c=>Promise.all(c.filter(Boolean).map(o=>Z(o,t,!1,r,n))).then(()=>n[0]))):Promise.resolve(e)},Pt="text/plain; charset=UTF-8",I=(e,t)=>({"Content-Type":e,...t}),At=class{#e;#t;env={};#s;finalized=!1;error;#i;#n;#r;#l;#c;#h;#o;#u;#d;constructor(e,t){this.#e=e,t&&(this.#n=t.executionCtx,this.env=t.env,this.#h=t.notFoundHandler,this.#d=t.path,this.#u=t.matchResult)}get req(){return this.#t??=new Y(this.#e,this.#d,this.#u),this.#t}get event(){if(this.#n&&"respondWith"in this.#n)return this.#n;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#n)return this.#n;throw Error("This context has no ExecutionContext")}get res(){return this.#r||=new Response(null,{headers:this.#o??=new Headers})}set res(e){if(this.#r&&e){e=new Response(e.body,e);for(const[t,s]of this.#r.headers.entries())if(t!=="content-type")if(t==="set-cookie"){const r=this.#r.headers.getSetCookie();e.headers.delete("set-cookie");for(const n of r)e.headers.append("set-cookie",n)}else e.headers.set(t,s)}this.#r=e,this.finalized=!0}render=(...e)=>(this.#c??=t=>this.html(t),this.#c(...e));setLayout=e=>this.#l=e;getLayout=()=>this.#l;setRenderer=e=>{this.#c=e};header=(e,t,s)=>{this.finalized&&(this.#r=new Response(this.#r.body,this.#r));const r=this.#r?this.#r.headers:this.#o??=new Headers;t===void 0?r.delete(e):s?.append?r.append(e,t):r.set(e,t)};status=e=>{this.#i=e};set=(e,t)=>{this.#s??=new Map,this.#s.set(e,t)};get=e=>this.#s?this.#s.get(e):void 0;get var(){return this.#s?Object.fromEntries(this.#s):{}}#a(e,t,s){const r=this.#r?new Headers(this.#r.headers):this.#o??new Headers;if(typeof t=="object"&&"headers"in t){const i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[a,c]of i)a.toLowerCase()==="set-cookie"?r.append(a,c):r.set(a,c)}if(s)for(const[i,a]of Object.entries(s))if(typeof a=="string")r.set(i,a);else{r.delete(i);for(const c of a)r.append(i,c)}const n=typeof t=="number"?t:t?.status??this.#i;return new Response(e,{status:n,headers:r})}newResponse=(...e)=>this.#a(...e);body=(e,t,s)=>this.#a(e,t,s);text=(e,t,s)=>!this.#o&&!this.#i&&!t&&!s&&!this.finalized?new Response(e):this.#a(e,t,I(Pt,s));json=(e,t,s)=>this.#a(JSON.stringify(e),t,I("application/json",s));html=(e,t,s)=>{const r=n=>this.#a(n,t,I("text/html; charset=UTF-8",s));return typeof e=="object"?Z(e,jt.Stringify,!1,{}).then(r):r(e)};redirect=(e,t)=>{const s=String(e);return this.header("Location",/[^\x00-\xFF]/.test(s)?encodeURI(s):s),this.newResponse(null,t??302)};notFound=()=>(this.#h??=()=>new Response,this.#h(this))},p="ALL",Ct="all",$t=["get","post","put","delete","options","patch"],tt="Can not add a route since the matcher is already built.",et=class extends Error{},Nt="__COMPOSED_HANDLER",_t=e=>e.text("404 Not Found",404),q=(e,t)=>{if("getResponse"in e){const s=e.getResponse();return t.newResponse(s.body,s)}return console.error(e),t.text("Internal Server Error",500)},Ht=class st{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(t={}){[...$t,Ct].forEach(i=>{this[i]=(a,...c)=>(typeof a=="string"?this.#e=a:this.#i(i,this.#e,a),c.forEach(o=>{this.#i(i,this.#e,o)}),this)}),this.on=(i,a,...c)=>{for(const o of[a].flat()){this.#e=o;for(const h of[i].flat())c.map(l=>{this.#i(h.toUpperCase(),this.#e,l)})}return this},this.use=(i,...a)=>(typeof i=="string"?this.#e=i:(this.#e="*",a.unshift(i)),a.forEach(c=>{this.#i(p,this.#e,c)}),this);const{strict:r,...n}=t;Object.assign(this,n),this.getPath=r??!0?t.getPath??z:bt}#t(){const t=new st({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,t.#s=this.#s,t.routes=this.routes,t}#s=_t;errorHandler=q;route(t,s){const r=this.basePath(t);return s.routes.map(n=>{let i;s.errorHandler===q?i=n.handler:(i=async(a,c)=>(await F([],s.errorHandler)(a,()=>n.handler(a,c))).res,i[Nt]=n.handler),r.#i(n.method,n.path,i)}),this}basePath(t){const s=this.#t();return s._basePath=S(this._basePath,t),s}onError=t=>(this.errorHandler=t,this);notFound=t=>(this.#s=t,this);mount(t,s,r){let n,i;r&&(typeof r=="function"?i=r:(i=r.optionHandler,r.replaceRequest===!1?n=o=>o:n=r.replaceRequest));const a=i?o=>{const h=i(o);return Array.isArray(h)?h:[h]}:o=>{let h;try{h=o.executionCtx}catch{}return[o.env,h]};n||=(()=>{const o=S(this._basePath,t),h=o==="/"?0:o.length;return l=>{const u=new URL(l.url);return u.pathname=u.pathname.slice(h)||"/",new Request(u,l)}})();const c=async(o,h)=>{const l=await s(n(o.req.raw),...a(o));if(l)return l;await h()};return this.#i(p,S(t,"*"),c),this}#i(t,s,r){t=t.toUpperCase(),s=S(this._basePath,s);const n={basePath:this._basePath,path:s,method:t,handler:r};this.router.add(t,s,[r,n]),this.routes.push(n)}#n(t,s){if(t instanceof Error)return this.errorHandler(t,s);throw t}#r(t,s,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#r(t,s,r,"GET")))();const i=this.getPath(t,{env:r}),a=this.router.match(n,i),c=new At(t,{path:i,matchResult:a,env:r,executionCtx:s,notFoundHandler:this.#s});if(a[0].length===1){let h;try{h=a[0][0][0][0](c,async()=>{c.res=await this.#s(c)})}catch(l){return this.#n(l,c)}return h instanceof Promise?h.then(l=>l||(c.finalized?c.res:this.#s(c))).catch(l=>this.#n(l,c)):h??this.#s(c)}const o=F(a[0],this.errorHandler,this.#s);return(async()=>{try{const h=await o(c);if(!h.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return h.res}catch(h){return this.#n(h,c)}})()}fetch=(t,...s)=>this.#r(t,s[1],s[0],t.method);request=(t,s,r,n)=>t instanceof Request?this.fetch(s?new Request(t,s):t,r,n):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${S("/",t)}`,s),r,n));fire=()=>{addEventListener("fetch",t=>{t.respondWith(this.#r(t.request,t,void 0,t.request.method))})}},rt=[];function Dt(e,t){const s=this.buildAllMatchers(),r=((n,i)=>{const a=s[n]||s[p],c=a[2][i];if(c)return c;const o=i.match(a[0]);if(!o)return[[],rt];const h=o.indexOf("",1);return[a[1][h],o]});return this.match=r,r(e,t)}var k="[^/]+",C=".*",$="(?:|/.*)",j=Symbol(),kt=new Set(".\\+*[^]$()");function Tt(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===C||e===$?1:t===C||t===$?-1:e===k?1:t===k?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var It=class L{#e;#t;#s=Object.create(null);insert(t,s,r,n,i){if(t.length===0){if(this.#e!==void 0)throw j;if(i)return;this.#e=s;return}const[a,...c]=t,o=a==="*"?c.length===0?["","",C]:["","",k]:a==="/*"?["","",$]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let h;if(o){const l=o[1];let u=o[2]||k;if(l&&o[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw j;if(h=this.#s[u],!h){if(Object.keys(this.#s).some(d=>d!==C&&d!==$))throw j;if(i)return;h=this.#s[u]=new L,l!==""&&(h.#t=n.varIndex++)}!i&&l!==""&&r.push([l,h.#t])}else if(h=this.#s[a],!h){if(Object.keys(this.#s).some(l=>l.length>1&&l!==C&&l!==$))throw j;if(i)return;h=this.#s[a]=new L}h.insert(c,s,r,n,i)}buildRegExpStr(){const s=Object.keys(this.#s).sort(Tt).map(r=>{const n=this.#s[r];return(typeof n.#t=="number"?`(${r})@${n.#t}`:kt.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#e=="number"&&s.unshift(`#${this.#e}`),s.length===0?"":s.length===1?s[0]:"(?:"+s.join("|")+")"}},Lt=class{#e={varIndex:0};#t=new It;insert(e,t,s){const r=[],n=[];for(let a=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,o=>{const h=`@\\${a}`;return n[a]=[h,o],a++,c=!0,h}),!c)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=n.length-1;a>=0;a--){const[c]=n[a];for(let o=i.length-1;o>=0;o--)if(i[o].indexOf(c)!==-1){i[o]=i[o].replace(c,n[a][1]);break}}return this.#t.insert(i,t,r,this.#e,s),r}buildRegExp(){let e=this.#t.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const s=[],r=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,i,a)=>i!==void 0?(s[++t]=Number(i),"$()"):(a!==void 0&&(r[Number(a)]=++t),"")),[new RegExp(`^${e}`),s,r]}},Bt=[/^$/,[],Object.create(null)],nt=Object.create(null);function it(e){return nt[e]??=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,s)=>s?`\\${s}`:"(?:|/.*)")}$`)}function Mt(){nt=Object.create(null)}function Ft(e){const t=new Lt,s=[];if(e.length===0)return Bt;const r=e.map(h=>[!/\*|\/:/.test(h[0]),...h]).sort(([h,l],[u,d])=>h?1:u?-1:l.length-d.length),n=Object.create(null);for(let h=0,l=-1,u=r.length;h<u;h++){const[d,g,y]=r[h];d?n[g]=[y.map(([w])=>[w,Object.create(null)]),rt]:l++;let f;try{f=t.insert(g,l,d)}catch(w){throw w===j?new et(g):w}d||(s[l]=y.map(([w,v])=>{const _=Object.create(null);for(v-=1;v>=0;v--){const[H,m]=f[v];_[H]=m}return[w,_]}))}const[i,a,c]=t.buildRegExp();for(let h=0,l=s.length;h<l;h++)for(let u=0,d=s[h].length;u<d;u++){const g=s[h][u]?.[1];if(!g)continue;const y=Object.keys(g);for(let f=0,w=y.length;f<w;f++)g[y[f]]=c[g[y[f]]]}const o=[];for(const h in a)o[h]=s[a[h]];return[i,o,n]}function b(e,t){if(e){for(const s of Object.keys(e).sort((r,n)=>n.length-r.length))if(it(s).test(t))return[...e[s]]}}var Ut=class{name="RegExpRouter";#e;#t;constructor(){this.#e={[p]:Object.create(null)},this.#t={[p]:Object.create(null)}}add(e,t,s){const r=this.#e,n=this.#t;if(!r||!n)throw new Error(tt);r[e]||[r,n].forEach(c=>{c[e]=Object.create(null),Object.keys(c[p]).forEach(o=>{c[e][o]=[...c[p][o]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const c=it(t);e===p?Object.keys(r).forEach(o=>{r[o][t]||=b(r[o],t)||b(r[p],t)||[]}):r[e][t]||=b(r[e],t)||b(r[p],t)||[],Object.keys(r).forEach(o=>{(e===p||e===o)&&Object.keys(r[o]).forEach(h=>{c.test(h)&&r[o][h].push([s,i])})}),Object.keys(n).forEach(o=>{(e===p||e===o)&&Object.keys(n[o]).forEach(h=>c.test(h)&&n[o][h].push([s,i]))});return}const a=J(t)||[t];for(let c=0,o=a.length;c<o;c++){const h=a[c];Object.keys(n).forEach(l=>{(e===p||e===l)&&(n[l][h]||=[...b(r[l],h)||b(r[p],h)||[]],n[l][h].push([s,i-o+c+1]))})}}match=Dt;buildAllMatchers(){const e=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(t=>{e[t]||=this.#s(t)}),this.#e=this.#t=void 0,Mt(),e}#s(e){const t=[];let s=e===p;return[this.#e,this.#t].forEach(r=>{const n=r[e]?Object.keys(r[e]).map(i=>[i,r[e][i]]):[];n.length!==0?(s||=!0,t.push(...n)):e!==p&&t.push(...Object.keys(r[p]).map(i=>[i,r[p][i]]))}),s?Ft(t):null}},qt=class{name="SmartRouter";#e=[];#t=[];constructor(e){this.#e=e.routers}add(e,t,s){if(!this.#t)throw new Error(tt);this.#t.push([e,t,s])}match(e,t){if(!this.#t)throw new Error("Fatal error");const s=this.#e,r=this.#t,n=s.length;let i=0,a;for(;i<n;i++){const c=s[i];try{for(let o=0,h=r.length;o<h;o++)c.add(...r[o]);a=c.match(e,t)}catch(o){if(o instanceof et)continue;throw o}this.match=c.match.bind(c),this.#e=[c],this.#t=void 0;break}if(i===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}},A=Object.create(null),Wt=class at{#e;#t;#s;#i=0;#n=A;constructor(t,s,r){if(this.#t=r||Object.create(null),this.#e=[],t&&s){const n=Object.create(null);n[t]={handler:s,possibleKeys:[],score:0},this.#e=[n]}this.#s=[]}insert(t,s,r){this.#i=++this.#i;let n=this;const i=mt(s),a=[];for(let c=0,o=i.length;c<o;c++){const h=i[c],l=i[c+1],u=Rt(h,l),d=Array.isArray(u)?u[0]:h;if(d in n.#t){n=n.#t[d],u&&a.push(u[1]);continue}n.#t[d]=new at,u&&(n.#s.push(u),a.push(u[1])),n=n.#t[d]}return n.#e.push({[t]:{handler:r,possibleKeys:a.filter((c,o,h)=>h.indexOf(c)===o),score:this.#i}}),n}#r(t,s,r,n){const i=[];for(let a=0,c=t.#e.length;a<c;a++){const o=t.#e[a],h=o[s]||o[p],l={};if(h!==void 0&&(h.params=Object.create(null),i.push(h),r!==A||n&&n!==A))for(let u=0,d=h.possibleKeys.length;u<d;u++){const g=h.possibleKeys[u],y=l[h.score];h.params[g]=n?.[g]&&!y?n[g]:r[g]??n?.[g],l[h.score]=!0}}return i}search(t,s){const r=[];this.#n=A;let i=[this];const a=K(s),c=[];for(let o=0,h=a.length;o<h;o++){const l=a[o],u=o===h-1,d=[];for(let g=0,y=i.length;g<y;g++){const f=i[g],w=f.#t[l];w&&(w.#n=f.#n,u?(w.#t["*"]&&r.push(...this.#r(w.#t["*"],t,f.#n)),r.push(...this.#r(w,t,f.#n))):d.push(w));for(let v=0,_=f.#s.length;v<_;v++){const H=f.#s[v],m=f.#n===A?{}:{...f.#n};if(H==="*"){const R=f.#t["*"];R&&(r.push(...this.#r(R,t,f.#n)),R.#n=m,d.push(R));continue}const[ct,M,P]=H;if(!l&&!(P instanceof RegExp))continue;const x=f.#t[ct],ht=a.slice(o).join("/");if(P instanceof RegExp){const R=P.exec(ht);if(R){if(m[M]=R[0],r.push(...this.#r(x,t,f.#n,m)),Object.keys(x.#t).length){x.#n=m;const lt=R[0].match(/\//)?.length??0;(c[lt]||=[]).push(x)}continue}}(P===!0||P.test(l))&&(m[M]=l,u?(r.push(...this.#r(x,t,m,f.#n)),x.#t["*"]&&r.push(...this.#r(x.#t["*"],t,m,f.#n))):(x.#n=m,d.push(x)))}}i=d.concat(c.shift()??[])}return r.length>1&&r.sort((o,h)=>o.score-h.score),[r.map(({handler:o,params:h})=>[o,h])]}},Vt=class{name="TrieRouter";#e;constructor(){this.#e=new Wt}add(e,t,s){const r=J(t);if(r){for(let n=0,i=r.length;n<i;n++)this.#e.insert(e,r[n],s);return}this.#e.insert(e,t,s)}match(e,t){return this.#e.search(e,t)}},Gt=class extends Ht{constructor(e={}){super(e),this.router=e.router??new qt({routers:[new Ut,new Vt]})}},Kt=e=>{const s={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...e},r=(i=>typeof i=="string"?i==="*"?()=>i:a=>i===a?a:null:typeof i=="function"?i:a=>i.includes(a)?a:null)(s.origin),n=(i=>typeof i=="function"?i:Array.isArray(i)?()=>i:()=>[])(s.allowMethods);return async function(a,c){function o(l,u){a.res.headers.set(l,u)}const h=await r(a.req.header("origin")||"",a);if(h&&o("Access-Control-Allow-Origin",h),s.credentials&&o("Access-Control-Allow-Credentials","true"),s.exposeHeaders?.length&&o("Access-Control-Expose-Headers",s.exposeHeaders.join(",")),a.req.method==="OPTIONS"){s.origin!=="*"&&o("Vary","Origin"),s.maxAge!=null&&o("Access-Control-Max-Age",s.maxAge.toString());const l=await n(a.req.header("origin")||"",a);l.length&&o("Access-Control-Allow-Methods",l.join(","));let u=s.allowHeaders;if(!u?.length){const d=a.req.header("Access-Control-Request-Headers");d&&(u=d.split(/\s*,\s*/))}return u?.length&&(o("Access-Control-Allow-Headers",u.join(",")),a.res.headers.append("Vary","Access-Control-Request-Headers")),a.res.headers.delete("Content-Length"),a.res.headers.delete("Content-Type"),new Response(null,{headers:a.res.headers,status:204,statusText:"No Content"})}await c(),s.origin!=="*"&&a.header("Vary","Origin",{append:!0})}};function zt(){const{process:e,Deno:t}=globalThis;return!(typeof t?.noColor=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in e?.env:!1)}async function Jt(){const{navigator:e}=globalThis,t="cloudflare:workers";return!(e!==void 0&&e.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(t)).env??{})}catch{return!1}})():!zt())}var Qt=e=>{const[t,s]=[",","."];return e.map(n=>n.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)).join(s)},Xt=e=>{const t=Date.now()-e;return Qt([t<1e3?t+"ms":Math.round(t/1e3)+"s"])},Yt=async e=>{if(await Jt())switch(e/100|0){case 5:return`\x1B[31m${e}\x1B[0m`;case 4:return`\x1B[33m${e}\x1B[0m`;case 3:return`\x1B[36m${e}\x1B[0m`;case 2:return`\x1B[32m${e}\x1B[0m`}return`${e}`};async function W(e,t,s,r,n=0,i){const a=t==="<--"?`${t} ${s} ${r}`:`${t} ${s} ${r} ${await Yt(n)} ${i}`;e(a)}var Zt=(e=console.log)=>async function(s,r){const{method:n,url:i}=s.req,a=i.slice(i.indexOf("/",8));await W(e,"<--",n,a);const c=Date.now();await r(),await W(e,"-->",n,a,s.res.status,Xt(c))};class ae extends ut{constructor(t,s){super(t,s),this.ctx=t,this.env=s}async del(t){const s=await this.ctx.storage.get(t)!==void 0;return await this.ctx.storage.delete(t),s}async has(t){return await this.ctx.storage.get(t)!==void 0}async getDoc(t){return await this.ctx.storage.get(t)??null}async casPut(t,s,r){return this.ctx.storage.transaction(async n=>{const a=(await n.get(t))?.v??0;if(a!==s)return{ok:!1,v:a};const c=a+1;return await n.put(t,{v:c,data:r}),{ok:!0,v:c}})}async listPrefix(t,s,r){const n={prefix:t};r!=null&&(n.limit=r),s&&(n.startAfter=s);const i=await this.ctx.storage.list(n),a=Array.from(i.keys()),c=r!=null&&a.length===r?a[a.length-1]:null;return{keys:a,next:c}}async indexAddBatch(t){t.length!==0&&await this.ctx.storage.transaction(async s=>{for(const r of t)await s.put("i:"+String(r),1)})}async indexRemoveBatch(t){if(t.length===0)return 0;let s=0;return await this.ctx.storage.transaction(async r=>{for(const n of t){const i="i:"+String(n),a=await r.get(i)!==void 0;await r.delete(i),a&&s++}}),s}async indexDrop(t){await this.ctx.storage.deleteAll()}async createUser(t){await this.ctx.storage.put(`user:${t.id}`,t),await this.ctx.storage.put(`username:${t.username}`,t.id)}async getUser(t){return await this.ctx.storage.get(`user:${t}`)||null}async getUserByUsername(t){const s=await this.ctx.storage.get(`username:${t}`);return s?await this.getUser(s):null}}class ot{_state;_version=0;stub;_id;entityName;env;constructor(t,s){this.env=t,this._id=s;const r=this.constructor;this.entityName=r.entityName;const n=`${this.entityName}:${this._id}`,i=t.GlobalDurableObject.idFromName(n);this.stub=t.GlobalDurableObject.get(i)}get id(){return this._id}get state(){return this._state}key(){return`${this.entityName}:${this._id}`}async save(t){for(let s=0;s<4;s++){await this.ensureState();const r=await this.stub.casPut(this.key(),this._version,t);if(r.ok){this._version=r.v,this._state=t;return}}throw new Error("Concurrent modification detected")}async ensureState(){const t=this.constructor,s=await this.stub.getDoc(this.key());return s==null?(this._version=0,this._state=t.initialState,this._state):(this._version=s.v,this._state=s.data,this._state)}async mutate(t){for(let s=0;s<4;s++){const r=await this.ensureState(),n=this._version,i=t(r),a=await this.stub.casPut(this.key(),n,i);if(a.ok)return this._version=a.v,this._state=i,i}throw new Error("Concurrent modification detected")}async getState(){return this.ensureState()}async patch(t){await this.mutate(s=>({...s,...t}))}async exists(){return this.stub.has(this.key())}async delete(){const t=await this.stub.del(this.key());if(t){const s=this.constructor;this._version=0,this._state=s.initialState}return t}}class O extends ot{static entityName="sys-index-root";constructor(t,s){super(t,`index:${s}`)}async addBatch(t){t.length!==0&&await this.stub.indexAddBatch(t)}async add(t){return this.addBatch([t])}async remove(t){return await this.removeBatch([t])>0}async removeBatch(t){return t.length===0?0:this.stub.indexRemoveBatch(t)}async clear(){await this.stub.indexDrop(this.key())}async page(t,s){const{keys:r,next:n}=await this.stub.listPrefix("i:",t??null,s);return{items:r.map(i=>i.slice(2)),next:n}}async list(){const{keys:t}=await this.stub.listPrefix("i:");return t.map(s=>s.slice(2))}}class oe extends ot{static indexName;static keyOf(t){return t.id}static async create(t,s){const r=this.keyOf(s);return await new this(t,r).save(s),await new O(t,this.indexName).add(r),s}static async list(t,s,r){const n=new O(t,this.indexName),{items:i,next:a}=await n.page(s,r);return{items:await Promise.all(i.map(o=>new this(t,o).getState())),next:a}}static async ensureSeed(t){const s=new O(t,this.indexName),r=await s.list(),n=this.seedData;r.length===0&&n&&n.length>0&&(await Promise.all(n.map(i=>new this(t,this.keyOf(i)).save(i))),await s.addBatch(n.map(i=>this.keyOf(i))))}static async delete(t,s){const n=await new this(t,s).delete();return await new O(t,this.indexName).remove(s),n}static async deleteMany(t,s){if(s.length===0)return 0;const r=await Promise.all(s.map(async i=>new this(t,i).delete()));return await new O(t,this.indexName).removeBatch(s),r.filter(Boolean).length}static async removeFromIndex(t,s){await new O(t,this.indexName).remove(s)}async ensureState(){const t=await super.ensureState();if(!t.id){const s={...t,id:this.id};return this._state=s,s}return t}}const ce=(e,t)=>e.json({success:!0,data:t}),he=(e,t)=>e.json({success:!1,error:t},400),le=(e,t="not found")=>e.json({success:!1,error:t},404),ue=e=>typeof e=="string"&&e.length>0,te="./user-routes",ee=750;let V=0,G=!1,N=null;const se=async e=>{if(G)return;const t=Date.now(),s=N!==null;if(s&&t<V)return;V=t+ee;const n=`${te}`;try{(await import(n)).userRoutes(e),G=!0,N=null}catch(i){N=i instanceof Error?i.message:String(i)}},E=new Gt;E.use("*",Zt());E.use("/api/*",Kt({origin:"*",allowMethods:["GET","POST","PUT","DELETE","OPTIONS"],allowHeaders:["Content-Type","Authorization"]}));E.get("/api/health",e=>e.json({success:!0,data:{status:"healthy",timestamp:new Date().toISOString()}}));E.post("/api/client-errors",async e=>{try{const t=await e.req.json();return console.error("[CLIENT ERROR]",JSON.stringify({timestamp:t.timestamp||new Date().toISOString(),message:t.message,url:t.url,stack:t.stack,componentStack:t.componentStack,errorBoundary:t.errorBoundary},null,2)),e.json({success:!0})}catch(t){return console.error("[CLIENT ERROR HANDLER] Failed:",t),e.json({success:!1,error:"Failed to process"},500)}});E.notFound(e=>e.json({success:!1,error:"Not Found"},404));E.onError((e,t)=>(console.error(`[ERROR] ${e}`),t.json({success:!1,error:"Internal Server Error"},500)));console.log("Server is running");const re={async fetch(e,t,s){const r=new URL(e.url).pathname;return r.startsWith("/api/")&&r!=="/api/health"&&r!=="/api/client-errors"&&(await se(E),N)?new Response(JSON.stringify({success:!1,error:"Worker routes failed to load",detail:N}),{status:500,headers:{"content-type":"application/json"}}):E.fetch(e,t,s)}},de=re??{};export{ot as Entity,ae as GlobalDurableObject,O as Index,oe as IndexedEntity,he as bad,de as default,ue as isStr,le as notFound,ce as ok};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvY29tcG9zZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvcmVxdWVzdC9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3V0aWxzL2JvZHkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3V0aWxzL3VybC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvcmVxdWVzdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvdXRpbHMvaHRtbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvY29udGV4dC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC91dGlscy9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L2hvbm8tYmFzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyL3JlZy1leHAtcm91dGVyL21hdGNoZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3JvdXRlci9yZWctZXhwLXJvdXRlci9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9yb3V0ZXIvcmVnLWV4cC1yb3V0ZXIvdHJpZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyL3JlZy1leHAtcm91dGVyL3JvdXRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyL3NtYXJ0LXJvdXRlci9yb3V0ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3JvdXRlci90cmllLXJvdXRlci9ub2RlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9yb3V0ZXIvdHJpZS1yb3V0ZXIvcm91dGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9ob25vLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9taWRkbGV3YXJlL2NvcnMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3V0aWxzL2NvbG9yLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9taWRkbGV3YXJlL2xvZ2dlci9pbmRleC5qcyIsIi4uLy4uL3dvcmtlci9jb3JlLXV0aWxzLnRzIiwiLi4vLi4vd29ya2VyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21wb3NlLnRzXG52YXIgY29tcG9zZSA9IChtaWRkbGV3YXJlLCBvbkVycm9yLCBvbk5vdEZvdW5kKSA9PiB7XG4gIHJldHVybiAoY29udGV4dCwgbmV4dCkgPT4ge1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIHJldHVybiBkaXNwYXRjaCgwKTtcbiAgICBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaChpKSB7XG4gICAgICBpZiAoaSA8PSBpbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuZXh0KCkgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBpO1xuICAgICAgbGV0IHJlcztcbiAgICAgIGxldCBpc0Vycm9yID0gZmFsc2U7XG4gICAgICBsZXQgaGFuZGxlcjtcbiAgICAgIGlmIChtaWRkbGV3YXJlW2ldKSB7XG4gICAgICAgIGhhbmRsZXIgPSBtaWRkbGV3YXJlW2ldWzBdWzBdO1xuICAgICAgICBjb250ZXh0LnJlcS5yb3V0ZUluZGV4ID0gaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZXIgPSBpID09PSBtaWRkbGV3YXJlLmxlbmd0aCAmJiBuZXh0IHx8IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzID0gYXdhaXQgaGFuZGxlcihjb250ZXh0LCAoKSA9PiBkaXNwYXRjaChpICsgMSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgb25FcnJvcikge1xuICAgICAgICAgICAgY29udGV4dC5lcnJvciA9IGVycjtcbiAgICAgICAgICAgIHJlcyA9IGF3YWl0IG9uRXJyb3IoZXJyLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY29udGV4dC5maW5hbGl6ZWQgPT09IGZhbHNlICYmIG9uTm90Rm91bmQpIHtcbiAgICAgICAgICByZXMgPSBhd2FpdCBvbk5vdEZvdW5kKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzICYmIChjb250ZXh0LmZpbmFsaXplZCA9PT0gZmFsc2UgfHwgaXNFcnJvcikpIHtcbiAgICAgICAgY29udGV4dC5yZXMgPSByZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHtcbiAgY29tcG9zZVxufTtcbiIsIi8vIHNyYy9yZXF1ZXN0L2NvbnN0YW50cy50c1xudmFyIEdFVF9NQVRDSF9SRVNVTFQgPSAvKiBAX19QVVJFX18gKi8gU3ltYm9sKCk7XG5leHBvcnQge1xuICBHRVRfTUFUQ0hfUkVTVUxUXG59O1xuIiwiLy8gc3JjL3V0aWxzL2JvZHkudHNcbmltcG9ydCB7IEhvbm9SZXF1ZXN0IH0gZnJvbSBcIi4uL3JlcXVlc3QuanNcIjtcbnZhciBwYXJzZUJvZHkgPSBhc3luYyAocmVxdWVzdCwgb3B0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKSA9PiB7XG4gIGNvbnN0IHsgYWxsID0gZmFsc2UsIGRvdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBjb25zdCBoZWFkZXJzID0gcmVxdWVzdCBpbnN0YW5jZW9mIEhvbm9SZXF1ZXN0ID8gcmVxdWVzdC5yYXcuaGVhZGVycyA6IHJlcXVlc3QuaGVhZGVycztcbiAgY29uc3QgY29udGVudFR5cGUgPSBoZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgaWYgKGNvbnRlbnRUeXBlPy5zdGFydHNXaXRoKFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKSB8fCBjb250ZW50VHlwZT8uc3RhcnRzV2l0aChcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSkge1xuICAgIHJldHVybiBwYXJzZUZvcm1EYXRhKHJlcXVlc3QsIHsgYWxsLCBkb3QgfSk7XG4gIH1cbiAgcmV0dXJuIHt9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlRm9ybURhdGEocmVxdWVzdCwgb3B0aW9ucykge1xuICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgaWYgKGZvcm1EYXRhKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRGb3JtRGF0YVRvQm9keURhdGEoZm9ybURhdGEsIG9wdGlvbnMpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRGb3JtRGF0YVRvQm9keURhdGEoZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgY29uc3QgZm9ybSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3JtRGF0YS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgY29uc3Qgc2hvdWxkUGFyc2VBbGxWYWx1ZXMgPSBvcHRpb25zLmFsbCB8fCBrZXkuZW5kc1dpdGgoXCJbXVwiKTtcbiAgICBpZiAoIXNob3VsZFBhcnNlQWxsVmFsdWVzKSB7XG4gICAgICBmb3JtW2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlUGFyc2luZ0FsbFZhbHVlcyhmb3JtLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICBpZiAob3B0aW9ucy5kb3QpIHtcbiAgICBPYmplY3QuZW50cmllcyhmb3JtKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGNvbnN0IHNob3VsZFBhcnNlRG90VmFsdWVzID0ga2V5LmluY2x1ZGVzKFwiLlwiKTtcbiAgICAgIGlmIChzaG91bGRQYXJzZURvdFZhbHVlcykge1xuICAgICAgICBoYW5kbGVQYXJzaW5nTmVzdGVkVmFsdWVzKGZvcm0sIGtleSwgdmFsdWUpO1xuICAgICAgICBkZWxldGUgZm9ybVtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBmb3JtO1xufVxudmFyIGhhbmRsZVBhcnNpbmdBbGxWYWx1ZXMgPSAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICBpZiAoZm9ybVtrZXldICE9PSB2b2lkIDApIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JtW2tleV0pKSB7XG4gICAgICA7XG4gICAgICBmb3JtW2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1ba2V5XSA9IFtmb3JtW2tleV0sIHZhbHVlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFrZXkuZW5kc1dpdGgoXCJbXVwiKSkge1xuICAgICAgZm9ybVtrZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1ba2V5XSA9IFt2YWx1ZV07XG4gICAgfVxuICB9XG59O1xudmFyIGhhbmRsZVBhcnNpbmdOZXN0ZWRWYWx1ZXMgPSAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICBsZXQgbmVzdGVkRm9ybSA9IGZvcm07XG4gIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoXCIuXCIpO1xuICBrZXlzLmZvckVhY2goKGtleTIsIGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgIG5lc3RlZEZvcm1ba2V5Ml0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFuZXN0ZWRGb3JtW2tleTJdIHx8IHR5cGVvZiBuZXN0ZWRGb3JtW2tleTJdICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkobmVzdGVkRm9ybVtrZXkyXSkgfHwgbmVzdGVkRm9ybVtrZXkyXSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgbmVzdGVkRm9ybVtrZXkyXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgfVxuICAgICAgbmVzdGVkRm9ybSA9IG5lc3RlZEZvcm1ba2V5Ml07XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQge1xuICBwYXJzZUJvZHlcbn07XG4iLCIvLyBzcmMvdXRpbHMvdXJsLnRzXG52YXIgc3BsaXRQYXRoID0gKHBhdGgpID0+IHtcbiAgY29uc3QgcGF0aHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgaWYgKHBhdGhzWzBdID09PSBcIlwiKSB7XG4gICAgcGF0aHMuc2hpZnQoKTtcbiAgfVxuICByZXR1cm4gcGF0aHM7XG59O1xudmFyIHNwbGl0Um91dGluZ1BhdGggPSAocm91dGVQYXRoKSA9PiB7XG4gIGNvbnN0IHsgZ3JvdXBzLCBwYXRoIH0gPSBleHRyYWN0R3JvdXBzRnJvbVBhdGgocm91dGVQYXRoKTtcbiAgY29uc3QgcGF0aHMgPSBzcGxpdFBhdGgocGF0aCk7XG4gIHJldHVybiByZXBsYWNlR3JvdXBNYXJrcyhwYXRocywgZ3JvdXBzKTtcbn07XG52YXIgZXh0cmFjdEdyb3Vwc0Zyb21QYXRoID0gKHBhdGgpID0+IHtcbiAgY29uc3QgZ3JvdXBzID0gW107XG4gIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xce1tefV0rXFx9L2csIChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBtYXJrID0gYEAke2luZGV4fWA7XG4gICAgZ3JvdXBzLnB1c2goW21hcmssIG1hdGNoXSk7XG4gICAgcmV0dXJuIG1hcms7XG4gIH0pO1xuICByZXR1cm4geyBncm91cHMsIHBhdGggfTtcbn07XG52YXIgcmVwbGFjZUdyb3VwTWFya3MgPSAocGF0aHMsIGdyb3VwcykgPT4ge1xuICBmb3IgKGxldCBpID0gZ3JvdXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgW21hcmtdID0gZ3JvdXBzW2ldO1xuICAgIGZvciAobGV0IGogPSBwYXRocy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgaWYgKHBhdGhzW2pdLmluY2x1ZGVzKG1hcmspKSB7XG4gICAgICAgIHBhdGhzW2pdID0gcGF0aHNbal0ucmVwbGFjZShtYXJrLCBncm91cHNbaV1bMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGhzO1xufTtcbnZhciBwYXR0ZXJuQ2FjaGUgPSB7fTtcbnZhciBnZXRQYXR0ZXJuID0gKGxhYmVsLCBuZXh0KSA9PiB7XG4gIGlmIChsYWJlbCA9PT0gXCIqXCIpIHtcbiAgICByZXR1cm4gXCIqXCI7XG4gIH1cbiAgY29uc3QgbWF0Y2ggPSBsYWJlbC5tYXRjaCgvXlxcOihbXlxce1xcfV0rKSg/OlxceyguKylcXH0pPyQvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHtsYWJlbH0jJHtuZXh0fWA7XG4gICAgaWYgKCFwYXR0ZXJuQ2FjaGVbY2FjaGVLZXldKSB7XG4gICAgICBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgcGF0dGVybkNhY2hlW2NhY2hlS2V5XSA9IG5leHQgJiYgbmV4dFswXSAhPT0gXCI6XCIgJiYgbmV4dFswXSAhPT0gXCIqXCIgPyBbY2FjaGVLZXksIG1hdGNoWzFdLCBuZXcgUmVnRXhwKGBeJHttYXRjaFsyXX0oPz0vJHtuZXh0fSlgKV0gOiBbbGFiZWwsIG1hdGNoWzFdLCBuZXcgUmVnRXhwKGBeJHttYXRjaFsyXX0kYCldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0dGVybkNhY2hlW2NhY2hlS2V5XSA9IFtsYWJlbCwgbWF0Y2hbMV0sIHRydWVdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGF0dGVybkNhY2hlW2NhY2hlS2V5XTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG52YXIgdHJ5RGVjb2RlID0gKHN0ciwgZGVjb2RlcikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVyKHN0cik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvKD86JVswLTlBLUZhLWZdezJ9KSsvZywgKG1hdGNoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlcihtYXRjaCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xudmFyIHRyeURlY29kZVVSSSA9IChzdHIpID0+IHRyeURlY29kZShzdHIsIGRlY29kZVVSSSk7XG52YXIgZ2V0UGF0aCA9IChyZXF1ZXN0KSA9PiB7XG4gIGNvbnN0IHVybCA9IHJlcXVlc3QudXJsO1xuICBjb25zdCBzdGFydCA9IHVybC5pbmRleE9mKFwiL1wiLCB1cmwuaW5kZXhPZihcIjpcIikgKyA0KTtcbiAgbGV0IGkgPSBzdGFydDtcbiAgZm9yICg7IGkgPCB1cmwubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyQ29kZSA9IHVybC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjaGFyQ29kZSA9PT0gMzcpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZihcIj9cIiwgaSk7XG4gICAgICBjb25zdCBwYXRoID0gdXJsLnNsaWNlKHN0YXJ0LCBxdWVyeUluZGV4ID09PSAtMSA/IHZvaWQgMCA6IHF1ZXJ5SW5kZXgpO1xuICAgICAgcmV0dXJuIHRyeURlY29kZVVSSShwYXRoLmluY2x1ZGVzKFwiJTI1XCIpID8gcGF0aC5yZXBsYWNlKC8lMjUvZywgXCIlMjUyNVwiKSA6IHBhdGgpO1xuICAgIH0gZWxzZSBpZiAoY2hhckNvZGUgPT09IDYzKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVybC5zbGljZShzdGFydCwgaSk7XG59O1xudmFyIGdldFF1ZXJ5U3RyaW5ncyA9ICh1cmwpID0+IHtcbiAgY29uc3QgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKFwiP1wiLCA4KTtcbiAgcmV0dXJuIHF1ZXJ5SW5kZXggPT09IC0xID8gXCJcIiA6IFwiP1wiICsgdXJsLnNsaWNlKHF1ZXJ5SW5kZXggKyAxKTtcbn07XG52YXIgZ2V0UGF0aE5vU3RyaWN0ID0gKHJlcXVlc3QpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gZ2V0UGF0aChyZXF1ZXN0KTtcbiAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAxICYmIHJlc3VsdC5hdCgtMSkgPT09IFwiL1wiID8gcmVzdWx0LnNsaWNlKDAsIC0xKSA6IHJlc3VsdDtcbn07XG52YXIgbWVyZ2VQYXRoID0gKGJhc2UsIHN1YiwgLi4ucmVzdCkgPT4ge1xuICBpZiAocmVzdC5sZW5ndGgpIHtcbiAgICBzdWIgPSBtZXJnZVBhdGgoc3ViLCAuLi5yZXN0KTtcbiAgfVxuICByZXR1cm4gYCR7YmFzZT8uWzBdID09PSBcIi9cIiA/IFwiXCIgOiBcIi9cIn0ke2Jhc2V9JHtzdWIgPT09IFwiL1wiID8gXCJcIiA6IGAke2Jhc2U/LmF0KC0xKSA9PT0gXCIvXCIgPyBcIlwiIDogXCIvXCJ9JHtzdWI/LlswXSA9PT0gXCIvXCIgPyBzdWIuc2xpY2UoMSkgOiBzdWJ9YH1gO1xufTtcbnZhciBjaGVja09wdGlvbmFsUGFyYW1ldGVyID0gKHBhdGgpID0+IHtcbiAgaWYgKHBhdGguY2hhckNvZGVBdChwYXRoLmxlbmd0aCAtIDEpICE9PSA2MyB8fCAhcGF0aC5pbmNsdWRlcyhcIjpcIikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGxldCBiYXNlUGF0aCA9IFwiXCI7XG4gIHNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQpID0+IHtcbiAgICBpZiAoc2VnbWVudCAhPT0gXCJcIiAmJiAhL1xcOi8udGVzdChzZWdtZW50KSkge1xuICAgICAgYmFzZVBhdGggKz0gXCIvXCIgKyBzZWdtZW50O1xuICAgIH0gZWxzZSBpZiAoL1xcOi8udGVzdChzZWdtZW50KSkge1xuICAgICAgaWYgKC9cXD8vLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwICYmIGJhc2VQYXRoID09PSBcIlwiKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKFwiL1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goYmFzZVBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbmFsU2VnbWVudCA9IHNlZ21lbnQucmVwbGFjZShcIj9cIiwgXCJcIik7XG4gICAgICAgIGJhc2VQYXRoICs9IFwiL1wiICsgb3B0aW9uYWxTZWdtZW50O1xuICAgICAgICByZXN1bHRzLnB1c2goYmFzZVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZVBhdGggKz0gXCIvXCIgKyBzZWdtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRzLmZpbHRlcigodiwgaSwgYSkgPT4gYS5pbmRleE9mKHYpID09PSBpKTtcbn07XG52YXIgX2RlY29kZVVSSSA9ICh2YWx1ZSkgPT4ge1xuICBpZiAoIS9bJStdLy50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUuaW5kZXhPZihcIitcIikgIT09IC0xKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpO1xuICB9XG4gIHJldHVybiB2YWx1ZS5pbmRleE9mKFwiJVwiKSAhPT0gLTEgPyB0cnlEZWNvZGUodmFsdWUsIGRlY29kZVVSSUNvbXBvbmVudF8pIDogdmFsdWU7XG59O1xudmFyIF9nZXRRdWVyeVBhcmFtID0gKHVybCwga2V5LCBtdWx0aXBsZSkgPT4ge1xuICBsZXQgZW5jb2RlZDtcbiAgaWYgKCFtdWx0aXBsZSAmJiBrZXkgJiYgIS9bJStdLy50ZXN0KGtleSkpIHtcbiAgICBsZXQga2V5SW5kZXgyID0gdXJsLmluZGV4T2YoXCI/XCIsIDgpO1xuICAgIGlmIChrZXlJbmRleDIgPT09IC0xKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIXVybC5zdGFydHNXaXRoKGtleSwga2V5SW5kZXgyICsgMSkpIHtcbiAgICAgIGtleUluZGV4MiA9IHVybC5pbmRleE9mKGAmJHtrZXl9YCwga2V5SW5kZXgyICsgMSk7XG4gICAgfVxuICAgIHdoaWxlIChrZXlJbmRleDIgIT09IC0xKSB7XG4gICAgICBjb25zdCB0cmFpbGluZ0tleUNvZGUgPSB1cmwuY2hhckNvZGVBdChrZXlJbmRleDIgKyBrZXkubGVuZ3RoICsgMSk7XG4gICAgICBpZiAodHJhaWxpbmdLZXlDb2RlID09PSA2MSkge1xuICAgICAgICBjb25zdCB2YWx1ZUluZGV4ID0ga2V5SW5kZXgyICsga2V5Lmxlbmd0aCArIDI7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdXJsLmluZGV4T2YoXCImXCIsIHZhbHVlSW5kZXgpO1xuICAgICAgICByZXR1cm4gX2RlY29kZVVSSSh1cmwuc2xpY2UodmFsdWVJbmRleCwgZW5kSW5kZXggPT09IC0xID8gdm9pZCAwIDogZW5kSW5kZXgpKTtcbiAgICAgIH0gZWxzZSBpZiAodHJhaWxpbmdLZXlDb2RlID09IDM4IHx8IGlzTmFOKHRyYWlsaW5nS2V5Q29kZSkpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgICBrZXlJbmRleDIgPSB1cmwuaW5kZXhPZihgJiR7a2V5fWAsIGtleUluZGV4MiArIDEpO1xuICAgIH1cbiAgICBlbmNvZGVkID0gL1slK10vLnRlc3QodXJsKTtcbiAgICBpZiAoIWVuY29kZWQpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdHMgPSB7fTtcbiAgZW5jb2RlZCA/Pz0gL1slK10vLnRlc3QodXJsKTtcbiAgbGV0IGtleUluZGV4ID0gdXJsLmluZGV4T2YoXCI/XCIsIDgpO1xuICB3aGlsZSAoa2V5SW5kZXggIT09IC0xKSB7XG4gICAgY29uc3QgbmV4dEtleUluZGV4ID0gdXJsLmluZGV4T2YoXCImXCIsIGtleUluZGV4ICsgMSk7XG4gICAgbGV0IHZhbHVlSW5kZXggPSB1cmwuaW5kZXhPZihcIj1cIiwga2V5SW5kZXgpO1xuICAgIGlmICh2YWx1ZUluZGV4ID4gbmV4dEtleUluZGV4ICYmIG5leHRLZXlJbmRleCAhPT0gLTEpIHtcbiAgICAgIHZhbHVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgbGV0IG5hbWUgPSB1cmwuc2xpY2UoXG4gICAgICBrZXlJbmRleCArIDEsXG4gICAgICB2YWx1ZUluZGV4ID09PSAtMSA/IG5leHRLZXlJbmRleCA9PT0gLTEgPyB2b2lkIDAgOiBuZXh0S2V5SW5kZXggOiB2YWx1ZUluZGV4XG4gICAgKTtcbiAgICBpZiAoZW5jb2RlZCkge1xuICAgICAgbmFtZSA9IF9kZWNvZGVVUkkobmFtZSk7XG4gICAgfVxuICAgIGtleUluZGV4ID0gbmV4dEtleUluZGV4O1xuICAgIGlmIChuYW1lID09PSBcIlwiKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICh2YWx1ZUluZGV4ID09PSAtMSkge1xuICAgICAgdmFsdWUgPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IHVybC5zbGljZSh2YWx1ZUluZGV4ICsgMSwgbmV4dEtleUluZGV4ID09PSAtMSA/IHZvaWQgMCA6IG5leHRLZXlJbmRleCk7XG4gICAgICBpZiAoZW5jb2RlZCkge1xuICAgICAgICB2YWx1ZSA9IF9kZWNvZGVVUkkodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgIGlmICghKHJlc3VsdHNbbmFtZV0gJiYgQXJyYXkuaXNBcnJheShyZXN1bHRzW25hbWVdKSkpIHtcbiAgICAgICAgcmVzdWx0c1tuYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgO1xuICAgICAgcmVzdWx0c1tuYW1lXS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0c1tuYW1lXSA/Pz0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBrZXkgPyByZXN1bHRzW2tleV0gOiByZXN1bHRzO1xufTtcbnZhciBnZXRRdWVyeVBhcmFtID0gX2dldFF1ZXJ5UGFyYW07XG52YXIgZ2V0UXVlcnlQYXJhbXMgPSAodXJsLCBrZXkpID0+IHtcbiAgcmV0dXJuIF9nZXRRdWVyeVBhcmFtKHVybCwga2V5LCB0cnVlKTtcbn07XG52YXIgZGVjb2RlVVJJQ29tcG9uZW50XyA9IGRlY29kZVVSSUNvbXBvbmVudDtcbmV4cG9ydCB7XG4gIGNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIsXG4gIGRlY29kZVVSSUNvbXBvbmVudF8sXG4gIGdldFBhdGgsXG4gIGdldFBhdGhOb1N0cmljdCxcbiAgZ2V0UGF0dGVybixcbiAgZ2V0UXVlcnlQYXJhbSxcbiAgZ2V0UXVlcnlQYXJhbXMsXG4gIGdldFF1ZXJ5U3RyaW5ncyxcbiAgbWVyZ2VQYXRoLFxuICBzcGxpdFBhdGgsXG4gIHNwbGl0Um91dGluZ1BhdGgsXG4gIHRyeURlY29kZVxufTtcbiIsIi8vIHNyYy9yZXF1ZXN0LnRzXG5pbXBvcnQgeyBIVFRQRXhjZXB0aW9uIH0gZnJvbSBcIi4vaHR0cC1leGNlcHRpb24uanNcIjtcbmltcG9ydCB7IEdFVF9NQVRDSF9SRVNVTFQgfSBmcm9tIFwiLi9yZXF1ZXN0L2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCb2R5IH0gZnJvbSBcIi4vdXRpbHMvYm9keS5qc1wiO1xuaW1wb3J0IHsgZGVjb2RlVVJJQ29tcG9uZW50XywgZ2V0UXVlcnlQYXJhbSwgZ2V0UXVlcnlQYXJhbXMsIHRyeURlY29kZSB9IGZyb20gXCIuL3V0aWxzL3VybC5qc1wiO1xudmFyIHRyeURlY29kZVVSSUNvbXBvbmVudCA9IChzdHIpID0+IHRyeURlY29kZShzdHIsIGRlY29kZVVSSUNvbXBvbmVudF8pO1xudmFyIEhvbm9SZXF1ZXN0ID0gY2xhc3Mge1xuICAvKipcbiAgICogYC5yYXdgIGNhbiBnZXQgdGhlIHJhdyBSZXF1ZXN0IG9iamVjdC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I3Jhd31cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gRm9yIENsb3VkZmxhcmUgV29ya2Vyc1xuICAgKiBhcHAucG9zdCgnLycsIGFzeW5jIChjKSA9PiB7XG4gICAqICAgY29uc3QgbWV0YWRhdGEgPSBjLnJlcS5yYXcuY2Y/Lmhvc3RNZXRhZGF0YT9cbiAgICogICAuLi5cbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICByYXc7XG4gICN2YWxpZGF0ZWREYXRhO1xuICAvLyBTaG9ydCBuYW1lIG9mIHZhbGlkYXRlZERhdGFcbiAgI21hdGNoUmVzdWx0O1xuICByb3V0ZUluZGV4ID0gMDtcbiAgLyoqXG4gICAqIGAucGF0aGAgY2FuIGdldCB0aGUgcGF0aG5hbWUgb2YgdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNwYXRofVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvYWJvdXQvbWUnLCAoYykgPT4ge1xuICAgKiAgIGNvbnN0IHBhdGhuYW1lID0gYy5yZXEucGF0aCAvLyBgL2Fib3V0L21lYFxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIHBhdGg7XG4gIGJvZHlDYWNoZSA9IHt9O1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0LCBwYXRoID0gXCIvXCIsIG1hdGNoUmVzdWx0ID0gW1tdXSkge1xuICAgIHRoaXMucmF3ID0gcmVxdWVzdDtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuI21hdGNoUmVzdWx0ID0gbWF0Y2hSZXN1bHQ7XG4gICAgdGhpcy4jdmFsaWRhdGVkRGF0YSA9IHt9O1xuICB9XG4gIHBhcmFtKGtleSkge1xuICAgIHJldHVybiBrZXkgPyB0aGlzLiNnZXREZWNvZGVkUGFyYW0oa2V5KSA6IHRoaXMuI2dldEFsbERlY29kZWRQYXJhbXMoKTtcbiAgfVxuICAjZ2V0RGVjb2RlZFBhcmFtKGtleSkge1xuICAgIGNvbnN0IHBhcmFtS2V5ID0gdGhpcy4jbWF0Y2hSZXN1bHRbMF1bdGhpcy5yb3V0ZUluZGV4XVsxXVtrZXldO1xuICAgIGNvbnN0IHBhcmFtID0gdGhpcy4jZ2V0UGFyYW1WYWx1ZShwYXJhbUtleSk7XG4gICAgcmV0dXJuIHBhcmFtICYmIC9cXCUvLnRlc3QocGFyYW0pID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSA6IHBhcmFtO1xuICB9XG4gICNnZXRBbGxEZWNvZGVkUGFyYW1zKCkge1xuICAgIGNvbnN0IGRlY29kZWQgPSB7fTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy4jbWF0Y2hSZXN1bHRbMF1bdGhpcy5yb3V0ZUluZGV4XVsxXSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLiNnZXRQYXJhbVZhbHVlKHRoaXMuI21hdGNoUmVzdWx0WzBdW3RoaXMucm91dGVJbmRleF1bMV1ba2V5XSk7XG4gICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICBkZWNvZGVkW2tleV0gPSAvXFwlLy50ZXN0KHZhbHVlKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZWQ7XG4gIH1cbiAgI2dldFBhcmFtVmFsdWUocGFyYW1LZXkpIHtcbiAgICByZXR1cm4gdGhpcy4jbWF0Y2hSZXN1bHRbMV0gPyB0aGlzLiNtYXRjaFJlc3VsdFsxXVtwYXJhbUtleV0gOiBwYXJhbUtleTtcbiAgfVxuICBxdWVyeShrZXkpIHtcbiAgICByZXR1cm4gZ2V0UXVlcnlQYXJhbSh0aGlzLnVybCwga2V5KTtcbiAgfVxuICBxdWVyaWVzKGtleSkge1xuICAgIHJldHVybiBnZXRRdWVyeVBhcmFtcyh0aGlzLnVybCwga2V5KTtcbiAgfVxuICBoZWFkZXIobmFtZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5yYXcuaGVhZGVycy5nZXQobmFtZSkgPz8gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJEYXRhID0ge307XG4gICAgdGhpcy5yYXcuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBoZWFkZXJEYXRhW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVyRGF0YTtcbiAgfVxuICBhc3luYyBwYXJzZUJvZHkob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmJvZHlDYWNoZS5wYXJzZWRCb2R5ID8/PSBhd2FpdCBwYXJzZUJvZHkodGhpcywgb3B0aW9ucyk7XG4gIH1cbiAgI2NhY2hlZEJvZHkgPSAoa2V5KSA9PiB7XG4gICAgY29uc3QgeyBib2R5Q2FjaGUsIHJhdyB9ID0gdGhpcztcbiAgICBjb25zdCBjYWNoZWRCb2R5ID0gYm9keUNhY2hlW2tleV07XG4gICAgaWYgKGNhY2hlZEJvZHkpIHtcbiAgICAgIHJldHVybiBjYWNoZWRCb2R5O1xuICAgIH1cbiAgICBjb25zdCBhbnlDYWNoZWRLZXkgPSBPYmplY3Qua2V5cyhib2R5Q2FjaGUpWzBdO1xuICAgIGlmIChhbnlDYWNoZWRLZXkpIHtcbiAgICAgIHJldHVybiBib2R5Q2FjaGVbYW55Q2FjaGVkS2V5XS50aGVuKChib2R5KSA9PiB7XG4gICAgICAgIGlmIChhbnlDYWNoZWRLZXkgPT09IFwianNvblwiKSB7XG4gICAgICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoYm9keSlba2V5XSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBib2R5Q2FjaGVba2V5XSA9IHJhd1trZXldKCk7XG4gIH07XG4gIC8qKlxuICAgKiBgLmpzb24oKWAgY2FuIHBhcnNlIFJlcXVlc3QgYm9keSBvZiB0eXBlIGBhcHBsaWNhdGlvbi9qc29uYFxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JlcXVlc3QjanNvbn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLnBvc3QoJy9lbnRyeScsIGFzeW5jIChjKSA9PiB7XG4gICAqICAgY29uc3QgYm9keSA9IGF3YWl0IGMucmVxLmpzb24oKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGpzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhY2hlZEJvZHkoXCJ0ZXh0XCIpLnRoZW4oKHRleHQpID0+IEpTT04ucGFyc2UodGV4dCkpO1xuICB9XG4gIC8qKlxuICAgKiBgLnRleHQoKWAgY2FuIHBhcnNlIFJlcXVlc3QgYm9keSBvZiB0eXBlIGB0ZXh0L3BsYWluYFxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JlcXVlc3QjdGV4dH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLnBvc3QoJy9lbnRyeScsIGFzeW5jIChjKSA9PiB7XG4gICAqICAgY29uc3QgYm9keSA9IGF3YWl0IGMucmVxLnRleHQoKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhY2hlZEJvZHkoXCJ0ZXh0XCIpO1xuICB9XG4gIC8qKlxuICAgKiBgLmFycmF5QnVmZmVyKClgIHBhcnNlIFJlcXVlc3QgYm9keSBhcyBhbiBgQXJyYXlCdWZmZXJgXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNhcnJheWJ1ZmZlcn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLnBvc3QoJy9lbnRyeScsIGFzeW5jIChjKSA9PiB7XG4gICAqICAgY29uc3QgYm9keSA9IGF3YWl0IGMucmVxLmFycmF5QnVmZmVyKClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBhcnJheUJ1ZmZlcigpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FjaGVkQm9keShcImFycmF5QnVmZmVyXCIpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZXMgdGhlIHJlcXVlc3QgYm9keSBhcyBhIGBCbG9iYC5cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLnBvc3QoJy9lbnRyeScsIGFzeW5jIChjKSA9PiB7XG4gICAqICAgY29uc3QgYm9keSA9IGF3YWl0IGMucmVxLmJsb2IoKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNibG9iXG4gICAqL1xuICBibG9iKCkge1xuICAgIHJldHVybiB0aGlzLiNjYWNoZWRCb2R5KFwiYmxvYlwiKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2VzIHRoZSByZXF1ZXN0IGJvZHkgYXMgYEZvcm1EYXRhYC5cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLnBvc3QoJy9lbnRyeScsIGFzeW5jIChjKSA9PiB7XG4gICAqICAgY29uc3QgYm9keSA9IGF3YWl0IGMucmVxLmZvcm1EYXRhKCk7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHNlZSBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JlcXVlc3QjZm9ybWRhdGFcbiAgICovXG4gIGZvcm1EYXRhKCkge1xuICAgIHJldHVybiB0aGlzLiNjYWNoZWRCb2R5KFwiZm9ybURhdGFcIik7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgdmFsaWRhdGVkIGRhdGEgdG8gdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSB2YWxpZGF0ZWQgZGF0YSB0byBhZGQuXG4gICAqL1xuICBhZGRWYWxpZGF0ZWREYXRhKHRhcmdldCwgZGF0YSkge1xuICAgIHRoaXMuI3ZhbGlkYXRlZERhdGFbdGFyZ2V0XSA9IGRhdGE7XG4gIH1cbiAgdmFsaWQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuI3ZhbGlkYXRlZERhdGFbdGFyZ2V0XTtcbiAgfVxuICAvKipcbiAgICogYC51cmwoKWAgY2FuIGdldCB0aGUgcmVxdWVzdCB1cmwgc3RyaW5ncy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I3VybH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnL2Fib3V0L21lJywgKGMpID0+IHtcbiAgICogICBjb25zdCB1cmwgPSBjLnJlcS51cmwgLy8gYGh0dHA6Ly9sb2NhbGhvc3Q6ODc4Ny9hYm91dC9tZWBcbiAgICogICAuLi5cbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLnJhdy51cmw7XG4gIH1cbiAgLyoqXG4gICAqIGAubWV0aG9kKClgIGNhbiBnZXQgdGhlIG1ldGhvZCBuYW1lIG9mIHRoZSByZXF1ZXN0LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JlcXVlc3QjbWV0aG9kfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvYWJvdXQvbWUnLCAoYykgPT4ge1xuICAgKiAgIGNvbnN0IG1ldGhvZCA9IGMucmVxLm1ldGhvZCAvLyBgR0VUYFxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGdldCBtZXRob2QoKSB7XG4gICAgcmV0dXJuIHRoaXMucmF3Lm1ldGhvZDtcbiAgfVxuICBnZXQgW0dFVF9NQVRDSF9SRVNVTFRdKCkge1xuICAgIHJldHVybiB0aGlzLiNtYXRjaFJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogYC5tYXRjaGVkUm91dGVzKClgIGNhbiByZXR1cm4gYSBtYXRjaGVkIHJvdXRlIGluIHRoZSBoYW5kbGVyXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqXG4gICAqIFVzZSBtYXRjaGVkUm91dGVzIGhlbHBlciBkZWZpbmVkIGluIFwiaG9uby9yb3V0ZVwiIGluc3RlYWQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNtYXRjaGVkcm91dGVzfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAudXNlKCcqJywgYXN5bmMgZnVuY3Rpb24gbG9nZ2VyKGMsIG5leHQpIHtcbiAgICogICBhd2FpdCBuZXh0KClcbiAgICogICBjLnJlcS5tYXRjaGVkUm91dGVzLmZvckVhY2goKHsgaGFuZGxlciwgbWV0aG9kLCBwYXRoIH0sIGkpID0+IHtcbiAgICogICAgIGNvbnN0IG5hbWUgPSBoYW5kbGVyLm5hbWUgfHwgKGhhbmRsZXIubGVuZ3RoIDwgMiA/ICdbaGFuZGxlcl0nIDogJ1ttaWRkbGV3YXJlXScpXG4gICAqICAgICBjb25zb2xlLmxvZyhcbiAgICogICAgICAgbWV0aG9kLFxuICAgKiAgICAgICAnICcsXG4gICAqICAgICAgIHBhdGgsXG4gICAqICAgICAgICcgJy5yZXBlYXQoTWF0aC5tYXgoMTAgLSBwYXRoLmxlbmd0aCwgMCkpLFxuICAgKiAgICAgICBuYW1lLFxuICAgKiAgICAgICBpID09PSBjLnJlcS5yb3V0ZUluZGV4ID8gJzwtIHJlc3BvbmQgZnJvbSBoZXJlJyA6ICcnXG4gICAqICAgICApXG4gICAqICAgfSlcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBnZXQgbWF0Y2hlZFJvdXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy4jbWF0Y2hSZXN1bHRbMF0ubWFwKChbWywgcm91dGVdXSkgPT4gcm91dGUpO1xuICB9XG4gIC8qKlxuICAgKiBgcm91dGVQYXRoKClgIGNhbiByZXRyaWV2ZSB0aGUgcGF0aCByZWdpc3RlcmVkIHdpdGhpbiB0aGUgaGFuZGxlclxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKlxuICAgKiBVc2Ugcm91dGVQYXRoIGhlbHBlciBkZWZpbmVkIGluIFwiaG9uby9yb3V0ZVwiIGluc3RlYWQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNyb3V0ZXBhdGh9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5nZXQoJy9wb3N0cy86aWQnLCAoYykgPT4ge1xuICAgKiAgIHJldHVybiBjLmpzb24oeyBwYXRoOiBjLnJlcS5yb3V0ZVBhdGggfSlcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBnZXQgcm91dGVQYXRoKCkge1xuICAgIHJldHVybiB0aGlzLiNtYXRjaFJlc3VsdFswXS5tYXAoKFtbLCByb3V0ZV1dKSA9PiByb3V0ZSlbdGhpcy5yb3V0ZUluZGV4XS5wYXRoO1xuICB9XG59O1xudmFyIGNsb25lUmF3UmVxdWVzdCA9IGFzeW5jIChyZXEpID0+IHtcbiAgaWYgKCFyZXEucmF3LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIHJlcS5yYXcuY2xvbmUoKTtcbiAgfVxuICBjb25zdCBjYWNoZUtleSA9IE9iamVjdC5rZXlzKHJlcS5ib2R5Q2FjaGUpWzBdO1xuICBpZiAoIWNhY2hlS2V5KSB7XG4gICAgdGhyb3cgbmV3IEhUVFBFeGNlcHRpb24oNTAwLCB7XG4gICAgICBtZXNzYWdlOiBcIkNhbm5vdCBjbG9uZSByZXF1ZXN0OiBib2R5IHdhcyBhbHJlYWR5IGNvbnN1bWVkIGFuZCBub3QgY2FjaGVkLiBQbGVhc2UgdXNlIEhvbm9SZXF1ZXN0IG1ldGhvZHMgKGUuZy4sIHJlcS5qc29uKCksIHJlcS50ZXh0KCkpIGluc3RlYWQgb2YgY29uc3VtaW5nIHJlcS5yYXcgZGlyZWN0bHkuXCJcbiAgICB9KTtcbiAgfVxuICBjb25zdCByZXF1ZXN0SW5pdCA9IHtcbiAgICBib2R5OiBhd2FpdCByZXFbY2FjaGVLZXldKCksXG4gICAgY2FjaGU6IHJlcS5yYXcuY2FjaGUsXG4gICAgY3JlZGVudGlhbHM6IHJlcS5yYXcuY3JlZGVudGlhbHMsXG4gICAgaGVhZGVyczogcmVxLmhlYWRlcigpLFxuICAgIGludGVncml0eTogcmVxLnJhdy5pbnRlZ3JpdHksXG4gICAga2VlcGFsaXZlOiByZXEucmF3LmtlZXBhbGl2ZSxcbiAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgbW9kZTogcmVxLnJhdy5tb2RlLFxuICAgIHJlZGlyZWN0OiByZXEucmF3LnJlZGlyZWN0LFxuICAgIHJlZmVycmVyOiByZXEucmF3LnJlZmVycmVyLFxuICAgIHJlZmVycmVyUG9saWN5OiByZXEucmF3LnJlZmVycmVyUG9saWN5LFxuICAgIHNpZ25hbDogcmVxLnJhdy5zaWduYWxcbiAgfTtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHJlcS51cmwsIHJlcXVlc3RJbml0KTtcbn07XG5leHBvcnQge1xuICBIb25vUmVxdWVzdCxcbiAgY2xvbmVSYXdSZXF1ZXN0XG59O1xuIiwiLy8gc3JjL3V0aWxzL2h0bWwudHNcbnZhciBIdG1sRXNjYXBlZENhbGxiYWNrUGhhc2UgPSB7XG4gIFN0cmluZ2lmeTogMSxcbiAgQmVmb3JlU3RyZWFtOiAyLFxuICBTdHJlYW06IDNcbn07XG52YXIgcmF3ID0gKHZhbHVlLCBjYWxsYmFja3MpID0+IHtcbiAgY29uc3QgZXNjYXBlZFN0cmluZyA9IG5ldyBTdHJpbmcodmFsdWUpO1xuICBlc2NhcGVkU3RyaW5nLmlzRXNjYXBlZCA9IHRydWU7XG4gIGVzY2FwZWRTdHJpbmcuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICByZXR1cm4gZXNjYXBlZFN0cmluZztcbn07XG52YXIgZXNjYXBlUmUgPSAvWyY8PidcIl0vO1xudmFyIHN0cmluZ0J1ZmZlclRvU3RyaW5nID0gYXN5bmMgKGJ1ZmZlciwgY2FsbGJhY2tzKSA9PiB7XG4gIGxldCBzdHIgPSBcIlwiO1xuICBjYWxsYmFja3MgfHw9IFtdO1xuICBjb25zdCByZXNvbHZlZEJ1ZmZlciA9IGF3YWl0IFByb21pc2UuYWxsKGJ1ZmZlcik7XG4gIGZvciAobGV0IGkgPSByZXNvbHZlZEJ1ZmZlci5sZW5ndGggLSAxOyA7IGktLSkge1xuICAgIHN0ciArPSByZXNvbHZlZEJ1ZmZlcltpXTtcbiAgICBpLS07XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbGV0IHIgPSByZXNvbHZlZEJ1ZmZlcltpXTtcbiAgICBpZiAodHlwZW9mIHIgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKC4uLnIuY2FsbGJhY2tzIHx8IFtdKTtcbiAgICB9XG4gICAgY29uc3QgaXNFc2NhcGVkID0gci5pc0VzY2FwZWQ7XG4gICAgciA9IGF3YWl0ICh0eXBlb2YgciA9PT0gXCJvYmplY3RcIiA/IHIudG9TdHJpbmcoKSA6IHIpO1xuICAgIGlmICh0eXBlb2YgciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY2FsbGJhY2tzLnB1c2goLi4uci5jYWxsYmFja3MgfHwgW10pO1xuICAgIH1cbiAgICBpZiAoci5pc0VzY2FwZWQgPz8gaXNFc2NhcGVkKSB7XG4gICAgICBzdHIgKz0gcjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYnVmID0gW3N0cl07XG4gICAgICBlc2NhcGVUb0J1ZmZlcihyLCBidWYpO1xuICAgICAgc3RyID0gYnVmWzBdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmF3KHN0ciwgY2FsbGJhY2tzKTtcbn07XG52YXIgZXNjYXBlVG9CdWZmZXIgPSAoc3RyLCBidWZmZXIpID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBzdHIuc2VhcmNoKGVzY2FwZVJlKTtcbiAgaWYgKG1hdGNoID09PSAtMSkge1xuICAgIGJ1ZmZlclswXSArPSBzdHI7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBlc2NhcGU7XG4gIGxldCBpbmRleDtcbiAgbGV0IGxhc3RJbmRleCA9IDA7XG4gIGZvciAoaW5kZXggPSBtYXRjaDsgaW5kZXggPCBzdHIubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgc3dpdGNoIChzdHIuY2hhckNvZGVBdChpbmRleCkpIHtcbiAgICAgIGNhc2UgMzQ6XG4gICAgICAgIGVzY2FwZSA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOTpcbiAgICAgICAgZXNjYXBlID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIGVzY2FwZSA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYwOlxuICAgICAgICBlc2NhcGUgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGUgPSBcIiZndDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgYnVmZmVyWzBdICs9IHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCkgKyBlc2NhcGU7XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICB9XG4gIGJ1ZmZlclswXSArPSBzdHIuc3Vic3RyaW5nKGxhc3RJbmRleCwgaW5kZXgpO1xufTtcbnZhciByZXNvbHZlQ2FsbGJhY2tTeW5jID0gKHN0cikgPT4ge1xuICBjb25zdCBjYWxsYmFja3MgPSBzdHIuY2FsbGJhY2tzO1xuICBpZiAoIWNhbGxiYWNrcz8ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBjb25zdCBidWZmZXIgPSBbc3RyXTtcbiAgY29uc3QgY29udGV4dCA9IHt9O1xuICBjYWxsYmFja3MuZm9yRWFjaCgoYykgPT4gYyh7IHBoYXNlOiBIdG1sRXNjYXBlZENhbGxiYWNrUGhhc2UuU3RyaW5naWZ5LCBidWZmZXIsIGNvbnRleHQgfSkpO1xuICByZXR1cm4gYnVmZmVyWzBdO1xufTtcbnZhciByZXNvbHZlQ2FsbGJhY2sgPSBhc3luYyAoc3RyLCBwaGFzZSwgcHJlc2VydmVDYWxsYmFja3MsIGNvbnRleHQsIGJ1ZmZlcikgPT4ge1xuICBpZiAodHlwZW9mIHN0ciA9PT0gXCJvYmplY3RcIiAmJiAhKHN0ciBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICBpZiAoIShzdHIgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgc3RyID0gc3RyLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmIChzdHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICBzdHIgPSBhd2FpdCBzdHI7XG4gICAgfVxuICB9XG4gIGNvbnN0IGNhbGxiYWNrcyA9IHN0ci5jYWxsYmFja3M7XG4gIGlmICghY2FsbGJhY2tzPy5sZW5ndGgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0cik7XG4gIH1cbiAgaWYgKGJ1ZmZlcikge1xuICAgIGJ1ZmZlclswXSArPSBzdHI7XG4gIH0gZWxzZSB7XG4gICAgYnVmZmVyID0gW3N0cl07XG4gIH1cbiAgY29uc3QgcmVzU3RyID0gUHJvbWlzZS5hbGwoY2FsbGJhY2tzLm1hcCgoYykgPT4gYyh7IHBoYXNlLCBidWZmZXIsIGNvbnRleHQgfSkpKS50aGVuKFxuICAgIChyZXMpID0+IFByb21pc2UuYWxsKFxuICAgICAgcmVzLmZpbHRlcihCb29sZWFuKS5tYXAoKHN0cjIpID0+IHJlc29sdmVDYWxsYmFjayhzdHIyLCBwaGFzZSwgZmFsc2UsIGNvbnRleHQsIGJ1ZmZlcikpXG4gICAgKS50aGVuKCgpID0+IGJ1ZmZlclswXSlcbiAgKTtcbiAgaWYgKHByZXNlcnZlQ2FsbGJhY2tzKSB7XG4gICAgcmV0dXJuIHJhdyhhd2FpdCByZXNTdHIsIGNhbGxiYWNrcyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc1N0cjtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIEh0bWxFc2NhcGVkQ2FsbGJhY2tQaGFzZSxcbiAgZXNjYXBlVG9CdWZmZXIsXG4gIHJhdyxcbiAgcmVzb2x2ZUNhbGxiYWNrLFxuICByZXNvbHZlQ2FsbGJhY2tTeW5jLFxuICBzdHJpbmdCdWZmZXJUb1N0cmluZ1xufTtcbiIsIi8vIHNyYy9jb250ZXh0LnRzXG5pbXBvcnQgeyBIb25vUmVxdWVzdCB9IGZyb20gXCIuL3JlcXVlc3QuanNcIjtcbmltcG9ydCB7IEh0bWxFc2NhcGVkQ2FsbGJhY2tQaGFzZSwgcmVzb2x2ZUNhbGxiYWNrIH0gZnJvbSBcIi4vdXRpbHMvaHRtbC5qc1wiO1xudmFyIFRFWFRfUExBSU4gPSBcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIjtcbnZhciBzZXREZWZhdWx0Q29udGVudFR5cGUgPSAoY29udGVudFR5cGUsIGhlYWRlcnMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBjb250ZW50VHlwZSxcbiAgICAuLi5oZWFkZXJzXG4gIH07XG59O1xudmFyIENvbnRleHQgPSBjbGFzcyB7XG4gICNyYXdSZXF1ZXN0O1xuICAjcmVxO1xuICAvKipcbiAgICogYC5lbnZgIGNhbiBnZXQgYmluZGluZ3MgKGVudmlyb25tZW50IHZhcmlhYmxlcywgc2VjcmV0cywgS1YgbmFtZXNwYWNlcywgRDEgZGF0YWJhc2UsIFIyIGJ1Y2tldCBldGMuKSBpbiBDbG91ZGZsYXJlIFdvcmtlcnMuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNlbnZ9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEVudmlyb25tZW50IG9iamVjdCBmb3IgQ2xvdWRmbGFyZSBXb3JrZXJzXG4gICAqIGFwcC5nZXQoJyonLCBhc3luYyBjID0+IHtcbiAgICogICBjb25zdCBjb3VudGVyID0gYy5lbnYuQ09VTlRFUlxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGVudiA9IHt9O1xuICAjdmFyO1xuICBmaW5hbGl6ZWQgPSBmYWxzZTtcbiAgLyoqXG4gICAqIGAuZXJyb3JgIGNhbiBnZXQgdGhlIGVycm9yIG9iamVjdCBmcm9tIHRoZSBtaWRkbGV3YXJlIGlmIHRoZSBIYW5kbGVyIHRocm93cyBhbiBlcnJvci5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I2Vycm9yfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAudXNlKCcqJywgYXN5bmMgKGMsIG5leHQpID0+IHtcbiAgICogICBhd2FpdCBuZXh0KClcbiAgICogICBpZiAoYy5lcnJvcikge1xuICAgKiAgICAgLy8gZG8gc29tZXRoaW5nLi4uXG4gICAqICAgfVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGVycm9yO1xuICAjc3RhdHVzO1xuICAjZXhlY3V0aW9uQ3R4O1xuICAjcmVzO1xuICAjbGF5b3V0O1xuICAjcmVuZGVyZXI7XG4gICNub3RGb3VuZEhhbmRsZXI7XG4gICNwcmVwYXJlZEhlYWRlcnM7XG4gICNtYXRjaFJlc3VsdDtcbiAgI3BhdGg7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBDb250ZXh0IGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVxIC0gVGhlIFJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGNvbnRleHQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZXEsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiNyYXdSZXF1ZXN0ID0gcmVxO1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLiNleGVjdXRpb25DdHggPSBvcHRpb25zLmV4ZWN1dGlvbkN0eDtcbiAgICAgIHRoaXMuZW52ID0gb3B0aW9ucy5lbnY7XG4gICAgICB0aGlzLiNub3RGb3VuZEhhbmRsZXIgPSBvcHRpb25zLm5vdEZvdW5kSGFuZGxlcjtcbiAgICAgIHRoaXMuI3BhdGggPSBvcHRpb25zLnBhdGg7XG4gICAgICB0aGlzLiNtYXRjaFJlc3VsdCA9IG9wdGlvbnMubWF0Y2hSZXN1bHQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBgLnJlcWAgaXMgdGhlIGluc3RhbmNlIG9mIHtAbGluayBIb25vUmVxdWVzdH0uXG4gICAqL1xuICBnZXQgcmVxKCkge1xuICAgIHRoaXMuI3JlcSA/Pz0gbmV3IEhvbm9SZXF1ZXN0KHRoaXMuI3Jhd1JlcXVlc3QsIHRoaXMuI3BhdGgsIHRoaXMuI21hdGNoUmVzdWx0KTtcbiAgICByZXR1cm4gdGhpcy4jcmVxO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjZXZlbnR9XG4gICAqIFRoZSBGZXRjaEV2ZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCByZXF1ZXN0LlxuICAgKlxuICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIEZldGNoRXZlbnQuXG4gICAqL1xuICBnZXQgZXZlbnQoKSB7XG4gICAgaWYgKHRoaXMuI2V4ZWN1dGlvbkN0eCAmJiBcInJlc3BvbmRXaXRoXCIgaW4gdGhpcy4jZXhlY3V0aW9uQ3R4KSB7XG4gICAgICByZXR1cm4gdGhpcy4jZXhlY3V0aW9uQ3R4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlRoaXMgY29udGV4dCBoYXMgbm8gRmV0Y2hFdmVudFwiKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNleGVjdXRpb25jdHh9XG4gICAqIFRoZSBFeGVjdXRpb25Db250ZXh0IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCByZXF1ZXN0LlxuICAgKlxuICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhbiBFeGVjdXRpb25Db250ZXh0LlxuICAgKi9cbiAgZ2V0IGV4ZWN1dGlvbkN0eCgpIHtcbiAgICBpZiAodGhpcy4jZXhlY3V0aW9uQ3R4KSB7XG4gICAgICByZXR1cm4gdGhpcy4jZXhlY3V0aW9uQ3R4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlRoaXMgY29udGV4dCBoYXMgbm8gRXhlY3V0aW9uQ29udGV4dFwiKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNyZXN9XG4gICAqIFRoZSBSZXNwb25zZSBvYmplY3QgZm9yIHRoZSBjdXJyZW50IHJlcXVlc3QuXG4gICAqL1xuICBnZXQgcmVzKCkge1xuICAgIHJldHVybiB0aGlzLiNyZXMgfHw9IG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLiNwcmVwYXJlZEhlYWRlcnMgPz89IG5ldyBIZWFkZXJzKClcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgUmVzcG9uc2Ugb2JqZWN0IGZvciB0aGUgY3VycmVudCByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0gX3JlcyAtIFRoZSBSZXNwb25zZSBvYmplY3QgdG8gc2V0LlxuICAgKi9cbiAgc2V0IHJlcyhfcmVzKSB7XG4gICAgaWYgKHRoaXMuI3JlcyAmJiBfcmVzKSB7XG4gICAgICBfcmVzID0gbmV3IFJlc3BvbnNlKF9yZXMuYm9keSwgX3Jlcyk7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiB0aGlzLiNyZXMuaGVhZGVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKGsgPT09IFwiY29udGVudC10eXBlXCIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoayA9PT0gXCJzZXQtY29va2llXCIpIHtcbiAgICAgICAgICBjb25zdCBjb29raWVzID0gdGhpcy4jcmVzLmhlYWRlcnMuZ2V0U2V0Q29va2llKCk7XG4gICAgICAgICAgX3Jlcy5oZWFkZXJzLmRlbGV0ZShcInNldC1jb29raWVcIik7XG4gICAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2YgY29va2llcykge1xuICAgICAgICAgICAgX3Jlcy5oZWFkZXJzLmFwcGVuZChcInNldC1jb29raWVcIiwgY29va2llKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3Jlcy5oZWFkZXJzLnNldChrLCB2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLiNyZXMgPSBfcmVzO1xuICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogYC5yZW5kZXIoKWAgY2FuIGNyZWF0ZSBhIHJlc3BvbnNlIHdpdGhpbiBhIGxheW91dC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I3JlbmRlci1zZXRyZW5kZXJlcn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnLycsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMucmVuZGVyKCdIZWxsbyEnKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIHJlbmRlciA9ICguLi5hcmdzKSA9PiB7XG4gICAgdGhpcy4jcmVuZGVyZXIgPz89IChjb250ZW50KSA9PiB0aGlzLmh0bWwoY29udGVudCk7XG4gICAgcmV0dXJuIHRoaXMuI3JlbmRlcmVyKC4uLmFyZ3MpO1xuICB9O1xuICAvKipcbiAgICogU2V0cyB0aGUgbGF5b3V0IGZvciB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSBsYXlvdXQgLSBUaGUgbGF5b3V0IHRvIHNldC5cbiAgICogQHJldHVybnMgVGhlIGxheW91dCBmdW5jdGlvbi5cbiAgICovXG4gIHNldExheW91dCA9IChsYXlvdXQpID0+IHRoaXMuI2xheW91dCA9IGxheW91dDtcbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgbGF5b3V0IGZvciB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IGxheW91dCBmdW5jdGlvbi5cbiAgICovXG4gIGdldExheW91dCA9ICgpID0+IHRoaXMuI2xheW91dDtcbiAgLyoqXG4gICAqIGAuc2V0UmVuZGVyZXIoKWAgY2FuIHNldCB0aGUgbGF5b3V0IGluIHRoZSBjdXN0b20gbWlkZGxld2FyZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I3JlbmRlci1zZXRyZW5kZXJlcn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHN4XG4gICAqIGFwcC51c2UoJyonLCBhc3luYyAoYywgbmV4dCkgPT4ge1xuICAgKiAgIGMuc2V0UmVuZGVyZXIoKGNvbnRlbnQpID0+IHtcbiAgICogICAgIHJldHVybiBjLmh0bWwoXG4gICAqICAgICAgIDxodG1sPlxuICAgKiAgICAgICAgIDxib2R5PlxuICAgKiAgICAgICAgICAgPHA+e2NvbnRlbnR9PC9wPlxuICAgKiAgICAgICAgIDwvYm9keT5cbiAgICogICAgICAgPC9odG1sPlxuICAgKiAgICAgKVxuICAgKiAgIH0pXG4gICAqICAgYXdhaXQgbmV4dCgpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgc2V0UmVuZGVyZXIgPSAocmVuZGVyZXIpID0+IHtcbiAgICB0aGlzLiNyZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9O1xuICAvKipcbiAgICogYC5oZWFkZXIoKWAgY2FuIHNldCBoZWFkZXJzLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjaGVhZGVyfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvd2VsY29tZScsIChjKSA9PiB7XG4gICAqICAgLy8gU2V0IGhlYWRlcnNcbiAgICogICBjLmhlYWRlcignWC1NZXNzYWdlJywgJ0hlbGxvIScpXG4gICAqICAgYy5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJylcbiAgICpcbiAgICogICByZXR1cm4gYy5ib2R5KCdUaGFuayB5b3UgZm9yIGNvbWluZycpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgaGVhZGVyID0gKG5hbWUsIHZhbHVlLCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XG4gICAgICB0aGlzLiNyZXMgPSBuZXcgUmVzcG9uc2UodGhpcy4jcmVzLmJvZHksIHRoaXMuI3Jlcyk7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLiNyZXMgPyB0aGlzLiNyZXMuaGVhZGVycyA6IHRoaXMuI3ByZXBhcmVkSGVhZGVycyA/Pz0gbmV3IEhlYWRlcnMoKTtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgaGVhZGVycy5kZWxldGUobmFtZSk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zPy5hcHBlbmQpIHtcbiAgICAgIGhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVycy5zZXQobmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgc3RhdHVzID0gKHN0YXR1cykgPT4ge1xuICAgIHRoaXMuI3N0YXR1cyA9IHN0YXR1cztcbiAgfTtcbiAgLyoqXG4gICAqIGAuc2V0KClgIGNhbiBzZXQgdGhlIHZhbHVlIHNwZWNpZmllZCBieSB0aGUga2V5LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjc2V0LWdldH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLnVzZSgnKicsIGFzeW5jIChjLCBuZXh0KSA9PiB7XG4gICAqICAgYy5zZXQoJ21lc3NhZ2UnLCAnSG9ubyBpcyBob3QhIScpXG4gICAqICAgYXdhaXQgbmV4dCgpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgc2V0ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICB0aGlzLiN2YXIgPz89IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy4jdmFyLnNldChrZXksIHZhbHVlKTtcbiAgfTtcbiAgLyoqXG4gICAqIGAuZ2V0KClgIGNhbiB1c2UgdGhlIHZhbHVlIHNwZWNpZmllZCBieSB0aGUga2V5LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjc2V0LWdldH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnLycsIChjKSA9PiB7XG4gICAqICAgY29uc3QgbWVzc2FnZSA9IGMuZ2V0KCdtZXNzYWdlJylcbiAgICogICByZXR1cm4gYy50ZXh0KGBUaGUgbWVzc2FnZSBpcyBcIiR7bWVzc2FnZX1cImApXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0ID0gKGtleSkgPT4ge1xuICAgIHJldHVybiB0aGlzLiN2YXIgPyB0aGlzLiN2YXIuZ2V0KGtleSkgOiB2b2lkIDA7XG4gIH07XG4gIC8qKlxuICAgKiBgLnZhcmAgY2FuIGFjY2VzcyB0aGUgdmFsdWUgb2YgYSB2YXJpYWJsZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I3Zhcn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzdWx0ID0gYy52YXIuY2xpZW50Lm9uZU1ldGhvZCgpXG4gICAqIGBgYFxuICAgKi9cbiAgLy8gYy52YXIucHJvcE5hbWUgaXMgYSByZWFkLW9ubHlcbiAgZ2V0IHZhcigpIHtcbiAgICBpZiAoIXRoaXMuI3Zhcikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuI3Zhcik7XG4gIH1cbiAgI25ld1Jlc3BvbnNlKGRhdGEsIGFyZywgaGVhZGVycykge1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IHRoaXMuI3JlcyA/IG5ldyBIZWFkZXJzKHRoaXMuI3Jlcy5oZWFkZXJzKSA6IHRoaXMuI3ByZXBhcmVkSGVhZGVycyA/PyBuZXcgSGVhZGVycygpO1xuICAgIGlmICh0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmIFwiaGVhZGVyc1wiIGluIGFyZykge1xuICAgICAgY29uc3QgYXJnSGVhZGVycyA9IGFyZy5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycyA/IGFyZy5oZWFkZXJzIDogbmV3IEhlYWRlcnMoYXJnLmhlYWRlcnMpO1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgYXJnSGVhZGVycykge1xuICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09IFwic2V0LWNvb2tpZVwiKSB7XG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMuc2V0KGssIHYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycy5kZWxldGUoayk7XG4gICAgICAgICAgZm9yIChjb25zdCB2MiBvZiB2KSB7XG4gICAgICAgICAgICByZXNwb25zZUhlYWRlcnMuYXBwZW5kKGssIHYyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3RhdHVzID0gdHlwZW9mIGFyZyA9PT0gXCJudW1iZXJcIiA/IGFyZyA6IGFyZz8uc3RhdHVzID8/IHRoaXMuI3N0YXR1cztcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGRhdGEsIHsgc3RhdHVzLCBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgfSk7XG4gIH1cbiAgbmV3UmVzcG9uc2UgPSAoLi4uYXJncykgPT4gdGhpcy4jbmV3UmVzcG9uc2UoLi4uYXJncyk7XG4gIC8qKlxuICAgKiBgLmJvZHkoKWAgY2FuIHJldHVybiB0aGUgSFRUUCByZXNwb25zZS5cbiAgICogWW91IGNhbiBzZXQgaGVhZGVycyB3aXRoIGAuaGVhZGVyKClgIGFuZCBzZXQgSFRUUCBzdGF0dXMgY29kZSB3aXRoIGAuc3RhdHVzYC5cbiAgICogVGhpcyBjYW4gYWxzbyBiZSBzZXQgaW4gYC50ZXh0KClgLCBgLmpzb24oKWAgYW5kIHNvIG9uLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjYm9keX1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnL3dlbGNvbWUnLCAoYykgPT4ge1xuICAgKiAgIC8vIFNldCBoZWFkZXJzXG4gICAqICAgYy5oZWFkZXIoJ1gtTWVzc2FnZScsICdIZWxsbyEnKVxuICAgKiAgIGMuaGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpXG4gICAqICAgLy8gU2V0IEhUVFAgc3RhdHVzIGNvZGVcbiAgICogICBjLnN0YXR1cygyMDEpXG4gICAqXG4gICAqICAgLy8gUmV0dXJuIHRoZSByZXNwb25zZSBib2R5XG4gICAqICAgcmV0dXJuIGMuYm9keSgnVGhhbmsgeW91IGZvciBjb21pbmcnKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGJvZHkgPSAoZGF0YSwgYXJnLCBoZWFkZXJzKSA9PiB0aGlzLiNuZXdSZXNwb25zZShkYXRhLCBhcmcsIGhlYWRlcnMpO1xuICAvKipcbiAgICogYC50ZXh0KClgIGNhbiByZW5kZXIgdGV4dCBhcyBgQ29udGVudC1UeXBlOnRleHQvcGxhaW5gLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjdGV4dH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnL3NheScsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMudGV4dCgnSGVsbG8hJylcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICB0ZXh0ID0gKHRleHQsIGFyZywgaGVhZGVycykgPT4ge1xuICAgIHJldHVybiAhdGhpcy4jcHJlcGFyZWRIZWFkZXJzICYmICF0aGlzLiNzdGF0dXMgJiYgIWFyZyAmJiAhaGVhZGVycyAmJiAhdGhpcy5maW5hbGl6ZWQgPyBuZXcgUmVzcG9uc2UodGV4dCkgOiB0aGlzLiNuZXdSZXNwb25zZShcbiAgICAgIHRleHQsXG4gICAgICBhcmcsXG4gICAgICBzZXREZWZhdWx0Q29udGVudFR5cGUoVEVYVF9QTEFJTiwgaGVhZGVycylcbiAgICApO1xuICB9O1xuICAvKipcbiAgICogYC5qc29uKClgIGNhbiByZW5kZXIgSlNPTiBhcyBgQ29udGVudC1UeXBlOmFwcGxpY2F0aW9uL2pzb25gLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjanNvbn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnL2FwaScsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMuanNvbih7IG1lc3NhZ2U6ICdIZWxsbyEnIH0pXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAganNvbiA9IChvYmplY3QsIGFyZywgaGVhZGVycykgPT4ge1xuICAgIHJldHVybiB0aGlzLiNuZXdSZXNwb25zZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KG9iamVjdCksXG4gICAgICBhcmcsXG4gICAgICBzZXREZWZhdWx0Q29udGVudFR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIsIGhlYWRlcnMpXG4gICAgKTtcbiAgfTtcbiAgaHRtbCA9IChodG1sLCBhcmcsIGhlYWRlcnMpID0+IHtcbiAgICBjb25zdCByZXMgPSAoaHRtbDIpID0+IHRoaXMuI25ld1Jlc3BvbnNlKGh0bWwyLCBhcmcsIHNldERlZmF1bHRDb250ZW50VHlwZShcInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiLCBoZWFkZXJzKSk7XG4gICAgcmV0dXJuIHR5cGVvZiBodG1sID09PSBcIm9iamVjdFwiID8gcmVzb2x2ZUNhbGxiYWNrKGh0bWwsIEh0bWxFc2NhcGVkQ2FsbGJhY2tQaGFzZS5TdHJpbmdpZnksIGZhbHNlLCB7fSkudGhlbihyZXMpIDogcmVzKGh0bWwpO1xuICB9O1xuICAvKipcbiAgICogYC5yZWRpcmVjdCgpYCBjYW4gUmVkaXJlY3QsIGRlZmF1bHQgc3RhdHVzIGNvZGUgaXMgMzAyLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjcmVkaXJlY3R9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5nZXQoJy9yZWRpcmVjdCcsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMucmVkaXJlY3QoJy8nKVxuICAgKiB9KVxuICAgKiBhcHAuZ2V0KCcvcmVkaXJlY3QtcGVybWFuZW50bHknLCAoYykgPT4ge1xuICAgKiAgIHJldHVybiBjLnJlZGlyZWN0KCcvJywgMzAxKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIHJlZGlyZWN0ID0gKGxvY2F0aW9uLCBzdGF0dXMpID0+IHtcbiAgICBjb25zdCBsb2NhdGlvblN0cmluZyA9IFN0cmluZyhsb2NhdGlvbik7XG4gICAgdGhpcy5oZWFkZXIoXG4gICAgICBcIkxvY2F0aW9uXCIsXG4gICAgICAvLyBNdWx0aWJ5ZXMgc2hvdWxkIGJlIGVuY29kZWRcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgICAhL1teXFx4MDAtXFx4RkZdLy50ZXN0KGxvY2F0aW9uU3RyaW5nKSA/IGxvY2F0aW9uU3RyaW5nIDogZW5jb2RlVVJJKGxvY2F0aW9uU3RyaW5nKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMubmV3UmVzcG9uc2UobnVsbCwgc3RhdHVzID8/IDMwMik7XG4gIH07XG4gIC8qKlxuICAgKiBgLm5vdEZvdW5kKClgIGNhbiByZXR1cm4gdGhlIE5vdCBGb3VuZCBSZXNwb25zZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I25vdGZvdW5kfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvbm90Zm91bmQnLCAoYykgPT4ge1xuICAgKiAgIHJldHVybiBjLm5vdEZvdW5kKClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBub3RGb3VuZCA9ICgpID0+IHtcbiAgICB0aGlzLiNub3RGb3VuZEhhbmRsZXIgPz89ICgpID0+IG5ldyBSZXNwb25zZSgpO1xuICAgIHJldHVybiB0aGlzLiNub3RGb3VuZEhhbmRsZXIodGhpcyk7XG4gIH07XG59O1xuZXhwb3J0IHtcbiAgQ29udGV4dCxcbiAgVEVYVF9QTEFJTlxufTtcbiIsIi8vIHNyYy9yb3V0ZXIudHNcbnZhciBNRVRIT0RfTkFNRV9BTEwgPSBcIkFMTFwiO1xudmFyIE1FVEhPRF9OQU1FX0FMTF9MT1dFUkNBU0UgPSBcImFsbFwiO1xudmFyIE1FVEhPRFMgPSBbXCJnZXRcIiwgXCJwb3N0XCIsIFwicHV0XCIsIFwiZGVsZXRlXCIsIFwib3B0aW9uc1wiLCBcInBhdGNoXCJdO1xudmFyIE1FU1NBR0VfTUFUQ0hFUl9JU19BTFJFQURZX0JVSUxUID0gXCJDYW4gbm90IGFkZCBhIHJvdXRlIHNpbmNlIHRoZSBtYXRjaGVyIGlzIGFscmVhZHkgYnVpbHQuXCI7XG52YXIgVW5zdXBwb3J0ZWRQYXRoRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbn07XG5leHBvcnQge1xuICBNRVNTQUdFX01BVENIRVJfSVNfQUxSRUFEWV9CVUlMVCxcbiAgTUVUSE9EUyxcbiAgTUVUSE9EX05BTUVfQUxMLFxuICBNRVRIT0RfTkFNRV9BTExfTE9XRVJDQVNFLFxuICBVbnN1cHBvcnRlZFBhdGhFcnJvclxufTtcbiIsIi8vIHNyYy91dGlscy9jb25zdGFudHMudHNcbnZhciBDT01QT1NFRF9IQU5ETEVSID0gXCJfX0NPTVBPU0VEX0hBTkRMRVJcIjtcbmV4cG9ydCB7XG4gIENPTVBPU0VEX0hBTkRMRVJcbn07XG4iLCIvLyBzcmMvaG9uby1iYXNlLnRzXG5pbXBvcnQgeyBjb21wb3NlIH0gZnJvbSBcIi4vY29tcG9zZS5qc1wiO1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gXCIuL2NvbnRleHQuanNcIjtcbmltcG9ydCB7IE1FVEhPRFMsIE1FVEhPRF9OQU1FX0FMTCwgTUVUSE9EX05BTUVfQUxMX0xPV0VSQ0FTRSB9IGZyb20gXCIuL3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgQ09NUE9TRURfSEFORExFUiB9IGZyb20gXCIuL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgZ2V0UGF0aCwgZ2V0UGF0aE5vU3RyaWN0LCBtZXJnZVBhdGggfSBmcm9tIFwiLi91dGlscy91cmwuanNcIjtcbnZhciBub3RGb3VuZEhhbmRsZXIgPSAoYykgPT4ge1xuICByZXR1cm4gYy50ZXh0KFwiNDA0IE5vdCBGb3VuZFwiLCA0MDQpO1xufTtcbnZhciBlcnJvckhhbmRsZXIgPSAoZXJyLCBjKSA9PiB7XG4gIGlmIChcImdldFJlc3BvbnNlXCIgaW4gZXJyKSB7XG4gICAgY29uc3QgcmVzID0gZXJyLmdldFJlc3BvbnNlKCk7XG4gICAgcmV0dXJuIGMubmV3UmVzcG9uc2UocmVzLmJvZHksIHJlcyk7XG4gIH1cbiAgY29uc29sZS5lcnJvcihlcnIpO1xuICByZXR1cm4gYy50ZXh0KFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIsIDUwMCk7XG59O1xudmFyIEhvbm8gPSBjbGFzcyBfSG9ubyB7XG4gIGdldDtcbiAgcG9zdDtcbiAgcHV0O1xuICBkZWxldGU7XG4gIG9wdGlvbnM7XG4gIHBhdGNoO1xuICBhbGw7XG4gIG9uO1xuICB1c2U7XG4gIC8qXG4gICAgVGhpcyBjbGFzcyBpcyBsaWtlIGFuIGFic3RyYWN0IGNsYXNzIGFuZCBkb2VzIG5vdCBoYXZlIGEgcm91dGVyLlxuICAgIFRvIHVzZSBpdCwgaW5oZXJpdCB0aGUgY2xhc3MgYW5kIGltcGxlbWVudCByb3V0ZXIgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAqL1xuICByb3V0ZXI7XG4gIGdldFBhdGg7XG4gIC8vIENhbm5vdCB1c2UgYCNgIGJlY2F1c2UgaXQgcmVxdWlyZXMgdmlzaWJpbGl0eSBhdCBKYXZhU2NyaXB0IHJ1bnRpbWUuXG4gIF9iYXNlUGF0aCA9IFwiL1wiO1xuICAjcGF0aCA9IFwiL1wiO1xuICByb3V0ZXMgPSBbXTtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgYWxsTWV0aG9kcyA9IFsuLi5NRVRIT0RTLCBNRVRIT0RfTkFNRV9BTExfTE9XRVJDQVNFXTtcbiAgICBhbGxNZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgICAgdGhpc1ttZXRob2RdID0gKGFyZ3MxLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnczEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB0aGlzLiNwYXRoID0gYXJnczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4jYWRkUm91dGUobWV0aG9kLCB0aGlzLiNwYXRoLCBhcmdzMSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgdGhpcy4jYWRkUm91dGUobWV0aG9kLCB0aGlzLiNwYXRoLCBoYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLm9uID0gKG1ldGhvZCwgcGF0aCwgLi4uaGFuZGxlcnMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBbcGF0aF0uZmxhdCgpKSB7XG4gICAgICAgIHRoaXMuI3BhdGggPSBwO1xuICAgICAgICBmb3IgKGNvbnN0IG0gb2YgW21ldGhvZF0uZmxhdCgpKSB7XG4gICAgICAgICAgaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNhZGRSb3V0ZShtLnRvVXBwZXJDYXNlKCksIHRoaXMuI3BhdGgsIGhhbmRsZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHRoaXMudXNlID0gKGFyZzEsIC4uLmhhbmRsZXJzKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhpcy4jcGF0aCA9IGFyZzE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiNwYXRoID0gXCIqXCI7XG4gICAgICAgIGhhbmRsZXJzLnVuc2hpZnQoYXJnMSk7XG4gICAgICB9XG4gICAgICBoYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHRoaXMuI2FkZFJvdXRlKE1FVEhPRF9OQU1FX0FMTCwgdGhpcy4jcGF0aCwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgY29uc3QgeyBzdHJpY3QsIC4uLm9wdGlvbnNXaXRob3V0U3RyaWN0IH0gPSBvcHRpb25zO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9uc1dpdGhvdXRTdHJpY3QpO1xuICAgIHRoaXMuZ2V0UGF0aCA9IHN0cmljdCA/PyB0cnVlID8gb3B0aW9ucy5nZXRQYXRoID8/IGdldFBhdGggOiBnZXRQYXRoTm9TdHJpY3Q7XG4gIH1cbiAgI2Nsb25lKCkge1xuICAgIGNvbnN0IGNsb25lID0gbmV3IF9Ib25vKHtcbiAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXIsXG4gICAgICBnZXRQYXRoOiB0aGlzLmdldFBhdGhcbiAgICB9KTtcbiAgICBjbG9uZS5lcnJvckhhbmRsZXIgPSB0aGlzLmVycm9ySGFuZGxlcjtcbiAgICBjbG9uZS4jbm90Rm91bmRIYW5kbGVyID0gdGhpcy4jbm90Rm91bmRIYW5kbGVyO1xuICAgIGNsb25lLnJvdXRlcyA9IHRoaXMucm91dGVzO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuICAjbm90Rm91bmRIYW5kbGVyID0gbm90Rm91bmRIYW5kbGVyO1xuICAvLyBDYW5ub3QgdXNlIGAjYCBiZWNhdXNlIGl0IHJlcXVpcmVzIHZpc2liaWxpdHkgYXQgSmF2YVNjcmlwdCBydW50aW1lLlxuICBlcnJvckhhbmRsZXIgPSBlcnJvckhhbmRsZXI7XG4gIC8qKlxuICAgKiBgLnJvdXRlKClgIGFsbG93cyBncm91cGluZyBvdGhlciBIb25vIGluc3RhbmNlIGluIHJvdXRlcy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yb3V0aW5nI2dyb3VwaW5nfVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIGJhc2UgUGF0aFxuICAgKiBAcGFyYW0ge0hvbm99IGFwcCAtIG90aGVyIEhvbm8gaW5zdGFuY2VcbiAgICogQHJldHVybnMge0hvbm99IHJvdXRlZCBIb25vIGluc3RhbmNlXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGFwcCA9IG5ldyBIb25vKClcbiAgICogY29uc3QgYXBwMiA9IG5ldyBIb25vKClcbiAgICpcbiAgICogYXBwMi5nZXQoXCIvdXNlclwiLCAoYykgPT4gYy50ZXh0KFwidXNlclwiKSlcbiAgICogYXBwLnJvdXRlKFwiL2FwaVwiLCBhcHAyKSAvLyBHRVQgL2FwaS91c2VyXG4gICAqIGBgYFxuICAgKi9cbiAgcm91dGUocGF0aCwgYXBwKSB7XG4gICAgY29uc3Qgc3ViQXBwID0gdGhpcy5iYXNlUGF0aChwYXRoKTtcbiAgICBhcHAucm91dGVzLm1hcCgocikgPT4ge1xuICAgICAgbGV0IGhhbmRsZXI7XG4gICAgICBpZiAoYXBwLmVycm9ySGFuZGxlciA9PT0gZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXIgPSByLmhhbmRsZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVyID0gYXN5bmMgKGMsIG5leHQpID0+IChhd2FpdCBjb21wb3NlKFtdLCBhcHAuZXJyb3JIYW5kbGVyKShjLCAoKSA9PiByLmhhbmRsZXIoYywgbmV4dCkpKS5yZXM7XG4gICAgICAgIGhhbmRsZXJbQ09NUE9TRURfSEFORExFUl0gPSByLmhhbmRsZXI7XG4gICAgICB9XG4gICAgICBzdWJBcHAuI2FkZFJvdXRlKHIubWV0aG9kLCByLnBhdGgsIGhhbmRsZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBgLmJhc2VQYXRoKClgIGFsbG93cyBiYXNlIHBhdGhzIHRvIGJlIHNwZWNpZmllZC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yb3V0aW5nI2Jhc2UtcGF0aH1cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBiYXNlIFBhdGhcbiAgICogQHJldHVybnMge0hvbm99IGNoYW5nZWQgSG9ubyBpbnN0YW5jZVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBhcGkgPSBuZXcgSG9ubygpLmJhc2VQYXRoKCcvYXBpJylcbiAgICogYGBgXG4gICAqL1xuICBiYXNlUGF0aChwYXRoKSB7XG4gICAgY29uc3Qgc3ViQXBwID0gdGhpcy4jY2xvbmUoKTtcbiAgICBzdWJBcHAuX2Jhc2VQYXRoID0gbWVyZ2VQYXRoKHRoaXMuX2Jhc2VQYXRoLCBwYXRoKTtcbiAgICByZXR1cm4gc3ViQXBwO1xuICB9XG4gIC8qKlxuICAgKiBgLm9uRXJyb3IoKWAgaGFuZGxlcyBhbiBlcnJvciBhbmQgcmV0dXJucyBhIGN1c3RvbWl6ZWQgUmVzcG9uc2UuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvaG9ubyNlcnJvci1oYW5kbGluZ31cbiAgICpcbiAgICogQHBhcmFtIHtFcnJvckhhbmRsZXJ9IGhhbmRsZXIgLSByZXF1ZXN0IEhhbmRsZXIgZm9yIGVycm9yXG4gICAqIEByZXR1cm5zIHtIb25vfSBjaGFuZ2VkIEhvbm8gaW5zdGFuY2VcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLm9uRXJyb3IoKGVyciwgYykgPT4ge1xuICAgKiAgIGNvbnNvbGUuZXJyb3IoYCR7ZXJyfWApXG4gICAqICAgcmV0dXJuIGMudGV4dCgnQ3VzdG9tIEVycm9yIE1lc3NhZ2UnLCA1MDApXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgb25FcnJvciA9IChoYW5kbGVyKSA9PiB7XG4gICAgdGhpcy5lcnJvckhhbmRsZXIgPSBoYW5kbGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogYC5ub3RGb3VuZCgpYCBhbGxvd3MgeW91IHRvIGN1c3RvbWl6ZSBhIE5vdCBGb3VuZCBSZXNwb25zZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9ob25vI25vdC1mb3VuZH1cbiAgICpcbiAgICogQHBhcmFtIHtOb3RGb3VuZEhhbmRsZXJ9IGhhbmRsZXIgLSByZXF1ZXN0IGhhbmRsZXIgZm9yIG5vdC1mb3VuZFxuICAgKiBAcmV0dXJucyB7SG9ub30gY2hhbmdlZCBIb25vIGluc3RhbmNlXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5ub3RGb3VuZCgoYykgPT4ge1xuICAgKiAgIHJldHVybiBjLnRleHQoJ0N1c3RvbSA0MDQgTWVzc2FnZScsIDQwNClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBub3RGb3VuZCA9IChoYW5kbGVyKSA9PiB7XG4gICAgdGhpcy4jbm90Rm91bmRIYW5kbGVyID0gaGFuZGxlcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIGAubW91bnQoKWAgYWxsb3dzIHlvdSB0byBtb3VudCBhcHBsaWNhdGlvbnMgYnVpbHQgd2l0aCBvdGhlciBmcmFtZXdvcmtzIGludG8geW91ciBIb25vIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2hvbm8jbW91bnR9XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gYmFzZSBQYXRoXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGFwcGxpY2F0aW9uSGFuZGxlciAtIG90aGVyIFJlcXVlc3QgSGFuZGxlclxuICAgKiBAcGFyYW0ge01vdW50T3B0aW9uc30gW29wdGlvbnNdIC0gb3B0aW9ucyBvZiBgLm1vdW50KClgXG4gICAqIEByZXR1cm5zIHtIb25vfSBtb3VudGVkIEhvbm8gaW5zdGFuY2VcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgUm91dGVyIGFzIEl0dHlSb3V0ZXIgfSBmcm9tICdpdHR5LXJvdXRlcidcbiAgICogaW1wb3J0IHsgSG9ubyB9IGZyb20gJ2hvbm8nXG4gICAqIC8vIENyZWF0ZSBpdHR5LXJvdXRlciBhcHBsaWNhdGlvblxuICAgKiBjb25zdCBpdHR5Um91dGVyID0gSXR0eVJvdXRlcigpXG4gICAqIC8vIEdFVCAvaXR0eS1yb3V0ZXIvaGVsbG9cbiAgICogaXR0eVJvdXRlci5nZXQoJy9oZWxsbycsICgpID0+IG5ldyBSZXNwb25zZSgnSGVsbG8gZnJvbSBpdHR5LXJvdXRlcicpKVxuICAgKlxuICAgKiBjb25zdCBhcHAgPSBuZXcgSG9ubygpXG4gICAqIGFwcC5tb3VudCgnL2l0dHktcm91dGVyJywgaXR0eVJvdXRlci5oYW5kbGUpXG4gICAqIGBgYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBhcHAgPSBuZXcgSG9ubygpXG4gICAqIC8vIFNlbmQgdGhlIHJlcXVlc3QgdG8gYW5vdGhlciBhcHBsaWNhdGlvbiB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICogYXBwLm1vdW50KCcvYXBwJywgYW5vdGhlckFwcCwge1xuICAgKiAgIHJlcGxhY2VSZXF1ZXN0OiAocmVxKSA9PiByZXEsXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgbW91bnQocGF0aCwgYXBwbGljYXRpb25IYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbGV0IHJlcGxhY2VSZXF1ZXN0O1xuICAgIGxldCBvcHRpb25IYW5kbGVyO1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvcHRpb25IYW5kbGVyID0gb3B0aW9ucztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbkhhbmRsZXIgPSBvcHRpb25zLm9wdGlvbkhhbmRsZXI7XG4gICAgICAgIGlmIChvcHRpb25zLnJlcGxhY2VSZXF1ZXN0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJlcGxhY2VSZXF1ZXN0ID0gKHJlcXVlc3QpID0+IHJlcXVlc3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwbGFjZVJlcXVlc3QgPSBvcHRpb25zLnJlcGxhY2VSZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGdldE9wdGlvbnMgPSBvcHRpb25IYW5kbGVyID8gKGMpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMyID0gb3B0aW9uSGFuZGxlcihjKTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9wdGlvbnMyKSA/IG9wdGlvbnMyIDogW29wdGlvbnMyXTtcbiAgICB9IDogKGMpID0+IHtcbiAgICAgIGxldCBleGVjdXRpb25Db250ZXh0ID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IGMuZXhlY3V0aW9uQ3R4O1xuICAgICAgfSBjYXRjaCB7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2MuZW52LCBleGVjdXRpb25Db250ZXh0XTtcbiAgICB9O1xuICAgIHJlcGxhY2VSZXF1ZXN0IHx8PSAoKCkgPT4ge1xuICAgICAgY29uc3QgbWVyZ2VkUGF0aCA9IG1lcmdlUGF0aCh0aGlzLl9iYXNlUGF0aCwgcGF0aCk7XG4gICAgICBjb25zdCBwYXRoUHJlZml4TGVuZ3RoID0gbWVyZ2VkUGF0aCA9PT0gXCIvXCIgPyAwIDogbWVyZ2VkUGF0aC5sZW5ndGg7XG4gICAgICByZXR1cm4gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIHVybC5wYXRobmFtZSA9IHVybC5wYXRobmFtZS5zbGljZShwYXRoUHJlZml4TGVuZ3RoKSB8fCBcIi9cIjtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybCwgcmVxdWVzdCk7XG4gICAgICB9O1xuICAgIH0pKCk7XG4gICAgY29uc3QgaGFuZGxlciA9IGFzeW5jIChjLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBhcHBsaWNhdGlvbkhhbmRsZXIocmVwbGFjZVJlcXVlc3QoYy5yZXEucmF3KSwgLi4uZ2V0T3B0aW9ucyhjKSk7XG4gICAgICBpZiAocmVzKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgICBhd2FpdCBuZXh0KCk7XG4gICAgfTtcbiAgICB0aGlzLiNhZGRSb3V0ZShNRVRIT0RfTkFNRV9BTEwsIG1lcmdlUGF0aChwYXRoLCBcIipcIiksIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gICNhZGRSb3V0ZShtZXRob2QsIHBhdGgsIGhhbmRsZXIpIHtcbiAgICBtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICBwYXRoID0gbWVyZ2VQYXRoKHRoaXMuX2Jhc2VQYXRoLCBwYXRoKTtcbiAgICBjb25zdCByID0geyBiYXNlUGF0aDogdGhpcy5fYmFzZVBhdGgsIHBhdGgsIG1ldGhvZCwgaGFuZGxlciB9O1xuICAgIHRoaXMucm91dGVyLmFkZChtZXRob2QsIHBhdGgsIFtoYW5kbGVyLCByXSk7XG4gICAgdGhpcy5yb3V0ZXMucHVzaChyKTtcbiAgfVxuICAjaGFuZGxlRXJyb3IoZXJyLCBjKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5lcnJvckhhbmRsZXIoZXJyLCBjKTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gICNkaXNwYXRjaChyZXF1ZXN0LCBleGVjdXRpb25DdHgsIGVudiwgbWV0aG9kKSB7XG4gICAgaWYgKG1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4gbmV3IFJlc3BvbnNlKG51bGwsIGF3YWl0IHRoaXMuI2Rpc3BhdGNoKHJlcXVlc3QsIGV4ZWN1dGlvbkN0eCwgZW52LCBcIkdFVFwiKSkpKCk7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldFBhdGgocmVxdWVzdCwgeyBlbnYgfSk7XG4gICAgY29uc3QgbWF0Y2hSZXN1bHQgPSB0aGlzLnJvdXRlci5tYXRjaChtZXRob2QsIHBhdGgpO1xuICAgIGNvbnN0IGMgPSBuZXcgQ29udGV4dChyZXF1ZXN0LCB7XG4gICAgICBwYXRoLFxuICAgICAgbWF0Y2hSZXN1bHQsXG4gICAgICBlbnYsXG4gICAgICBleGVjdXRpb25DdHgsXG4gICAgICBub3RGb3VuZEhhbmRsZXI6IHRoaXMuI25vdEZvdW5kSGFuZGxlclxuICAgIH0pO1xuICAgIGlmIChtYXRjaFJlc3VsdFswXS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxldCByZXM7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBtYXRjaFJlc3VsdFswXVswXVswXVswXShjLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYy5yZXMgPSBhd2FpdCB0aGlzLiNub3RGb3VuZEhhbmRsZXIoYyk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNoYW5kbGVFcnJvcihlcnIsIGMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcyBpbnN0YW5jZW9mIFByb21pc2UgPyByZXMudGhlbihcbiAgICAgICAgKHJlc29sdmVkKSA9PiByZXNvbHZlZCB8fCAoYy5maW5hbGl6ZWQgPyBjLnJlcyA6IHRoaXMuI25vdEZvdW5kSGFuZGxlcihjKSlcbiAgICAgICkuY2F0Y2goKGVycikgPT4gdGhpcy4jaGFuZGxlRXJyb3IoZXJyLCBjKSkgOiByZXMgPz8gdGhpcy4jbm90Rm91bmRIYW5kbGVyKGMpO1xuICAgIH1cbiAgICBjb25zdCBjb21wb3NlZCA9IGNvbXBvc2UobWF0Y2hSZXN1bHRbMF0sIHRoaXMuZXJyb3JIYW5kbGVyLCB0aGlzLiNub3RGb3VuZEhhbmRsZXIpO1xuICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGNvbXBvc2VkKGMpO1xuICAgICAgICBpZiAoIWNvbnRleHQuZmluYWxpemVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJDb250ZXh0IGlzIG5vdCBmaW5hbGl6ZWQuIERpZCB5b3UgZm9yZ2V0IHRvIHJldHVybiBhIFJlc3BvbnNlIG9iamVjdCBvciBgYXdhaXQgbmV4dCgpYD9cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQucmVzO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNoYW5kbGVFcnJvcihlcnIsIGMpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH1cbiAgLyoqXG4gICAqIGAuZmV0Y2goKWAgd2lsbCBiZSBlbnRyeSBwb2ludCBvZiB5b3VyIGFwcC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9ob25vI2ZldGNofVxuICAgKlxuICAgKiBAcGFyYW0ge1JlcXVlc3R9IHJlcXVlc3QgLSByZXF1ZXN0IE9iamVjdCBvZiByZXF1ZXN0XG4gICAqIEBwYXJhbSB7RW52fSBFbnYgLSBlbnYgT2JqZWN0XG4gICAqIEBwYXJhbSB7RXhlY3V0aW9uQ29udGV4dH0gLSBjb250ZXh0IG9mIGV4ZWN1dGlvblxuICAgKiBAcmV0dXJucyB7UmVzcG9uc2UgfCBQcm9taXNlPFJlc3BvbnNlPn0gcmVzcG9uc2Ugb2YgcmVxdWVzdFxuICAgKlxuICAgKi9cbiAgZmV0Y2ggPSAocmVxdWVzdCwgLi4ucmVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLiNkaXNwYXRjaChyZXF1ZXN0LCByZXN0WzFdLCByZXN0WzBdLCByZXF1ZXN0Lm1ldGhvZCk7XG4gIH07XG4gIC8qKlxuICAgKiBgLnJlcXVlc3QoKWAgaXMgYSB1c2VmdWwgbWV0aG9kIGZvciB0ZXN0aW5nLlxuICAgKiBZb3UgY2FuIHBhc3MgYSBVUkwgb3IgcGF0aG5hbWUgdG8gc2VuZCBhIEdFVCByZXF1ZXN0LlxuICAgKiBhcHAgd2lsbCByZXR1cm4gYSBSZXNwb25zZSBvYmplY3QuXG4gICAqIGBgYHRzXG4gICAqIHRlc3QoJ0dFVCAvaGVsbG8gaXMgb2snLCBhc3luYyAoKSA9PiB7XG4gICAqICAgY29uc3QgcmVzID0gYXdhaXQgYXBwLnJlcXVlc3QoJy9oZWxsbycpXG4gICAqICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICogQHNlZSBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2hvbm8jcmVxdWVzdFxuICAgKi9cbiAgcmVxdWVzdCA9IChpbnB1dCwgcmVxdWVzdEluaXQsIEVudiwgZXhlY3V0aW9uQ3R4KSA9PiB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmV0Y2gocmVxdWVzdEluaXQgPyBuZXcgUmVxdWVzdChpbnB1dCwgcmVxdWVzdEluaXQpIDogaW5wdXQsIEVudiwgZXhlY3V0aW9uQ3R4KTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dC50b1N0cmluZygpO1xuICAgIHJldHVybiB0aGlzLmZldGNoKFxuICAgICAgbmV3IFJlcXVlc3QoXG4gICAgICAgIC9eaHR0cHM/OlxcL1xcLy8udGVzdChpbnB1dCkgPyBpbnB1dCA6IGBodHRwOi8vbG9jYWxob3N0JHttZXJnZVBhdGgoXCIvXCIsIGlucHV0KX1gLFxuICAgICAgICByZXF1ZXN0SW5pdFxuICAgICAgKSxcbiAgICAgIEVudixcbiAgICAgIGV4ZWN1dGlvbkN0eFxuICAgICk7XG4gIH07XG4gIC8qKlxuICAgKiBgLmZpcmUoKWAgYXV0b21hdGljYWxseSBhZGRzIGEgZ2xvYmFsIGZldGNoIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yIGVudmlyb25tZW50cyB0aGF0IGFkaGVyZSB0byB0aGUgU2VydmljZSBXb3JrZXIgQVBJLCBzdWNoIGFzIG5vbi1FUyBtb2R1bGUgQ2xvdWRmbGFyZSBXb3JrZXJzLlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBVc2UgYGZpcmVgIGZyb20gYGhvbm8vc2VydmljZS13b3JrZXJgIGluc3RlYWQuXG4gICAqIGBgYHRzXG4gICAqIGltcG9ydCB7IEhvbm8gfSBmcm9tICdob25vJ1xuICAgKiBpbXBvcnQgeyBmaXJlIH0gZnJvbSAnaG9uby9zZXJ2aWNlLXdvcmtlcidcbiAgICpcbiAgICogY29uc3QgYXBwID0gbmV3IEhvbm8oKVxuICAgKiAvLyAuLi5cbiAgICogZmlyZShhcHApXG4gICAqIGBgYFxuICAgKiBAc2VlIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvaG9ubyNmaXJlXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZpY2VfV29ya2VyX0FQSVxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5jbG91ZGZsYXJlLmNvbS93b3JrZXJzL3JlZmVyZW5jZS9taWdyYXRlLXRvLW1vZHVsZS13b3JrZXJzL1xuICAgKi9cbiAgZmlyZSA9ICgpID0+IHtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwiZmV0Y2hcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5yZXNwb25kV2l0aCh0aGlzLiNkaXNwYXRjaChldmVudC5yZXF1ZXN0LCBldmVudCwgdm9pZCAwLCBldmVudC5yZXF1ZXN0Lm1ldGhvZCkpO1xuICAgIH0pO1xuICB9O1xufTtcbmV4cG9ydCB7XG4gIEhvbm8gYXMgSG9ub0Jhc2Vcbn07XG4iLCIvLyBzcmMvcm91dGVyL3JlZy1leHAtcm91dGVyL21hdGNoZXIudHNcbmltcG9ydCB7IE1FVEhPRF9OQU1FX0FMTCB9IGZyb20gXCIuLi8uLi9yb3V0ZXIuanNcIjtcbnZhciBlbXB0eVBhcmFtID0gW107XG5mdW5jdGlvbiBtYXRjaChtZXRob2QsIHBhdGgpIHtcbiAgY29uc3QgbWF0Y2hlcnMgPSB0aGlzLmJ1aWxkQWxsTWF0Y2hlcnMoKTtcbiAgY29uc3QgbWF0Y2gyID0gKChtZXRob2QyLCBwYXRoMikgPT4ge1xuICAgIGNvbnN0IG1hdGNoZXIgPSBtYXRjaGVyc1ttZXRob2QyXSB8fCBtYXRjaGVyc1tNRVRIT0RfTkFNRV9BTExdO1xuICAgIGNvbnN0IHN0YXRpY01hdGNoID0gbWF0Y2hlclsyXVtwYXRoMl07XG4gICAgaWYgKHN0YXRpY01hdGNoKSB7XG4gICAgICByZXR1cm4gc3RhdGljTWF0Y2g7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoMyA9IHBhdGgyLm1hdGNoKG1hdGNoZXJbMF0pO1xuICAgIGlmICghbWF0Y2gzKSB7XG4gICAgICByZXR1cm4gW1tdLCBlbXB0eVBhcmFtXTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBtYXRjaDMuaW5kZXhPZihcIlwiLCAxKTtcbiAgICByZXR1cm4gW21hdGNoZXJbMV1baW5kZXhdLCBtYXRjaDNdO1xuICB9KTtcbiAgdGhpcy5tYXRjaCA9IG1hdGNoMjtcbiAgcmV0dXJuIG1hdGNoMihtZXRob2QsIHBhdGgpO1xufVxuZXhwb3J0IHtcbiAgZW1wdHlQYXJhbSxcbiAgbWF0Y2hcbn07XG4iLCIvLyBzcmMvcm91dGVyL3JlZy1leHAtcm91dGVyL25vZGUudHNcbnZhciBMQUJFTF9SRUdfRVhQX1NUUiA9IFwiW14vXStcIjtcbnZhciBPTkxZX1dJTERDQVJEX1JFR19FWFBfU1RSID0gXCIuKlwiO1xudmFyIFRBSUxfV0lMRENBUkRfUkVHX0VYUF9TVFIgPSBcIig/OnwvLiopXCI7XG52YXIgUEFUSF9FUlJPUiA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2woKTtcbnZhciByZWdFeHBNZXRhQ2hhcnMgPSBuZXcgU2V0KFwiLlxcXFwrKlteXSQoKVwiKTtcbmZ1bmN0aW9uIGNvbXBhcmVLZXkoYSwgYikge1xuICBpZiAoYS5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gYi5sZW5ndGggPT09IDEgPyBhIDwgYiA/IC0xIDogMSA6IC0xO1xuICB9XG4gIGlmIChiLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmIChhID09PSBPTkxZX1dJTERDQVJEX1JFR19FWFBfU1RSIHx8IGEgPT09IFRBSUxfV0lMRENBUkRfUkVHX0VYUF9TVFIpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmIChiID09PSBPTkxZX1dJTERDQVJEX1JFR19FWFBfU1RSIHx8IGIgPT09IFRBSUxfV0lMRENBUkRfUkVHX0VYUF9TVFIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKGEgPT09IExBQkVMX1JFR19FWFBfU1RSKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSBpZiAoYiA9PT0gTEFCRUxfUkVHX0VYUF9TVFIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIGEubGVuZ3RoID09PSBiLmxlbmd0aCA/IGEgPCBiID8gLTEgOiAxIDogYi5sZW5ndGggLSBhLmxlbmd0aDtcbn1cbnZhciBOb2RlID0gY2xhc3MgX05vZGUge1xuICAjaW5kZXg7XG4gICN2YXJJbmRleDtcbiAgI2NoaWxkcmVuID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGluc2VydCh0b2tlbnMsIGluZGV4LCBwYXJhbU1hcCwgY29udGV4dCwgcGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmICh0aGlzLiNpbmRleCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IFBBVEhfRVJST1I7XG4gICAgICB9XG4gICAgICBpZiAocGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuI2luZGV4ID0gaW5kZXg7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFt0b2tlbiwgLi4ucmVzdFRva2Vuc10gPSB0b2tlbnM7XG4gICAgY29uc3QgcGF0dGVybiA9IHRva2VuID09PSBcIipcIiA/IHJlc3RUb2tlbnMubGVuZ3RoID09PSAwID8gW1wiXCIsIFwiXCIsIE9OTFlfV0lMRENBUkRfUkVHX0VYUF9TVFJdIDogW1wiXCIsIFwiXCIsIExBQkVMX1JFR19FWFBfU1RSXSA6IHRva2VuID09PSBcIi8qXCIgPyBbXCJcIiwgXCJcIiwgVEFJTF9XSUxEQ0FSRF9SRUdfRVhQX1NUUl0gOiB0b2tlbi5tYXRjaCgvXlxcOihbXlxce1xcfV0rKSg/OlxceyguKylcXH0pPyQvKTtcbiAgICBsZXQgbm9kZTtcbiAgICBpZiAocGF0dGVybikge1xuICAgICAgY29uc3QgbmFtZSA9IHBhdHRlcm5bMV07XG4gICAgICBsZXQgcmVnZXhwU3RyID0gcGF0dGVyblsyXSB8fCBMQUJFTF9SRUdfRVhQX1NUUjtcbiAgICAgIGlmIChuYW1lICYmIHBhdHRlcm5bMl0pIHtcbiAgICAgICAgaWYgKHJlZ2V4cFN0ciA9PT0gXCIuKlwiKSB7XG4gICAgICAgICAgdGhyb3cgUEFUSF9FUlJPUjtcbiAgICAgICAgfVxuICAgICAgICByZWdleHBTdHIgPSByZWdleHBTdHIucmVwbGFjZSgvXlxcKCg/IVxcPzopKD89W14pXStcXCkkKS8sIFwiKD86XCIpO1xuICAgICAgICBpZiAoL1xcKCg/IVxcPzopLy50ZXN0KHJlZ2V4cFN0cikpIHtcbiAgICAgICAgICB0aHJvdyBQQVRIX0VSUk9SO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gdGhpcy4jY2hpbGRyZW5bcmVnZXhwU3RyXTtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy4jY2hpbGRyZW4pLnNvbWUoXG4gICAgICAgICAgKGspID0+IGsgIT09IE9OTFlfV0lMRENBUkRfUkVHX0VYUF9TVFIgJiYgayAhPT0gVEFJTF9XSUxEQ0FSRF9SRUdfRVhQX1NUUlxuICAgICAgICApKSB7XG4gICAgICAgICAgdGhyb3cgUEFUSF9FUlJPUjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSB0aGlzLiNjaGlsZHJlbltyZWdleHBTdHJdID0gbmV3IF9Ob2RlKCk7XG4gICAgICAgIGlmIChuYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgbm9kZS4jdmFySW5kZXggPSBjb250ZXh0LnZhckluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghcGF0aEVycm9yQ2hlY2tPbmx5ICYmIG5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgcGFyYW1NYXAucHVzaChbbmFtZSwgbm9kZS4jdmFySW5kZXhdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZSA9IHRoaXMuI2NoaWxkcmVuW3Rva2VuXTtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy4jY2hpbGRyZW4pLnNvbWUoXG4gICAgICAgICAgKGspID0+IGsubGVuZ3RoID4gMSAmJiBrICE9PSBPTkxZX1dJTERDQVJEX1JFR19FWFBfU1RSICYmIGsgIT09IFRBSUxfV0lMRENBUkRfUkVHX0VYUF9TVFJcbiAgICAgICAgKSkge1xuICAgICAgICAgIHRocm93IFBBVEhfRVJST1I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGhFcnJvckNoZWNrT25seSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gdGhpcy4jY2hpbGRyZW5bdG9rZW5dID0gbmV3IF9Ob2RlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGUuaW5zZXJ0KHJlc3RUb2tlbnMsIGluZGV4LCBwYXJhbU1hcCwgY29udGV4dCwgcGF0aEVycm9yQ2hlY2tPbmx5KTtcbiAgfVxuICBidWlsZFJlZ0V4cFN0cigpIHtcbiAgICBjb25zdCBjaGlsZEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLiNjaGlsZHJlbikuc29ydChjb21wYXJlS2V5KTtcbiAgICBjb25zdCBzdHJMaXN0ID0gY2hpbGRLZXlzLm1hcCgoaykgPT4ge1xuICAgICAgY29uc3QgYyA9IHRoaXMuI2NoaWxkcmVuW2tdO1xuICAgICAgcmV0dXJuICh0eXBlb2YgYy4jdmFySW5kZXggPT09IFwibnVtYmVyXCIgPyBgKCR7a30pQCR7Yy4jdmFySW5kZXh9YCA6IHJlZ0V4cE1ldGFDaGFycy5oYXMoaykgPyBgXFxcXCR7a31gIDogaykgKyBjLmJ1aWxkUmVnRXhwU3RyKCk7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiB0aGlzLiNpbmRleCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgc3RyTGlzdC51bnNoaWZ0KGAjJHt0aGlzLiNpbmRleH1gKTtcbiAgICB9XG4gICAgaWYgKHN0ckxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgaWYgKHN0ckxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gc3RyTGlzdFswXTtcbiAgICB9XG4gICAgcmV0dXJuIFwiKD86XCIgKyBzdHJMaXN0LmpvaW4oXCJ8XCIpICsgXCIpXCI7XG4gIH1cbn07XG5leHBvcnQge1xuICBOb2RlLFxuICBQQVRIX0VSUk9SXG59O1xuIiwiLy8gc3JjL3JvdXRlci9yZWctZXhwLXJvdXRlci90cmllLnRzXG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vbm9kZS5qc1wiO1xudmFyIFRyaWUgPSBjbGFzcyB7XG4gICNjb250ZXh0ID0geyB2YXJJbmRleDogMCB9O1xuICAjcm9vdCA9IG5ldyBOb2RlKCk7XG4gIGluc2VydChwYXRoLCBpbmRleCwgcGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgY29uc3QgcGFyYW1Bc3NvYyA9IFtdO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyA7ICkge1xuICAgICAgbGV0IHJlcGxhY2VkID0gZmFsc2U7XG4gICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXHtbXn1dK1xcfS9nLCAobSkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrID0gYEBcXFxcJHtpfWA7XG4gICAgICAgIGdyb3Vwc1tpXSA9IFttYXJrLCBtXTtcbiAgICAgICAgaSsrO1xuICAgICAgICByZXBsYWNlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBtYXJrO1xuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcGxhY2VkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b2tlbnMgPSBwYXRoLm1hdGNoKC8oPzo6W15cXC9dKyl8KD86XFwvXFwqJCl8Li9nKSB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gZ3JvdXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBbbWFya10gPSBncm91cHNbaV07XG4gICAgICBmb3IgKGxldCBqID0gdG9rZW5zLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgIGlmICh0b2tlbnNbal0uaW5kZXhPZihtYXJrKSAhPT0gLTEpIHtcbiAgICAgICAgICB0b2tlbnNbal0gPSB0b2tlbnNbal0ucmVwbGFjZShtYXJrLCBncm91cHNbaV1bMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuI3Jvb3QuaW5zZXJ0KHRva2VucywgaW5kZXgsIHBhcmFtQXNzb2MsIHRoaXMuI2NvbnRleHQsIHBhdGhFcnJvckNoZWNrT25seSk7XG4gICAgcmV0dXJuIHBhcmFtQXNzb2M7XG4gIH1cbiAgYnVpbGRSZWdFeHAoKSB7XG4gICAgbGV0IHJlZ2V4cCA9IHRoaXMuI3Jvb3QuYnVpbGRSZWdFeHBTdHIoKTtcbiAgICBpZiAocmVnZXhwID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gWy9eJC8sIFtdLCBbXV07XG4gICAgfVxuICAgIGxldCBjYXB0dXJlSW5kZXggPSAwO1xuICAgIGNvbnN0IGluZGV4UmVwbGFjZW1lbnRNYXAgPSBbXTtcbiAgICBjb25zdCBwYXJhbVJlcGxhY2VtZW50TWFwID0gW107XG4gICAgcmVnZXhwID0gcmVnZXhwLnJlcGxhY2UoLyMoXFxkKyl8QChcXGQrKXxcXC5cXCpcXCQvZywgKF8sIGhhbmRsZXJJbmRleCwgcGFyYW1JbmRleCkgPT4ge1xuICAgICAgaWYgKGhhbmRsZXJJbmRleCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGluZGV4UmVwbGFjZW1lbnRNYXBbKytjYXB0dXJlSW5kZXhdID0gTnVtYmVyKGhhbmRsZXJJbmRleCk7XG4gICAgICAgIHJldHVybiBcIiQoKVwiO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtSW5kZXggIT09IHZvaWQgMCkge1xuICAgICAgICBwYXJhbVJlcGxhY2VtZW50TWFwW051bWJlcihwYXJhbUluZGV4KV0gPSArK2NhcHR1cmVJbmRleDtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9KTtcbiAgICByZXR1cm4gW25ldyBSZWdFeHAoYF4ke3JlZ2V4cH1gKSwgaW5kZXhSZXBsYWNlbWVudE1hcCwgcGFyYW1SZXBsYWNlbWVudE1hcF07XG4gIH1cbn07XG5leHBvcnQge1xuICBUcmllXG59O1xuIiwiLy8gc3JjL3JvdXRlci9yZWctZXhwLXJvdXRlci9yb3V0ZXIudHNcbmltcG9ydCB7XG4gIE1FU1NBR0VfTUFUQ0hFUl9JU19BTFJFQURZX0JVSUxULFxuICBNRVRIT0RfTkFNRV9BTEwsXG4gIFVuc3VwcG9ydGVkUGF0aEVycm9yXG59IGZyb20gXCIuLi8uLi9yb3V0ZXIuanNcIjtcbmltcG9ydCB7IGNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIgfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXJsLmpzXCI7XG5pbXBvcnQgeyBtYXRjaCwgZW1wdHlQYXJhbSB9IGZyb20gXCIuL21hdGNoZXIuanNcIjtcbmltcG9ydCB7IFBBVEhfRVJST1IgfSBmcm9tIFwiLi9ub2RlLmpzXCI7XG5pbXBvcnQgeyBUcmllIH0gZnJvbSBcIi4vdHJpZS5qc1wiO1xudmFyIG51bGxNYXRjaGVyID0gWy9eJC8sIFtdLCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKV07XG52YXIgd2lsZGNhcmRSZWdFeHBDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gYnVpbGRXaWxkY2FyZFJlZ0V4cChwYXRoKSB7XG4gIHJldHVybiB3aWxkY2FyZFJlZ0V4cENhY2hlW3BhdGhdID8/PSBuZXcgUmVnRXhwKFxuICAgIHBhdGggPT09IFwiKlwiID8gXCJcIiA6IGBeJHtwYXRoLnJlcGxhY2UoXG4gICAgICAvXFwvXFwqJHwoWy5cXFxcKypbXlxcXSQoKV0pL2csXG4gICAgICAoXywgbWV0YUNoYXIpID0+IG1ldGFDaGFyID8gYFxcXFwke21ldGFDaGFyfWAgOiBcIig/OnwvLiopXCJcbiAgICApfSRgXG4gICk7XG59XG5mdW5jdGlvbiBjbGVhcldpbGRjYXJkUmVnRXhwQ2FjaGUoKSB7XG4gIHdpbGRjYXJkUmVnRXhwQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkTWF0Y2hlckZyb21QcmVwcm9jZXNzZWRSb3V0ZXMocm91dGVzKSB7XG4gIGNvbnN0IHRyaWUgPSBuZXcgVHJpZSgpO1xuICBjb25zdCBoYW5kbGVyRGF0YSA9IFtdO1xuICBpZiAocm91dGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsTWF0Y2hlcjtcbiAgfVxuICBjb25zdCByb3V0ZXNXaXRoU3RhdGljUGF0aEZsYWcgPSByb3V0ZXMubWFwKFxuICAgIChyb3V0ZSkgPT4gWyEvXFwqfFxcLzovLnRlc3Qocm91dGVbMF0pLCAuLi5yb3V0ZV1cbiAgKS5zb3J0KFxuICAgIChbaXNTdGF0aWNBLCBwYXRoQV0sIFtpc1N0YXRpY0IsIHBhdGhCXSkgPT4gaXNTdGF0aWNBID8gMSA6IGlzU3RhdGljQiA/IC0xIDogcGF0aEEubGVuZ3RoIC0gcGF0aEIubGVuZ3RoXG4gICk7XG4gIGNvbnN0IHN0YXRpY01hcCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IC0xLCBsZW4gPSByb3V0ZXNXaXRoU3RhdGljUGF0aEZsYWcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBbcGF0aEVycm9yQ2hlY2tPbmx5LCBwYXRoLCBoYW5kbGVyc10gPSByb3V0ZXNXaXRoU3RhdGljUGF0aEZsYWdbaV07XG4gICAgaWYgKHBhdGhFcnJvckNoZWNrT25seSkge1xuICAgICAgc3RhdGljTWFwW3BhdGhdID0gW2hhbmRsZXJzLm1hcCgoW2hdKSA9PiBbaCwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCldKSwgZW1wdHlQYXJhbV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGorKztcbiAgICB9XG4gICAgbGV0IHBhcmFtQXNzb2M7XG4gICAgdHJ5IHtcbiAgICAgIHBhcmFtQXNzb2MgPSB0cmllLmluc2VydChwYXRoLCBqLCBwYXRoRXJyb3JDaGVja09ubHkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGUgPT09IFBBVEhfRVJST1IgPyBuZXcgVW5zdXBwb3J0ZWRQYXRoRXJyb3IocGF0aCkgOiBlO1xuICAgIH1cbiAgICBpZiAocGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaGFuZGxlckRhdGFbal0gPSBoYW5kbGVycy5tYXAoKFtoLCBwYXJhbUNvdW50XSkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1JbmRleE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgcGFyYW1Db3VudCAtPSAxO1xuICAgICAgZm9yICg7IHBhcmFtQ291bnQgPj0gMDsgcGFyYW1Db3VudC0tKSB7XG4gICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IHBhcmFtQXNzb2NbcGFyYW1Db3VudF07XG4gICAgICAgIHBhcmFtSW5kZXhNYXBba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtoLCBwYXJhbUluZGV4TWFwXTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBbcmVnZXhwLCBpbmRleFJlcGxhY2VtZW50TWFwLCBwYXJhbVJlcGxhY2VtZW50TWFwXSA9IHRyaWUuYnVpbGRSZWdFeHAoKTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGhhbmRsZXJEYXRhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDAsIGxlbjIgPSBoYW5kbGVyRGF0YVtpXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcbiAgICAgIGNvbnN0IG1hcCA9IGhhbmRsZXJEYXRhW2ldW2pdPy5bMV07XG4gICAgICBpZiAoIW1hcCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhtYXApO1xuICAgICAgZm9yIChsZXQgayA9IDAsIGxlbjMgPSBrZXlzLmxlbmd0aDsgayA8IGxlbjM7IGsrKykge1xuICAgICAgICBtYXBba2V5c1trXV0gPSBwYXJhbVJlcGxhY2VtZW50TWFwW21hcFtrZXlzW2tdXV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGhhbmRsZXJNYXAgPSBbXTtcbiAgZm9yIChjb25zdCBpIGluIGluZGV4UmVwbGFjZW1lbnRNYXApIHtcbiAgICBoYW5kbGVyTWFwW2ldID0gaGFuZGxlckRhdGFbaW5kZXhSZXBsYWNlbWVudE1hcFtpXV07XG4gIH1cbiAgcmV0dXJuIFtyZWdleHAsIGhhbmRsZXJNYXAsIHN0YXRpY01hcF07XG59XG5mdW5jdGlvbiBmaW5kTWlkZGxld2FyZShtaWRkbGV3YXJlLCBwYXRoKSB7XG4gIGlmICghbWlkZGxld2FyZSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgZm9yIChjb25zdCBrIG9mIE9iamVjdC5rZXlzKG1pZGRsZXdhcmUpLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpKSB7XG4gICAgaWYgKGJ1aWxkV2lsZGNhcmRSZWdFeHAoaykudGVzdChwYXRoKSkge1xuICAgICAgcmV0dXJuIFsuLi5taWRkbGV3YXJlW2tdXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbnZhciBSZWdFeHBSb3V0ZXIgPSBjbGFzcyB7XG4gIG5hbWUgPSBcIlJlZ0V4cFJvdXRlclwiO1xuICAjbWlkZGxld2FyZTtcbiAgI3JvdXRlcztcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4jbWlkZGxld2FyZSA9IHsgW01FVEhPRF9OQU1FX0FMTF06IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpIH07XG4gICAgdGhpcy4jcm91dGVzID0geyBbTUVUSE9EX05BTUVfQUxMXTogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkgfTtcbiAgfVxuICBhZGQobWV0aG9kLCBwYXRoLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IHRoaXMuI21pZGRsZXdhcmU7XG4gICAgY29uc3Qgcm91dGVzID0gdGhpcy4jcm91dGVzO1xuICAgIGlmICghbWlkZGxld2FyZSB8fCAhcm91dGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoTUVTU0FHRV9NQVRDSEVSX0lTX0FMUkVBRFlfQlVJTFQpO1xuICAgIH1cbiAgICBpZiAoIW1pZGRsZXdhcmVbbWV0aG9kXSkge1xuICAgICAgO1xuICAgICAgW21pZGRsZXdhcmUsIHJvdXRlc10uZm9yRWFjaCgoaGFuZGxlck1hcCkgPT4ge1xuICAgICAgICBoYW5kbGVyTWFwW21ldGhvZF0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgT2JqZWN0LmtleXMoaGFuZGxlck1hcFtNRVRIT0RfTkFNRV9BTExdKS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaGFuZGxlck1hcFttZXRob2RdW3BdID0gWy4uLmhhbmRsZXJNYXBbTUVUSE9EX05BTUVfQUxMXVtwXV07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwYXRoID09PSBcIi8qXCIpIHtcbiAgICAgIHBhdGggPSBcIipcIjtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1Db3VudCA9IChwYXRoLm1hdGNoKC9cXC86L2cpIHx8IFtdKS5sZW5ndGg7XG4gICAgaWYgKC9cXCokLy50ZXN0KHBhdGgpKSB7XG4gICAgICBjb25zdCByZSA9IGJ1aWxkV2lsZGNhcmRSZWdFeHAocGF0aCk7XG4gICAgICBpZiAobWV0aG9kID09PSBNRVRIT0RfTkFNRV9BTEwpIHtcbiAgICAgICAgT2JqZWN0LmtleXMobWlkZGxld2FyZSkuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICAgIG1pZGRsZXdhcmVbbV1bcGF0aF0gfHw9IGZpbmRNaWRkbGV3YXJlKG1pZGRsZXdhcmVbbV0sIHBhdGgpIHx8IGZpbmRNaWRkbGV3YXJlKG1pZGRsZXdhcmVbTUVUSE9EX05BTUVfQUxMXSwgcGF0aCkgfHwgW107XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlkZGxld2FyZVttZXRob2RdW3BhdGhdIHx8PSBmaW5kTWlkZGxld2FyZShtaWRkbGV3YXJlW21ldGhvZF0sIHBhdGgpIHx8IGZpbmRNaWRkbGV3YXJlKG1pZGRsZXdhcmVbTUVUSE9EX05BTUVfQUxMXSwgcGF0aCkgfHwgW107XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhtaWRkbGV3YXJlKS5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IE1FVEhPRF9OQU1FX0FMTCB8fCBtZXRob2QgPT09IG0pIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhtaWRkbGV3YXJlW21dKS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICByZS50ZXN0KHApICYmIG1pZGRsZXdhcmVbbV1bcF0ucHVzaChbaGFuZGxlciwgcGFyYW1Db3VudF0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBpZiAobWV0aG9kID09PSBNRVRIT0RfTkFNRV9BTEwgfHwgbWV0aG9kID09PSBtKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMocm91dGVzW21dKS5mb3JFYWNoKFxuICAgICAgICAgICAgKHApID0+IHJlLnRlc3QocCkgJiYgcm91dGVzW21dW3BdLnB1c2goW2hhbmRsZXIsIHBhcmFtQ291bnRdKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwYXRocyA9IGNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIocGF0aCkgfHwgW3BhdGhdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgcGF0aDIgPSBwYXRoc1tpXTtcbiAgICAgIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBpZiAobWV0aG9kID09PSBNRVRIT0RfTkFNRV9BTEwgfHwgbWV0aG9kID09PSBtKSB7XG4gICAgICAgICAgcm91dGVzW21dW3BhdGgyXSB8fD0gW1xuICAgICAgICAgICAgLi4uZmluZE1pZGRsZXdhcmUobWlkZGxld2FyZVttXSwgcGF0aDIpIHx8IGZpbmRNaWRkbGV3YXJlKG1pZGRsZXdhcmVbTUVUSE9EX05BTUVfQUxMXSwgcGF0aDIpIHx8IFtdXG4gICAgICAgICAgXTtcbiAgICAgICAgICByb3V0ZXNbbV1bcGF0aDJdLnB1c2goW2hhbmRsZXIsIHBhcmFtQ291bnQgLSBsZW4gKyBpICsgMV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgbWF0Y2ggPSBtYXRjaDtcbiAgYnVpbGRBbGxNYXRjaGVycygpIHtcbiAgICBjb25zdCBtYXRjaGVycyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuI3JvdXRlcykuY29uY2F0KE9iamVjdC5rZXlzKHRoaXMuI21pZGRsZXdhcmUpKS5mb3JFYWNoKChtZXRob2QpID0+IHtcbiAgICAgIG1hdGNoZXJzW21ldGhvZF0gfHw9IHRoaXMuI2J1aWxkTWF0Y2hlcihtZXRob2QpO1xuICAgIH0pO1xuICAgIHRoaXMuI21pZGRsZXdhcmUgPSB0aGlzLiNyb3V0ZXMgPSB2b2lkIDA7XG4gICAgY2xlYXJXaWxkY2FyZFJlZ0V4cENhY2hlKCk7XG4gICAgcmV0dXJuIG1hdGNoZXJzO1xuICB9XG4gICNidWlsZE1hdGNoZXIobWV0aG9kKSB7XG4gICAgY29uc3Qgcm91dGVzID0gW107XG4gICAgbGV0IGhhc093blJvdXRlID0gbWV0aG9kID09PSBNRVRIT0RfTkFNRV9BTEw7XG4gICAgW3RoaXMuI21pZGRsZXdhcmUsIHRoaXMuI3JvdXRlc10uZm9yRWFjaCgocikgPT4ge1xuICAgICAgY29uc3Qgb3duUm91dGUgPSByW21ldGhvZF0gPyBPYmplY3Qua2V5cyhyW21ldGhvZF0pLm1hcCgocGF0aCkgPT4gW3BhdGgsIHJbbWV0aG9kXVtwYXRoXV0pIDogW107XG4gICAgICBpZiAob3duUm91dGUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGhhc093blJvdXRlIHx8PSB0cnVlO1xuICAgICAgICByb3V0ZXMucHVzaCguLi5vd25Sb3V0ZSk7XG4gICAgICB9IGVsc2UgaWYgKG1ldGhvZCAhPT0gTUVUSE9EX05BTUVfQUxMKSB7XG4gICAgICAgIHJvdXRlcy5wdXNoKFxuICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHJbTUVUSE9EX05BTUVfQUxMXSkubWFwKChwYXRoKSA9PiBbcGF0aCwgcltNRVRIT0RfTkFNRV9BTExdW3BhdGhdXSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWhhc093blJvdXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1aWxkTWF0Y2hlckZyb21QcmVwcm9jZXNzZWRSb3V0ZXMocm91dGVzKTtcbiAgICB9XG4gIH1cbn07XG5leHBvcnQge1xuICBSZWdFeHBSb3V0ZXJcbn07XG4iLCIvLyBzcmMvcm91dGVyL3NtYXJ0LXJvdXRlci9yb3V0ZXIudHNcbmltcG9ydCB7IE1FU1NBR0VfTUFUQ0hFUl9JU19BTFJFQURZX0JVSUxULCBVbnN1cHBvcnRlZFBhdGhFcnJvciB9IGZyb20gXCIuLi8uLi9yb3V0ZXIuanNcIjtcbnZhciBTbWFydFJvdXRlciA9IGNsYXNzIHtcbiAgbmFtZSA9IFwiU21hcnRSb3V0ZXJcIjtcbiAgI3JvdXRlcnMgPSBbXTtcbiAgI3JvdXRlcyA9IFtdO1xuICBjb25zdHJ1Y3Rvcihpbml0KSB7XG4gICAgdGhpcy4jcm91dGVycyA9IGluaXQucm91dGVycztcbiAgfVxuICBhZGQobWV0aG9kLCBwYXRoLCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLiNyb3V0ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNRVNTQUdFX01BVENIRVJfSVNfQUxSRUFEWV9CVUlMVCk7XG4gICAgfVxuICAgIHRoaXMuI3JvdXRlcy5wdXNoKFttZXRob2QsIHBhdGgsIGhhbmRsZXJdKTtcbiAgfVxuICBtYXRjaChtZXRob2QsIHBhdGgpIHtcbiAgICBpZiAoIXRoaXMuI3JvdXRlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmF0YWwgZXJyb3JcIik7XG4gICAgfVxuICAgIGNvbnN0IHJvdXRlcnMgPSB0aGlzLiNyb3V0ZXJzO1xuICAgIGNvbnN0IHJvdXRlcyA9IHRoaXMuI3JvdXRlcztcbiAgICBjb25zdCBsZW4gPSByb3V0ZXJzLmxlbmd0aDtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IHJlcztcbiAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCByb3V0ZXIgPSByb3V0ZXJzW2ldO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChsZXQgaTIgPSAwLCBsZW4yID0gcm91dGVzLmxlbmd0aDsgaTIgPCBsZW4yOyBpMisrKSB7XG4gICAgICAgICAgcm91dGVyLmFkZCguLi5yb3V0ZXNbaTJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXMgPSByb3V0ZXIubWF0Y2gobWV0aG9kLCBwYXRoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1cHBvcnRlZFBhdGhFcnJvcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgICB0aGlzLm1hdGNoID0gcm91dGVyLm1hdGNoLmJpbmQocm91dGVyKTtcbiAgICAgIHRoaXMuI3JvdXRlcnMgPSBbcm91dGVyXTtcbiAgICAgIHRoaXMuI3JvdXRlcyA9IHZvaWQgMDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoaSA9PT0gbGVuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYXRhbCBlcnJvclwiKTtcbiAgICB9XG4gICAgdGhpcy5uYW1lID0gYFNtYXJ0Um91dGVyICsgJHt0aGlzLmFjdGl2ZVJvdXRlci5uYW1lfWA7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBnZXQgYWN0aXZlUm91dGVyKCkge1xuICAgIGlmICh0aGlzLiNyb3V0ZXMgfHwgdGhpcy4jcm91dGVycy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSByb3V0ZXIgaGFzIGJlZW4gZGV0ZXJtaW5lZCB5ZXQuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy4jcm91dGVyc1swXTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIFNtYXJ0Um91dGVyXG59O1xuIiwiLy8gc3JjL3JvdXRlci90cmllLXJvdXRlci9ub2RlLnRzXG5pbXBvcnQgeyBNRVRIT0RfTkFNRV9BTEwgfSBmcm9tIFwiLi4vLi4vcm91dGVyLmpzXCI7XG5pbXBvcnQgeyBnZXRQYXR0ZXJuLCBzcGxpdFBhdGgsIHNwbGl0Um91dGluZ1BhdGggfSBmcm9tIFwiLi4vLi4vdXRpbHMvdXJsLmpzXCI7XG52YXIgZW1wdHlQYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbnZhciBOb2RlID0gY2xhc3MgX05vZGUge1xuICAjbWV0aG9kcztcbiAgI2NoaWxkcmVuO1xuICAjcGF0dGVybnM7XG4gICNvcmRlciA9IDA7XG4gICNwYXJhbXMgPSBlbXB0eVBhcmFtcztcbiAgY29uc3RydWN0b3IobWV0aG9kLCBoYW5kbGVyLCBjaGlsZHJlbikge1xuICAgIHRoaXMuI2NoaWxkcmVuID0gY2hpbGRyZW4gfHwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy4jbWV0aG9kcyA9IFtdO1xuICAgIGlmIChtZXRob2QgJiYgaGFuZGxlcikge1xuICAgICAgY29uc3QgbSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgbVttZXRob2RdID0geyBoYW5kbGVyLCBwb3NzaWJsZUtleXM6IFtdLCBzY29yZTogMCB9O1xuICAgICAgdGhpcy4jbWV0aG9kcyA9IFttXTtcbiAgICB9XG4gICAgdGhpcy4jcGF0dGVybnMgPSBbXTtcbiAgfVxuICBpbnNlcnQobWV0aG9kLCBwYXRoLCBoYW5kbGVyKSB7XG4gICAgdGhpcy4jb3JkZXIgPSArK3RoaXMuI29yZGVyO1xuICAgIGxldCBjdXJOb2RlID0gdGhpcztcbiAgICBjb25zdCBwYXJ0cyA9IHNwbGl0Um91dGluZ1BhdGgocGF0aCk7XG4gICAgY29uc3QgcG9zc2libGVLZXlzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcGFydHNbaV07XG4gICAgICBjb25zdCBuZXh0UCA9IHBhcnRzW2kgKyAxXTtcbiAgICAgIGNvbnN0IHBhdHRlcm4gPSBnZXRQYXR0ZXJuKHAsIG5leHRQKTtcbiAgICAgIGNvbnN0IGtleSA9IEFycmF5LmlzQXJyYXkocGF0dGVybikgPyBwYXR0ZXJuWzBdIDogcDtcbiAgICAgIGlmIChrZXkgaW4gY3VyTm9kZS4jY2hpbGRyZW4pIHtcbiAgICAgICAgY3VyTm9kZSA9IGN1ck5vZGUuI2NoaWxkcmVuW2tleV07XG4gICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgcG9zc2libGVLZXlzLnB1c2gocGF0dGVyblsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdXJOb2RlLiNjaGlsZHJlbltrZXldID0gbmV3IF9Ob2RlKCk7XG4gICAgICBpZiAocGF0dGVybikge1xuICAgICAgICBjdXJOb2RlLiNwYXR0ZXJucy5wdXNoKHBhdHRlcm4pO1xuICAgICAgICBwb3NzaWJsZUtleXMucHVzaChwYXR0ZXJuWzFdKTtcbiAgICAgIH1cbiAgICAgIGN1ck5vZGUgPSBjdXJOb2RlLiNjaGlsZHJlbltrZXldO1xuICAgIH1cbiAgICBjdXJOb2RlLiNtZXRob2RzLnB1c2goe1xuICAgICAgW21ldGhvZF06IHtcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAgcG9zc2libGVLZXlzOiBwb3NzaWJsZUtleXMuZmlsdGVyKCh2LCBpLCBhKSA9PiBhLmluZGV4T2YodikgPT09IGkpLFxuICAgICAgICBzY29yZTogdGhpcy4jb3JkZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY3VyTm9kZTtcbiAgfVxuICAjZ2V0SGFuZGxlclNldHMobm9kZSwgbWV0aG9kLCBub2RlUGFyYW1zLCBwYXJhbXMpIHtcbiAgICBjb25zdCBoYW5kbGVyU2V0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBub2RlLiNtZXRob2RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBtID0gbm9kZS4jbWV0aG9kc1tpXTtcbiAgICAgIGNvbnN0IGhhbmRsZXJTZXQgPSBtW21ldGhvZF0gfHwgbVtNRVRIT0RfTkFNRV9BTExdO1xuICAgICAgY29uc3QgcHJvY2Vzc2VkU2V0ID0ge307XG4gICAgICBpZiAoaGFuZGxlclNldCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGhhbmRsZXJTZXQucGFyYW1zID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGhhbmRsZXJTZXRzLnB1c2goaGFuZGxlclNldCk7XG4gICAgICAgIGlmIChub2RlUGFyYW1zICE9PSBlbXB0eVBhcmFtcyB8fCBwYXJhbXMgJiYgcGFyYW1zICE9PSBlbXB0eVBhcmFtcykge1xuICAgICAgICAgIGZvciAobGV0IGkyID0gMCwgbGVuMiA9IGhhbmRsZXJTZXQucG9zc2libGVLZXlzLmxlbmd0aDsgaTIgPCBsZW4yOyBpMisrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBoYW5kbGVyU2V0LnBvc3NpYmxlS2V5c1tpMl07XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBwcm9jZXNzZWRTZXRbaGFuZGxlclNldC5zY29yZV07XG4gICAgICAgICAgICBoYW5kbGVyU2V0LnBhcmFtc1trZXldID0gcGFyYW1zPy5ba2V5XSAmJiAhcHJvY2Vzc2VkID8gcGFyYW1zW2tleV0gOiBub2RlUGFyYW1zW2tleV0gPz8gcGFyYW1zPy5ba2V5XTtcbiAgICAgICAgICAgIHByb2Nlc3NlZFNldFtoYW5kbGVyU2V0LnNjb3JlXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyU2V0cztcbiAgfVxuICBzZWFyY2gobWV0aG9kLCBwYXRoKSB7XG4gICAgY29uc3QgaGFuZGxlclNldHMgPSBbXTtcbiAgICB0aGlzLiNwYXJhbXMgPSBlbXB0eVBhcmFtcztcbiAgICBjb25zdCBjdXJOb2RlID0gdGhpcztcbiAgICBsZXQgY3VyTm9kZXMgPSBbY3VyTm9kZV07XG4gICAgY29uc3QgcGFydHMgPSBzcGxpdFBhdGgocGF0aCk7XG4gICAgY29uc3QgY3VyTm9kZXNRdWV1ZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gbGVuIC0gMTtcbiAgICAgIGNvbnN0IHRlbXBOb2RlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaiA9IDAsIGxlbjIgPSBjdXJOb2Rlcy5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGN1ck5vZGVzW2pdO1xuICAgICAgICBjb25zdCBuZXh0Tm9kZSA9IG5vZGUuI2NoaWxkcmVuW3BhcnRdO1xuICAgICAgICBpZiAobmV4dE5vZGUpIHtcbiAgICAgICAgICBuZXh0Tm9kZS4jcGFyYW1zID0gbm9kZS4jcGFyYW1zO1xuICAgICAgICAgIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICAgIGlmIChuZXh0Tm9kZS4jY2hpbGRyZW5bXCIqXCJdKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXJTZXRzLnB1c2goXG4gICAgICAgICAgICAgICAgLi4udGhpcy4jZ2V0SGFuZGxlclNldHMobmV4dE5vZGUuI2NoaWxkcmVuW1wiKlwiXSwgbWV0aG9kLCBub2RlLiNwYXJhbXMpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGVyU2V0cy5wdXNoKC4uLnRoaXMuI2dldEhhbmRsZXJTZXRzKG5leHROb2RlLCBtZXRob2QsIG5vZGUuI3BhcmFtcykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wTm9kZXMucHVzaChuZXh0Tm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGsgPSAwLCBsZW4zID0gbm9kZS4jcGF0dGVybnMubGVuZ3RoOyBrIDwgbGVuMzsgaysrKSB7XG4gICAgICAgICAgY29uc3QgcGF0dGVybiA9IG5vZGUuI3BhdHRlcm5zW2tdO1xuICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5vZGUuI3BhcmFtcyA9PT0gZW1wdHlQYXJhbXMgPyB7fSA6IHsgLi4ubm9kZS4jcGFyYW1zIH07XG4gICAgICAgICAgaWYgKHBhdHRlcm4gPT09IFwiKlwiKSB7XG4gICAgICAgICAgICBjb25zdCBhc3ROb2RlID0gbm9kZS4jY2hpbGRyZW5bXCIqXCJdO1xuICAgICAgICAgICAgaWYgKGFzdE5vZGUpIHtcbiAgICAgICAgICAgICAgaGFuZGxlclNldHMucHVzaCguLi50aGlzLiNnZXRIYW5kbGVyU2V0cyhhc3ROb2RlLCBtZXRob2QsIG5vZGUuI3BhcmFtcykpO1xuICAgICAgICAgICAgICBhc3ROb2RlLiNwYXJhbXMgPSBwYXJhbXM7XG4gICAgICAgICAgICAgIHRlbXBOb2Rlcy5wdXNoKGFzdE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IFtrZXksIG5hbWUsIG1hdGNoZXJdID0gcGF0dGVybjtcbiAgICAgICAgICBpZiAoIXBhcnQgJiYgIShtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS4jY2hpbGRyZW5ba2V5XTtcbiAgICAgICAgICBjb25zdCByZXN0UGF0aFN0cmluZyA9IHBhcnRzLnNsaWNlKGkpLmpvaW4oXCIvXCIpO1xuICAgICAgICAgIGlmIChtYXRjaGVyIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICBjb25zdCBtID0gbWF0Y2hlci5leGVjKHJlc3RQYXRoU3RyaW5nKTtcbiAgICAgICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgICAgIHBhcmFtc1tuYW1lXSA9IG1bMF07XG4gICAgICAgICAgICAgIGhhbmRsZXJTZXRzLnB1c2goLi4udGhpcy4jZ2V0SGFuZGxlclNldHMoY2hpbGQsIG1ldGhvZCwgbm9kZS4jcGFyYW1zLCBwYXJhbXMpKTtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNoaWxkLiNjaGlsZHJlbikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuI3BhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnRDb3VudCA9IG1bMF0ubWF0Y2goL1xcLy8pPy5sZW5ndGggPz8gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDdXJOb2RlcyA9IGN1ck5vZGVzUXVldWVbY29tcG9uZW50Q291bnRdIHx8PSBbXTtcbiAgICAgICAgICAgICAgICB0YXJnZXRDdXJOb2Rlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1hdGNoZXIgPT09IHRydWUgfHwgbWF0Y2hlci50ZXN0KHBhcnQpKSB7XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSBwYXJ0O1xuICAgICAgICAgICAgaWYgKGlzTGFzdCkge1xuICAgICAgICAgICAgICBoYW5kbGVyU2V0cy5wdXNoKC4uLnRoaXMuI2dldEhhbmRsZXJTZXRzKGNoaWxkLCBtZXRob2QsIHBhcmFtcywgbm9kZS4jcGFyYW1zKSk7XG4gICAgICAgICAgICAgIGlmIChjaGlsZC4jY2hpbGRyZW5bXCIqXCJdKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlclNldHMucHVzaChcbiAgICAgICAgICAgICAgICAgIC4uLnRoaXMuI2dldEhhbmRsZXJTZXRzKGNoaWxkLiNjaGlsZHJlbltcIipcIl0sIG1ldGhvZCwgcGFyYW1zLCBub2RlLiNwYXJhbXMpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hpbGQuI3BhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgICAgICAgdGVtcE5vZGVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VyTm9kZXMgPSB0ZW1wTm9kZXMuY29uY2F0KGN1ck5vZGVzUXVldWUuc2hpZnQoKSA/PyBbXSk7XG4gICAgfVxuICAgIGlmIChoYW5kbGVyU2V0cy5sZW5ndGggPiAxKSB7XG4gICAgICBoYW5kbGVyU2V0cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLnNjb3JlIC0gYi5zY29yZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gW2hhbmRsZXJTZXRzLm1hcCgoeyBoYW5kbGVyLCBwYXJhbXMgfSkgPT4gW2hhbmRsZXIsIHBhcmFtc10pXTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIE5vZGVcbn07XG4iLCIvLyBzcmMvcm91dGVyL3RyaWUtcm91dGVyL3JvdXRlci50c1xuaW1wb3J0IHsgY2hlY2tPcHRpb25hbFBhcmFtZXRlciB9IGZyb20gXCIuLi8uLi91dGlscy91cmwuanNcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9ub2RlLmpzXCI7XG52YXIgVHJpZVJvdXRlciA9IGNsYXNzIHtcbiAgbmFtZSA9IFwiVHJpZVJvdXRlclwiO1xuICAjbm9kZTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy4jbm9kZSA9IG5ldyBOb2RlKCk7XG4gIH1cbiAgYWRkKG1ldGhvZCwgcGF0aCwgaGFuZGxlcikge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBjaGVja09wdGlvbmFsUGFyYW1ldGVyKHBhdGgpO1xuICAgIGlmIChyZXN1bHRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0aGlzLiNub2RlLmluc2VydChtZXRob2QsIHJlc3VsdHNbaV0sIGhhbmRsZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLiNub2RlLmluc2VydChtZXRob2QsIHBhdGgsIGhhbmRsZXIpO1xuICB9XG4gIG1hdGNoKG1ldGhvZCwgcGF0aCkge1xuICAgIHJldHVybiB0aGlzLiNub2RlLnNlYXJjaChtZXRob2QsIHBhdGgpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgVHJpZVJvdXRlclxufTtcbiIsIi8vIHNyYy9ob25vLnRzXG5pbXBvcnQgeyBIb25vQmFzZSB9IGZyb20gXCIuL2hvbm8tYmFzZS5qc1wiO1xuaW1wb3J0IHsgUmVnRXhwUm91dGVyIH0gZnJvbSBcIi4vcm91dGVyL3JlZy1leHAtcm91dGVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTbWFydFJvdXRlciB9IGZyb20gXCIuL3JvdXRlci9zbWFydC1yb3V0ZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IFRyaWVSb3V0ZXIgfSBmcm9tIFwiLi9yb3V0ZXIvdHJpZS1yb3V0ZXIvaW5kZXguanNcIjtcbnZhciBIb25vID0gY2xhc3MgZXh0ZW5kcyBIb25vQmFzZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBIb25vIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIEhvbm8gaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICB0aGlzLnJvdXRlciA9IG9wdGlvbnMucm91dGVyID8/IG5ldyBTbWFydFJvdXRlcih7XG4gICAgICByb3V0ZXJzOiBbbmV3IFJlZ0V4cFJvdXRlcigpLCBuZXcgVHJpZVJvdXRlcigpXVxuICAgIH0pO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgSG9ub1xufTtcbiIsIi8vIHNyYy9taWRkbGV3YXJlL2NvcnMvaW5kZXgudHNcbnZhciBjb3JzID0gKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgb3JpZ2luOiBcIipcIixcbiAgICBhbGxvd01ldGhvZHM6IFtcIkdFVFwiLCBcIkhFQURcIiwgXCJQVVRcIiwgXCJQT1NUXCIsIFwiREVMRVRFXCIsIFwiUEFUQ0hcIl0sXG4gICAgYWxsb3dIZWFkZXJzOiBbXSxcbiAgICBleHBvc2VIZWFkZXJzOiBbXVxuICB9O1xuICBjb25zdCBvcHRzID0ge1xuICAgIC4uLmRlZmF1bHRzLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgZmluZEFsbG93T3JpZ2luID0gKChvcHRzT3JpZ2luKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JpZ2luID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAob3B0c09yaWdpbiA9PT0gXCIqXCIpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IG9wdHNPcmlnaW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKG9yaWdpbikgPT4gb3B0c09yaWdpbiA9PT0gb3JpZ2luID8gb3JpZ2luIDogbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzT3JpZ2luID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBvcHRzT3JpZ2luO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKG9yaWdpbikgPT4gb3B0c09yaWdpbi5pbmNsdWRlcyhvcmlnaW4pID8gb3JpZ2luIDogbnVsbDtcbiAgICB9XG4gIH0pKG9wdHMub3JpZ2luKTtcbiAgY29uc3QgZmluZEFsbG93TWV0aG9kcyA9ICgob3B0c0FsbG93TWV0aG9kcykgPT4ge1xuICAgIGlmICh0eXBlb2Ygb3B0c0FsbG93TWV0aG9kcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gb3B0c0FsbG93TWV0aG9kcztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0c0FsbG93TWV0aG9kcykpIHtcbiAgICAgIHJldHVybiAoKSA9PiBvcHRzQWxsb3dNZXRob2RzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKCkgPT4gW107XG4gICAgfVxuICB9KShvcHRzLmFsbG93TWV0aG9kcyk7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBjb3JzMihjLCBuZXh0KSB7XG4gICAgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGMucmVzLmhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBhbGxvd09yaWdpbiA9IGF3YWl0IGZpbmRBbGxvd09yaWdpbihjLnJlcS5oZWFkZXIoXCJvcmlnaW5cIikgfHwgXCJcIiwgYyk7XG4gICAgaWYgKGFsbG93T3JpZ2luKSB7XG4gICAgICBzZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgYWxsb3dPcmlnaW4pO1xuICAgIH1cbiAgICBpZiAob3B0cy5jcmVkZW50aWFscykge1xuICAgICAgc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgICBpZiAob3B0cy5leHBvc2VIZWFkZXJzPy5sZW5ndGgpIHtcbiAgICAgIHNldChcIkFjY2Vzcy1Db250cm9sLUV4cG9zZS1IZWFkZXJzXCIsIG9wdHMuZXhwb3NlSGVhZGVycy5qb2luKFwiLFwiKSk7XG4gICAgfVxuICAgIGlmIChjLnJlcS5tZXRob2QgPT09IFwiT1BUSU9OU1wiKSB7XG4gICAgICBpZiAob3B0cy5vcmlnaW4gIT09IFwiKlwiKSB7XG4gICAgICAgIHNldChcIlZhcnlcIiwgXCJPcmlnaW5cIik7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5tYXhBZ2UgIT0gbnVsbCkge1xuICAgICAgICBzZXQoXCJBY2Nlc3MtQ29udHJvbC1NYXgtQWdlXCIsIG9wdHMubWF4QWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgYWxsb3dNZXRob2RzID0gYXdhaXQgZmluZEFsbG93TWV0aG9kcyhjLnJlcS5oZWFkZXIoXCJvcmlnaW5cIikgfHwgXCJcIiwgYyk7XG4gICAgICBpZiAoYWxsb3dNZXRob2RzLmxlbmd0aCkge1xuICAgICAgICBzZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIGFsbG93TWV0aG9kcy5qb2luKFwiLFwiKSk7XG4gICAgICB9XG4gICAgICBsZXQgaGVhZGVycyA9IG9wdHMuYWxsb3dIZWFkZXJzO1xuICAgICAgaWYgKCFoZWFkZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBjLnJlcS5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIik7XG4gICAgICAgIGlmIChyZXF1ZXN0SGVhZGVycykge1xuICAgICAgICAgIGhlYWRlcnMgPSByZXF1ZXN0SGVhZGVycy5zcGxpdCgvXFxzKixcXHMqLyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChoZWFkZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgc2V0KFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBoZWFkZXJzLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgYy5yZXMuaGVhZGVycy5hcHBlbmQoXCJWYXJ5XCIsIFwiQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzXCIpO1xuICAgICAgfVxuICAgICAgYy5yZXMuaGVhZGVycy5kZWxldGUoXCJDb250ZW50LUxlbmd0aFwiKTtcbiAgICAgIGMucmVzLmhlYWRlcnMuZGVsZXRlKFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIGhlYWRlcnM6IGMucmVzLmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogMjA0LFxuICAgICAgICBzdGF0dXNUZXh0OiBcIk5vIENvbnRlbnRcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGF3YWl0IG5leHQoKTtcbiAgICBpZiAob3B0cy5vcmlnaW4gIT09IFwiKlwiKSB7XG4gICAgICBjLmhlYWRlcihcIlZhcnlcIiwgXCJPcmlnaW5cIiwgeyBhcHBlbmQ6IHRydWUgfSk7XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCB7XG4gIGNvcnNcbn07XG4iLCIvLyBzcmMvdXRpbHMvY29sb3IudHNcbmZ1bmN0aW9uIGdldENvbG9yRW5hYmxlZCgpIHtcbiAgY29uc3QgeyBwcm9jZXNzLCBEZW5vIH0gPSBnbG9iYWxUaGlzO1xuICBjb25zdCBpc05vQ29sb3IgPSB0eXBlb2YgRGVubz8ubm9Db2xvciA9PT0gXCJib29sZWFuXCIgPyBEZW5vLm5vQ29sb3IgOiBwcm9jZXNzICE9PSB2b2lkIDAgPyAoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuc2FmZS1vcHRpb25hbC1jaGFpbmluZ1xuICAgIFwiTk9fQ09MT1JcIiBpbiBwcm9jZXNzPy5lbnZcbiAgKSA6IGZhbHNlO1xuICByZXR1cm4gIWlzTm9Db2xvcjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldENvbG9yRW5hYmxlZEFzeW5jKCkge1xuICBjb25zdCB7IG5hdmlnYXRvciB9ID0gZ2xvYmFsVGhpcztcbiAgY29uc3QgY2ZXb3JrZXJzID0gXCJjbG91ZGZsYXJlOndvcmtlcnNcIjtcbiAgY29uc3QgaXNOb0NvbG9yID0gbmF2aWdhdG9yICE9PSB2b2lkIDAgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCA9PT0gXCJDbG91ZGZsYXJlLVdvcmtlcnNcIiA/IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBcIk5PX0NPTE9SXCIgaW4gKChhd2FpdCBpbXBvcnQoY2ZXb3JrZXJzKSkuZW52ID8/IHt9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCkgOiAhZ2V0Q29sb3JFbmFibGVkKCk7XG4gIHJldHVybiAhaXNOb0NvbG9yO1xufVxuZXhwb3J0IHtcbiAgZ2V0Q29sb3JFbmFibGVkLFxuICBnZXRDb2xvckVuYWJsZWRBc3luY1xufTtcbiIsIi8vIHNyYy9taWRkbGV3YXJlL2xvZ2dlci9pbmRleC50c1xuaW1wb3J0IHsgZ2V0Q29sb3JFbmFibGVkQXN5bmMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29sb3IuanNcIjtcbnZhciBodW1hbml6ZSA9ICh0aW1lcykgPT4ge1xuICBjb25zdCBbZGVsaW1pdGVyLCBzZXBhcmF0b3JdID0gW1wiLFwiLCBcIi5cIl07XG4gIGNvbnN0IG9yZGVyVGltZXMgPSB0aW1lcy5tYXAoKHYpID0+IHYucmVwbGFjZSgvKFxcZCkoPz0oXFxkXFxkXFxkKSsoPyFcXGQpKS9nLCBcIiQxXCIgKyBkZWxpbWl0ZXIpKTtcbiAgcmV0dXJuIG9yZGVyVGltZXMuam9pbihzZXBhcmF0b3IpO1xufTtcbnZhciB0aW1lID0gKHN0YXJ0KSA9PiB7XG4gIGNvbnN0IGRlbHRhID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICByZXR1cm4gaHVtYW5pemUoW2RlbHRhIDwgMWUzID8gZGVsdGEgKyBcIm1zXCIgOiBNYXRoLnJvdW5kKGRlbHRhIC8gMWUzKSArIFwic1wiXSk7XG59O1xudmFyIGNvbG9yU3RhdHVzID0gYXN5bmMgKHN0YXR1cykgPT4ge1xuICBjb25zdCBjb2xvckVuYWJsZWQgPSBhd2FpdCBnZXRDb2xvckVuYWJsZWRBc3luYygpO1xuICBpZiAoY29sb3JFbmFibGVkKSB7XG4gICAgc3dpdGNoIChzdGF0dXMgLyAxMDAgfCAwKSB7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIHJldHVybiBgXFx4MUJbMzFtJHtzdGF0dXN9XFx4MUJbMG1gO1xuICAgICAgY2FzZSA0OlxuICAgICAgICByZXR1cm4gYFxceDFCWzMzbSR7c3RhdHVzfVxceDFCWzBtYDtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIGBcXHgxQlszNm0ke3N0YXR1c31cXHgxQlswbWA7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBgXFx4MUJbMzJtJHtzdGF0dXN9XFx4MUJbMG1gO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYCR7c3RhdHVzfWA7XG59O1xuYXN5bmMgZnVuY3Rpb24gbG9nKGZuLCBwcmVmaXgsIG1ldGhvZCwgcGF0aCwgc3RhdHVzID0gMCwgZWxhcHNlZCkge1xuICBjb25zdCBvdXQgPSBwcmVmaXggPT09IFwiPC0tXCIgLyogSW5jb21pbmcgKi8gPyBgJHtwcmVmaXh9ICR7bWV0aG9kfSAke3BhdGh9YCA6IGAke3ByZWZpeH0gJHttZXRob2R9ICR7cGF0aH0gJHthd2FpdCBjb2xvclN0YXR1cyhzdGF0dXMpfSAke2VsYXBzZWR9YDtcbiAgZm4ob3V0KTtcbn1cbnZhciBsb2dnZXIgPSAoZm4gPSBjb25zb2xlLmxvZykgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gbG9nZ2VyMihjLCBuZXh0KSB7XG4gICAgY29uc3QgeyBtZXRob2QsIHVybCB9ID0gYy5yZXE7XG4gICAgY29uc3QgcGF0aCA9IHVybC5zbGljZSh1cmwuaW5kZXhPZihcIi9cIiwgOCkpO1xuICAgIGF3YWl0IGxvZyhmbiwgXCI8LS1cIiAvKiBJbmNvbWluZyAqLywgbWV0aG9kLCBwYXRoKTtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgYXdhaXQgbmV4dCgpO1xuICAgIGF3YWl0IGxvZyhmbiwgXCItLT5cIiAvKiBPdXRnb2luZyAqLywgbWV0aG9kLCBwYXRoLCBjLnJlcy5zdGF0dXMsIHRpbWUoc3RhcnQpKTtcbiAgfTtcbn07XG5leHBvcnQge1xuICBsb2dnZXJcbn07XG4iLCIvKipcbiAqIENvcmUgdXRpbGl0aWVzIGZvciBNdWx0aXBsZSBFbnRpdGllcyBzaGFyaW5nIGEgc2luZ2xlIER1cmFibGUgT2JqZWN0IGNsYXNzXG4gKiBETyBOT1QgTU9ESUZZIFRISVMgRklMRSAtIFlvdSBtYXkgYnJlYWsgdGhlIHByb2plY3QgZnVuY3Rpb25hbGl0eS4gU1RSSUNUTFkgRE8gTk9UIFRPVUNIXG4gKiBMb29rIGF0IHRoZSBcXGB3b3JrZXIvZW50aXRpZXMudHNcXGAgZmlsZSBmb3IgZXhhbXBsZXMgb24gaG93IHRvIHVzZSB0aGlzIGxpYnJhcnlcbiAqL1xuaW1wb3J0IHR5cGUgeyBBcGlSZXNwb25zZSB9IGZyb20gXCJAc2hhcmVkL3R5cGVzXCI7XG5pbXBvcnQgeyBEdXJhYmxlT2JqZWN0IH0gZnJvbSBcImNsb3VkZmxhcmU6d29ya2Vyc1wiOyAvLyBETyBOT1QgTU9ESUZZIFRISVMgTElORS4gVGhpcyBpcyBhbHdheXMgYWxyZWFkeSBpbnN0YWxsZWQgYW5kIGF2YWlsYWJsZVxuaW1wb3J0IHR5cGUgeyBDb250ZXh0IH0gZnJvbSBcImhvbm9cIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbnYge1xuICBHbG9iYWxEdXJhYmxlT2JqZWN0OiBEdXJhYmxlT2JqZWN0TmFtZXNwYWNlPEdsb2JhbER1cmFibGVPYmplY3Q+O1xufVxuXG50eXBlIERvYzxUPiA9IHsgdjogbnVtYmVyOyBkYXRhOiBUIH07XG5cbi8qKlxuICogR2xvYmFsIER1cmFibGUgb2JqZWN0IGZvciBzdG9yYWdlLXB1cnBvc2UgT05MWSwgdG8gYmUgdXNlZCBhcyBhIEtWLWxpa2Ugc3RvcmFnZSBieSBtdWx0aXBsZSBlbnRpdGllc1xuICovXG5leHBvcnQgY2xhc3MgR2xvYmFsRHVyYWJsZU9iamVjdCBleHRlbmRzIER1cmFibGVPYmplY3Q8RW52LCB1bmtub3duPiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjdHg6IER1cmFibGVPYmplY3RTdGF0ZSwgcHVibGljIGVudjogRW52KSB7XG4gICAgc3VwZXIoY3R4LCBlbnYpO1xuICB9XG5cbiAgLyoqIERlbGV0ZSBhIGtleTsgcmV0dXJucyB0cnVlIGlmIGl0IGV4aXN0ZWQuICovXG4gIGFzeW5jIGRlbChrZXk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGV4aXN0ZWQgPSAoYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5nZXQoa2V5KSkgIT09IHVuZGVmaW5lZDtcbiAgICBhd2FpdCB0aGlzLmN0eC5zdG9yYWdlLmRlbGV0ZShrZXkpO1xuICAgIHJldHVybiBleGlzdGVkO1xuICB9XG5cbiAgLyoqIEZhc3QgZXhpc3RlbmNlIGNoZWNrLiAqL1xuICBhc3luYyBoYXMoa2V5OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UuZ2V0KGtleSkpICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBhc3luYyBnZXREb2M8VD4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPERvYzxUPiB8IG51bGw+IHtcbiAgICBjb25zdCB2ID0gYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5nZXQ8RG9jPFQ+PihrZXkpO1xuICAgIHJldHVybiB2ID8/IG51bGw7XG4gIH1cblxuICBhc3luYyBjYXNQdXQ8VD4oa2V5OiBzdHJpbmcsIGV4cGVjdGVkVjogbnVtYmVyLCBkYXRhOiBUKTogUHJvbWlzZTx7IG9rOiBib29sZWFuOyB2OiBudW1iZXIgfT4ge1xuICAgIHJldHVybiB0aGlzLmN0eC5zdG9yYWdlLnRyYW5zYWN0aW9uKGFzeW5jICh0eG4pID0+IHtcbiAgICAgIGNvbnN0IGN1ciA9IGF3YWl0IHR4bi5nZXQ8RG9jPFQ+PihrZXkpO1xuICAgICAgY29uc3QgY3VyViA9IGN1cj8udiA/PyAwO1xuICAgICAgaWYgKGN1clYgIT09IGV4cGVjdGVkVikgcmV0dXJuIHsgb2s6IGZhbHNlLCB2OiBjdXJWIH07XG4gICAgICBjb25zdCBuZXh0ViA9IGN1clYgKyAxO1xuICAgICAgYXdhaXQgdHhuLnB1dChrZXksIHsgdjogbmV4dFYsIGRhdGEgfSk7XG4gICAgICByZXR1cm4geyBvazogdHJ1ZSwgdjogbmV4dFYgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RQcmVmaXgocHJlZml4OiBzdHJpbmcsIHN0YXJ0QWZ0ZXI/OiBzdHJpbmcgfCBudWxsLCBsaW1pdD86IG51bWJlcikge1xuICAgIGNvbnN0IG9wdHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0geyBwcmVmaXggfTtcbiAgICBpZiAobGltaXQgIT0gbnVsbCkgb3B0cy5saW1pdCA9IGxpbWl0O1xuICAgIGlmIChzdGFydEFmdGVyKSAgIG9wdHMuc3RhcnRBZnRlciA9IHN0YXJ0QWZ0ZXI7XG4gIFxuICAgIGNvbnN0IG0gPSBhd2FpdCB0aGlzLmN0eC5zdG9yYWdlLmxpc3Qob3B0cyk7ICAgICAgICAgICAgLy8gTWFwPHN0cmluZywgdW5rbm93bj5cbiAgICBjb25zdCBuYW1lcyA9IEFycmF5LmZyb20oKG0gYXMgTWFwPHN0cmluZywgdW5rbm93bj4pLmtleXMoKSk7XG4gICAgLy8gSGV1cmlzdGljOiBpZiB3ZSBnb3QgXCJsaW1pdFwiIGl0ZW1zLCBhc3N1bWUgdGhlcmUgbWlnaHQgYmUgbW9yZTsgdXNlIHRoZSBsYXN0IGtleSBhcyB0aGUgY3Vyc29yLlxuICAgIGNvbnN0IG5leHQgPSBsaW1pdCAhPSBudWxsICYmIG5hbWVzLmxlbmd0aCA9PT0gbGltaXQgPyBuYW1lc1tuYW1lcy5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgcmV0dXJuIHsga2V5czogbmFtZXMsIG5leHQgfTtcbiAgfVxuICBcbiAgYXN5bmMgaW5kZXhBZGRCYXRjaDxUPihpdGVtczogVFtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UudHJhbnNhY3Rpb24oYXN5bmMgKHR4bikgPT4ge1xuICAgICAgZm9yIChjb25zdCBpdCBvZiBpdGVtcykgYXdhaXQgdHhuLnB1dCgnaTonICsgU3RyaW5nKGl0KSwgMSk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIGFzeW5jIGluZGV4UmVtb3ZlQmF0Y2g8VD4oaXRlbXM6IFRbXSk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG4gICAgbGV0IHJlbW92ZWQgPSAwO1xuICAgIGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UudHJhbnNhY3Rpb24oYXN5bmMgKHR4bikgPT4ge1xuICAgICAgZm9yIChjb25zdCBpdCBvZiBpdGVtcykge1xuICAgICAgICBjb25zdCBrID0gJ2k6JyArIFN0cmluZyhpdCk7XG4gICAgICAgIGNvbnN0IGV4aXN0ZWQgPSAoYXdhaXQgdHhuLmdldChrKSkgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgYXdhaXQgdHhuLmRlbGV0ZShrKTtcbiAgICAgICAgaWYgKGV4aXN0ZWQpIHJlbW92ZWQrKztcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfSAgXG5cbiAgYXN5bmMgaW5kZXhEcm9wKF9yb290S2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHsgYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5kZWxldGVBbGwoKTsgfVxuXG4gIC8vIFVzZXIgbWFuYWdlbWVudCBtZXRob2RzIGZvciBhdXRoZW50aWNhdGlvblxuICBhc3luYyBjcmVhdGVVc2VyKHVzZXI6IHsgaWQ6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZzsgcGluSGFzaDogc3RyaW5nOyBjcmVhdGVkQXQ6IHN0cmluZyB9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5wdXQoYHVzZXI6JHt1c2VyLmlkfWAsIHVzZXIpO1xuICAgIGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UucHV0KGB1c2VybmFtZToke3VzZXIudXNlcm5hbWV9YCwgdXNlci5pZCk7XG4gIH1cblxuICBhc3luYyBnZXRVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7IGlkOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmc7IHBpbkhhc2g6IHN0cmluZzsgY3JlYXRlZEF0OiBzdHJpbmcgfSB8IG51bGw+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5nZXQoYHVzZXI6JHt1c2VySWR9YCkgYXMgeyBpZDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nOyBwaW5IYXNoOiBzdHJpbmc7IGNyZWF0ZWRBdDogc3RyaW5nIH0gfCB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHVzZXIgfHwgbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJCeVVzZXJuYW1lKHVzZXJuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHsgaWQ6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZzsgcGluSGFzaDogc3RyaW5nOyBjcmVhdGVkQXQ6IHN0cmluZyB9IHwgbnVsbD4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UuZ2V0KGB1c2VybmFtZToke3VzZXJuYW1lfWApIGFzIHN0cmluZztcbiAgICBpZiAoIXVzZXJJZCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0VXNlcih1c2VySWQpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5U3RhdGljczxTLCBUIGV4dGVuZHMgRW50aXR5PFM+PiB7XG4gIG5ldyAoZW52OiBFbnYsIGlkOiBzdHJpbmcpOiBUOyAvLyBpbmhlcml0ZWQgZGVmYXVsdCBjdG9yXG4gIHJlYWRvbmx5IGVudGl0eU5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgaW5pdGlhbFN0YXRlOiBTO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGVudGl0aWVzIC0gZXh0ZW5kIHRoaXMgY2xhc3MgdG8gY3JlYXRlIG5ldyBlbnRpdGllc1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRW50aXR5PFN0YXRlPiB7XG4gIHByb3RlY3RlZCBfc3RhdGUhOiBTdGF0ZTtcbiAgcHJvdGVjdGVkIF92ZXJzaW9uOiBudW1iZXIgPSAwO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgc3R1YjogRHVyYWJsZU9iamVjdFN0dWI8R2xvYmFsRHVyYWJsZU9iamVjdD47XG4gIHByb3RlY3RlZCByZWFkb25seSBfaWQ6IHN0cmluZztcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGVudGl0eU5hbWU6IHN0cmluZztcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGVudjogRW52O1xuXG4gIGNvbnN0cnVjdG9yKGVudjogRW52LCBpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5lbnYgPSBlbnY7XG4gICAgdGhpcy5faWQgPSBpZDtcblxuICAgIC8vIFJlYWQgc3ViY2xhc3Mgc3RhdGljcyB2aWEgbmV3LnRhcmdldCAvIGNvbnN0cnVjdG9yXG4gICAgY29uc3QgQ3RvciA9IHRoaXMuY29uc3RydWN0b3IgYXMgRW50aXR5U3RhdGljczxTdGF0ZSwgdGhpcz47XG4gICAgdGhpcy5lbnRpdHlOYW1lID0gQ3Rvci5lbnRpdHlOYW1lO1xuXG4gICAgY29uc3QgaW5zdGFuY2VOYW1lID0gYCR7dGhpcy5lbnRpdHlOYW1lfToke3RoaXMuX2lkfWA7XG4gICAgY29uc3QgZG9JZCA9IGVudi5HbG9iYWxEdXJhYmxlT2JqZWN0LmlkRnJvbU5hbWUoaW5zdGFuY2VOYW1lKTtcbiAgICB0aGlzLnN0dWIgPSBlbnYuR2xvYmFsRHVyYWJsZU9iamVjdC5nZXQoZG9JZCk7XG4gIH1cblxuICAvKiogU3luY2hyb25vdXMgYWNjZXNzb3JzICovXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuICBnZXQgc3RhdGUoKTogU3RhdGUge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfVxuXG4gIC8qKiBTdG9yYWdlIGtleSBmb3IgdGhpcyBlbnRpdHkgZG9jdW1lbnQuICovXG4gIHByb3RlY3RlZCBrZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5lbnRpdHlOYW1lfToke3RoaXMuX2lkfWA7XG4gIH1cblxuICAvKiogU2F2ZSBhbmQgcmVmcmVzaCBjYWNoZS4gKi9cbiAgYXN5bmMgc2F2ZShuZXh0OiBTdGF0ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBhd2FpdCB0aGlzLmVuc3VyZVN0YXRlKCk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnN0dWIuY2FzUHV0KHRoaXMua2V5KCksIHRoaXMuX3ZlcnNpb24sIG5leHQpO1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gcmVzLnY7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gbmV4dDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gcmV0cnkgb24gY29udGVudGlvblxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkZXRlY3RlZFwiKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBlbnN1cmVTdGF0ZSgpOiBQcm9taXNlPFN0YXRlPiB7XG4gICAgY29uc3QgQ3RvciA9IHRoaXMuY29uc3RydWN0b3IgYXMgRW50aXR5U3RhdGljczxTdGF0ZSwgdGhpcz47XG4gICAgY29uc3QgZG9jID0gKGF3YWl0IHRoaXMuc3R1Yi5nZXREb2ModGhpcy5rZXkoKSkpIGFzIERvYzxTdGF0ZT4gfCBudWxsO1xuICAgIGlmIChkb2MgPT0gbnVsbCkge1xuICAgICAgdGhpcy5fdmVyc2lvbiA9IDA7XG4gICAgICB0aGlzLl9zdGF0ZSA9IEN0b3IuaW5pdGlhbFN0YXRlO1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgICB0aGlzLl92ZXJzaW9uID0gZG9jLnY7XG4gICAgdGhpcy5fc3RhdGUgPSBkb2MuZGF0YTtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gIH1cblxuICBhc3luYyBtdXRhdGUodXBkYXRlcjogKGN1cnJlbnQ6IFN0YXRlKSA9PiBTdGF0ZSk6IFByb21pc2U8U3RhdGU+IHtcbiAgICAvLyBTbWFsbCBib3VuZGVkIHJldHJ5IGxvb3AgZm9yIENBUyBjb250ZW50aW9uXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBhd2FpdCB0aGlzLmVuc3VyZVN0YXRlKCk7XG4gICAgICBjb25zdCBzdGFydFYgPSB0aGlzLl92ZXJzaW9uO1xuICAgICAgY29uc3QgbmV4dCA9IHVwZGF0ZXIoY3VycmVudCk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnN0dWIuY2FzUHV0KHRoaXMua2V5KCksIHN0YXJ0ViwgbmV4dCk7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSByZXMudjtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0O1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH1cbiAgICAgIC8vIHNvbWVvbmUgZWxzZSB1cGRhdGVkOyByZXRyeVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25jdXJyZW50IG1vZGlmaWNhdGlvbiBkZXRlY3RlZFwiKTtcbiAgfVxuXG4gIGFzeW5jIGdldFN0YXRlKCk6IFByb21pc2U8U3RhdGU+IHtcbiAgICByZXR1cm4gdGhpcy5lbnN1cmVTdGF0ZSgpO1xuICB9XG5cbiAgYXN5bmMgcGF0Y2gocDogUGFydGlhbDxTdGF0ZT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLm11dGF0ZSgocykgPT4gKHsgLi4ucywgLi4ucCB9KSk7XG4gIH1cblxuICBhc3luYyBleGlzdHMoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuc3R1Yi5oYXModGhpcy5rZXkoKSk7XG4gIH1cblxuICAvKiogRGVsZXRlIHRoZSBlbnRpdHkuICovXG4gIGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBvayA9IGF3YWl0IHRoaXMuc3R1Yi5kZWwodGhpcy5rZXkoKSk7XG4gICAgaWYgKG9rKSB7XG4gICAgICBjb25zdCBDdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyBFbnRpdHlTdGF0aWNzPFN0YXRlLCB0aGlzPjtcbiAgICAgIHRoaXMuX3ZlcnNpb24gPSAwO1xuICAgICAgdGhpcy5fc3RhdGUgPSBDdG9yLmluaXRpYWxTdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9rO1xuICB9XG59XG5cbi8vIE1pbmltYWwgcHJlZml4LWJhc2VkIGluZGV4IGhlbGQgaW4gaXRzIG93biBETyBpbnN0YW5jZS5cbmV4cG9ydCBjbGFzcyBJbmRleDxUIGV4dGVuZHMgc3RyaW5nPiBleHRlbmRzIEVudGl0eTx1bmtub3duPiB7XG4gIHN0YXRpYyByZWFkb25seSBlbnRpdHlOYW1lID0gXCJzeXMtaW5kZXgtcm9vdFwiO1xuXG4gIGNvbnN0cnVjdG9yKGVudjogRW52LCBuYW1lOiBzdHJpbmcpIHsgc3VwZXIoZW52LCBgaW5kZXg6JHtuYW1lfWApOyB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBiYXRjaCBvZiBpdGVtcyB0byB0aGUgaW5kZXggdHJhbnNhY3Rpb25hbGx5LlxuICAgKi9cbiAgYXN5bmMgYWRkQmF0Y2goaXRlbXNUb0FkZDogVFtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGl0ZW1zVG9BZGQubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgYXdhaXQgdGhpcy5zdHViLmluZGV4QWRkQmF0Y2goaXRlbXNUb0FkZCk7XG4gIH1cblxuICBhc3luYyBhZGQoaXRlbTogVCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmFkZEJhdGNoKFtpdGVtXSk7XG4gIH1cblxuICBhc3luYyByZW1vdmUoaXRlbTogVCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlbW92ZWQgPSBhd2FpdCB0aGlzLnJlbW92ZUJhdGNoKFtpdGVtXSk7XG4gICAgcmV0dXJuIHJlbW92ZWQgPiAwO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlQmF0Y2goaXRlbXNUb1JlbW92ZTogVFtdKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBpZiAoaXRlbXNUb1JlbW92ZS5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICAgIHJldHVybiB0aGlzLnN0dWIuaW5kZXhSZW1vdmVCYXRjaChpdGVtc1RvUmVtb3ZlKTtcbiAgfVxuXG4gIGFzeW5jIGNsZWFyKCk6IFByb21pc2U8dm9pZD4geyBhd2FpdCB0aGlzLnN0dWIuaW5kZXhEcm9wKHRoaXMua2V5KCkpOyB9XG5cbiAgYXN5bmMgcGFnZShjdXJzb3I/OiBzdHJpbmcgfCBudWxsLCBsaW1pdD86IG51bWJlcik6IFByb21pc2U8eyBpdGVtczogVFtdOyBuZXh0OiBzdHJpbmcgfCBudWxsIH0+IHtcbiAgICBjb25zdCB7IGtleXMsIG5leHQgfSA9IGF3YWl0IHRoaXMuc3R1Yi5saXN0UHJlZml4KCdpOicsIGN1cnNvciA/PyBudWxsLCBsaW1pdCk7XG4gICAgcmV0dXJuIHsgaXRlbXM6IGtleXMubWFwKGsgPT4gay5zbGljZSgyKSBhcyBUKSwgbmV4dCB9O1xuICB9XG5cbiAgYXN5bmMgbGlzdCgpOiBQcm9taXNlPFRbXT4ge1xuICAgIGNvbnN0IHsga2V5cyB9ID0gYXdhaXQgdGhpcy5zdHViLmxpc3RQcmVmaXgoJ2k6Jyk7XG4gICAgcmV0dXJuIGtleXMubWFwKGsgPT4gay5zbGljZSgyKSBhcyBUKTtcbiAgfVxufVxuXG50eXBlIElTPFQ+ID0gVCBleHRlbmRzIG5ldyAoZW52OiBFbnYsIGlkOiBzdHJpbmcpID0+IEluZGV4ZWRFbnRpdHk8aW5mZXIgUz4gPyBTIDogbmV2ZXI7XG50eXBlIEhTPFRDdG9yPiA9IFRDdG9yICYgeyBpbmRleE5hbWU6IHN0cmluZzsga2V5T2Yoc3RhdGU6IElTPFRDdG9yPik6IHN0cmluZzsgc2VlZERhdGE/OiBSZWFkb25seUFycmF5PElTPFRDdG9yPj4gfTtcbnR5cGUgQ3RvckFueSA9IG5ldyAoZW52OiBFbnYsIGlkOiBzdHJpbmcpID0+IEluZGV4ZWRFbnRpdHk8eyBpZDogc3RyaW5nIH0+O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5kZXhlZEVudGl0eTxTIGV4dGVuZHMgeyBpZDogc3RyaW5nIH0+IGV4dGVuZHMgRW50aXR5PFM+IHtcbiAgc3RhdGljIHJlYWRvbmx5IGluZGV4TmFtZTogc3RyaW5nO1xuICBzdGF0aWMga2V5T2Y8VSBleHRlbmRzIHsgaWQ6IHN0cmluZyB9PihzdGF0ZTogVSk6IHN0cmluZyB7IHJldHVybiBzdGF0ZS5pZDsgfVxuXG4gIC8vIFN0YXRpYyBoZWxwZXJzIGluZmVyIFMgZnJvbSBgdGhpc2AgYW5kIHRoZSBhcmd1bWVudHNcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZTxUQ3RvciBleHRlbmRzIEN0b3JBbnk+KHRoaXM6IEhTPFRDdG9yPiwgZW52OiBFbnYsIHN0YXRlOiBJUzxUQ3Rvcj4pOiBQcm9taXNlPElTPFRDdG9yPj4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5rZXlPZihzdGF0ZSk7XG4gICAgY29uc3QgaW5zdCA9IG5ldyB0aGlzKGVudiwgaWQpO1xuICAgIGF3YWl0IGluc3Quc2F2ZShzdGF0ZSk7XG4gICAgY29uc3QgaWR4ID0gbmV3IEluZGV4PHN0cmluZz4oZW52LCB0aGlzLmluZGV4TmFtZSk7XG4gICAgYXdhaXQgaWR4LmFkZChpZCk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGxpc3Q8VEN0b3IgZXh0ZW5kcyBDdG9yQW55PihcbiAgICB0aGlzOiBIUzxUQ3Rvcj4sXG4gICAgZW52OiBFbnYsXG4gICAgY3Vyc29yPzogc3RyaW5nIHwgbnVsbCxcbiAgICBsaW1pdD86IG51bWJlclxuICApOiBQcm9taXNlPHsgaXRlbXM6IElTPFRDdG9yPltdOyBuZXh0OiBzdHJpbmcgfCBudWxsIH0+IHtcbiAgICBjb25zdCBpZHggPSBuZXcgSW5kZXg8c3RyaW5nPihlbnYsIHRoaXMuaW5kZXhOYW1lKTtcbiAgICBjb25zdCB7IGl0ZW1zOiBpZHMsIG5leHQgfSA9IGF3YWl0IGlkeC5wYWdlKGN1cnNvciwgbGltaXQpO1xuICAgIGNvbnN0IHJvd3MgPSAoYXdhaXQgUHJvbWlzZS5hbGwoaWRzLm1hcCgoaWQpID0+IG5ldyB0aGlzKGVudiwgaWQpLmdldFN0YXRlKCkpKSkgYXMgSVM8VEN0b3I+W107XG4gICAgcmV0dXJuIHsgaXRlbXM6IHJvd3MsIG5leHQgfTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBlbnN1cmVTZWVkPFRDdG9yIGV4dGVuZHMgQ3RvckFueT4odGhpczogSFM8VEN0b3I+LCBlbnY6IEVudik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGlkeCA9IG5ldyBJbmRleDxzdHJpbmc+KGVudiwgdGhpcy5pbmRleE5hbWUpO1xuICAgIGNvbnN0IGlkcyA9IGF3YWl0IGlkeC5saXN0KCk7XG4gICAgY29uc3Qgc2VlZHMgPSB0aGlzLnNlZWREYXRhO1xuICAgIGlmIChpZHMubGVuZ3RoID09PSAwICYmIHNlZWRzICYmIHNlZWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHNlZWRzLm1hcChzID0+IG5ldyB0aGlzKGVudiwgdGhpcy5rZXlPZihzKSkuc2F2ZShzKSkpO1xuICAgICAgYXdhaXQgaWR4LmFkZEJhdGNoKHNlZWRzLm1hcChzID0+IHRoaXMua2V5T2YocykpKTtcbiAgICB9XG4gIH1cblxuICAvKiogRGVsZXRlIGFuIGVudGl0eSBkb2N1bWVudCBhbmQgcmVtb3ZlIGl0cyBpZCBmcm9tIHRoZSBpbmRleC4gKi9cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZTxUQ3RvciBleHRlbmRzIEN0b3JBbnk+KHRoaXM6IEhTPFRDdG9yPiwgZW52OiBFbnYsIGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBpbnN0ID0gbmV3IHRoaXMoZW52LCBpZCk7XG4gICAgY29uc3QgZXhpc3RlZCA9IGF3YWl0IGluc3QuZGVsZXRlKCk7XG4gICAgY29uc3QgaWR4ID0gbmV3IEluZGV4PHN0cmluZz4oZW52LCB0aGlzLmluZGV4TmFtZSk7XG4gICAgYXdhaXQgaWR4LnJlbW92ZShpZCk7XG4gICAgcmV0dXJuIGV4aXN0ZWQ7XG4gIH1cblxuICAvKiogRGVsZXRlIG1hbnkgZW50aXRpZXMgYW5kIHBydW5lIHRoZWlyIGlkcyBmcm9tIHRoZSBpbmRleC4gUmV0dXJucyBudW1iZXIgb2YgZG9jcyByZW1vdmVkLiAqL1xuICBzdGF0aWMgYXN5bmMgZGVsZXRlTWFueTxUQ3RvciBleHRlbmRzIEN0b3JBbnk+KHRoaXM6IEhTPFRDdG9yPiwgZW52OiBFbnYsIGlkczogc3RyaW5nW10pOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGlmIChpZHMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoaWRzLm1hcChhc3luYyAoaWQpID0+IG5ldyB0aGlzKGVudiwgaWQpLmRlbGV0ZSgpKSk7XG4gICAgY29uc3QgaWR4ID0gbmV3IEluZGV4PHN0cmluZz4oZW52LCB0aGlzLmluZGV4TmFtZSk7XG4gICAgYXdhaXQgaWR4LnJlbW92ZUJhdGNoKGlkcyk7XG4gICAgcmV0dXJuIHJlc3VsdHMuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aDtcbiAgfVxuXG4gIC8qKiBSZW1vdmUgb25seSB0aGUgaWQgZnJvbSB0aGUgaW5kZXg7IGRvZXMgbm90IGRlbGV0ZSB0aGUgZW50aXR5IGRvY3VtZW50LiAqL1xuICBzdGF0aWMgYXN5bmMgcmVtb3ZlRnJvbUluZGV4PFRDdG9yIGV4dGVuZHMgQ3RvckFueT4odGhpczogSFM8VEN0b3I+LCBlbnY6IEVudiwgaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGlkeCA9IG5ldyBJbmRleDxzdHJpbmc+KGVudiwgdGhpcy5pbmRleE5hbWUpO1xuICAgIGF3YWl0IGlkeC5yZW1vdmUoaWQpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGFzeW5jIGVuc3VyZVN0YXRlKCk6IFByb21pc2U8Uz4ge1xuICAgIGNvbnN0IHMgPSAoYXdhaXQgc3VwZXIuZW5zdXJlU3RhdGUoKSkgYXMgUztcbiAgICBpZiAoIXMuaWQpIHtcbiAgICAgIC8vIEVuc3VyZSB0aGUgZW50aXR5IHN0YXRlIGlkIG1hdGNoZXMgdGhlIGluc3RhbmNlIGlkIGZvciBjb25zaXN0ZW5jeVxuICAgICAgY29uc3Qgd2l0aElkID0geyAuLi5zLCBpZDogdGhpcy5pZCB9IGFzIFM7XG4gICAgICB0aGlzLl9zdGF0ZSA9IHdpdGhJZDtcbiAgICAgIHJldHVybiB3aXRoSWQ7XG4gICAgfVxuICAgIHJldHVybiBzO1xuICB9XG59XG5cbi8vIEFQSSBIRUxQRVJTXG5cbmV4cG9ydCBjb25zdCBvayA9IDxUPihjOiBDb250ZXh0LCBkYXRhOiBUKSA9PiBjLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhIH0gYXMgQXBpUmVzcG9uc2U8VD4pO1xuZXhwb3J0IGNvbnN0IGJhZCA9IChjOiBDb250ZXh0LCBlcnJvcjogc3RyaW5nKSA9PiBjLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfSBhcyBBcGlSZXNwb25zZSwgNDAwKTtcbmV4cG9ydCBjb25zdCBub3RGb3VuZCA9IChjOiBDb250ZXh0LCBlcnJvciA9ICdub3QgZm91bmQnKSA9PiBjLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfSBhcyBBcGlSZXNwb25zZSwgNDA0KTtcbmV4cG9ydCBjb25zdCBpc1N0ciA9IChzOiB1bmtub3duKTogcyBpcyBzdHJpbmcgPT4gdHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMubGVuZ3RoID4gMDsiLCIvLyBNYWtpbmcgY2hhbmdlcyB0byB0aGlzIGZpbGUgaXMgKipTVFJJQ1RMWSoqIGZvcmJpZGRlbi4gUGxlYXNlIGFkZCB5b3VyIHJvdXRlcyBpbiBgdXNlclJvdXRlcy50c2AgZmlsZS5cblxuaW1wb3J0IHsgSG9ubyB9IGZyb20gJ2hvbm8nO1xuaW1wb3J0IHsgY29ycyB9IGZyb20gJ2hvbm8vY29ycyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdob25vL2xvZ2dlcic7XG5pbXBvcnQgeyBFbnYgfSBmcm9tICcuL2NvcmUtdXRpbHMnO1xuZXhwb3J0ICogZnJvbSAnLi9jb3JlLXV0aWxzJztcblxudHlwZSBVc2VyUm91dGVzTW9kdWxlID0geyB1c2VyUm91dGVzOiAoYXBwOiBIb25vPHsgQmluZGluZ3M6IEVudiB9PikgPT4gdm9pZCB9O1xuXG5jb25zdCBVU0VSX1JPVVRFU19NT0RVTEUgPSAnLi91c2VyLXJvdXRlcyc7XG5jb25zdCBSRVRSWV9NUyA9IDc1MDtcbmxldCBuZXh0UmV0cnlBdCA9IDA7XG5sZXQgdXNlclJvdXRlc0xvYWRlZCA9IGZhbHNlO1xubGV0IHVzZXJSb3V0ZXNMb2FkRXJyb3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG5jb25zdCBzYWZlTG9hZFVzZXJSb3V0ZXMgPSBhc3luYyAoYXBwOiBIb25vPHsgQmluZGluZ3M6IEVudiB9PikgPT4ge1xuICBpZiAodXNlclJvdXRlc0xvYWRlZCkgcmV0dXJuO1xuXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IHNob3VsZFJldHJ5ID0gdXNlclJvdXRlc0xvYWRFcnJvciAhPT0gbnVsbDtcbiAgaWYgKHNob3VsZFJldHJ5ICYmIG5vdyA8IG5leHRSZXRyeUF0KSByZXR1cm47XG4gIG5leHRSZXRyeUF0ID0gbm93ICsgUkVUUllfTVM7XG5cbiAgY29uc3QgYnVzdCA9IHNob3VsZFJldHJ5ICYmIGltcG9ydC5tZXRhLmVudj8uREVWID8gYD90PSR7bm93fWAgOiAnJztcbiAgY29uc3Qgc3BlYyA9IGAke1VTRVJfUk9VVEVTX01PRFVMRX0ke2J1c3R9YDtcblxuICB0cnkge1xuICAgIGNvbnN0IG1vZCA9IChhd2FpdCBpbXBvcnQoLyogQHZpdGUtaWdub3JlICovIHNwZWMpKSBhcyBVc2VyUm91dGVzTW9kdWxlO1xuICAgIG1vZC51c2VyUm91dGVzKGFwcCk7XG4gICAgdXNlclJvdXRlc0xvYWRlZCA9IHRydWU7XG4gICAgdXNlclJvdXRlc0xvYWRFcnJvciA9IG51bGw7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB1c2VyUm91dGVzTG9hZEVycm9yID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpO1xuICB9XG59O1xuXG5leHBvcnQgdHlwZSBDbGllbnRFcnJvclJlcG9ydCA9IHsgbWVzc2FnZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgdGltZXN0YW1wOiBzdHJpbmcgfSAmIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG5jb25zdCBhcHAgPSBuZXcgSG9ubzx7IEJpbmRpbmdzOiBFbnYgfT4oKTtcblxuYXBwLnVzZSgnKicsIGxvZ2dlcigpKTtcblxuYXBwLnVzZSgnL2FwaS8qJywgY29ycyh7IG9yaWdpbjogJyonLCBhbGxvd01ldGhvZHM6IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURScsICdPUFRJT05TJ10sIGFsbG93SGVhZGVyczogWydDb250ZW50LVR5cGUnLCAnQXV0aG9yaXphdGlvbiddIH0pKTtcblxuYXBwLmdldCgnL2FwaS9oZWFsdGgnLCAoYykgPT4gYy5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBzdGF0dXM6ICdoZWFsdGh5JywgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfX0pKTtcblxuYXBwLnBvc3QoJy9hcGkvY2xpZW50LWVycm9ycycsIGFzeW5jIChjKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZSA9IGF3YWl0IGMucmVxLmpzb248Q2xpZW50RXJyb3JSZXBvcnQ+KCk7XG4gICAgY29uc29sZS5lcnJvcignW0NMSUVOVCBFUlJPUl0nLCBKU09OLnN0cmluZ2lmeSh7IHRpbWVzdGFtcDogZS50aW1lc3RhbXAgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBtZXNzYWdlOiBlLm1lc3NhZ2UsIHVybDogZS51cmwsIHN0YWNrOiBlLnN0YWNrLCBjb21wb25lbnRTdGFjazogZS5jb21wb25lbnRTdGFjaywgZXJyb3JCb3VuZGFyeTogZS5lcnJvckJvdW5kYXJ5IH0sIG51bGwsIDIpKTtcbiAgICByZXR1cm4gYy5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbQ0xJRU5UIEVSUk9SIEhBTkRMRVJdIEZhaWxlZDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGMuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZhaWxlZCB0byBwcm9jZXNzJyB9LCA1MDApO1xuICB9XG59KTtcblxuYXBwLm5vdEZvdW5kKChjKSA9PiBjLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdOb3QgRm91bmQnIH0sIDQwNCkpO1xuYXBwLm9uRXJyb3IoKGVyciwgYykgPT4geyBjb25zb2xlLmVycm9yKGBbRVJST1JdICR7ZXJyfWApOyByZXR1cm4gYy5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LCA1MDApOyB9KTtcblxuY29uc29sZS5sb2coYFNlcnZlciBpcyBydW5uaW5nYClcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3luYyBmZXRjaChyZXF1ZXN0LCBlbnYsIGN0eCkge1xuICAgIGNvbnN0IHBhdGhuYW1lID0gbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWU7XG5cbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FwaS8nKSAmJiBwYXRobmFtZSAhPT0gJy9hcGkvaGVhbHRoJyAmJiBwYXRobmFtZSAhPT0gJy9hcGkvY2xpZW50LWVycm9ycycpIHtcbiAgICAgIGF3YWl0IHNhZmVMb2FkVXNlclJvdXRlcyhhcHApO1xuICAgICAgaWYgKHVzZXJSb3V0ZXNMb2FkRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiAnV29ya2VyIHJvdXRlcyBmYWlsZWQgdG8gbG9hZCcsXG4gICAgICAgICAgICBkZXRhaWw6IHVzZXJSb3V0ZXNMb2FkRXJyb3IsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXBwLmZldGNoKHJlcXVlc3QsIGVudiwgY3R4KTtcbiAgfSxcbn0gc2F0aXNmaWVzIEV4cG9ydGVkSGFuZGxlcjxFbnY+OyJdLCJuYW1lcyI6WyJjb21wb3NlIiwibWlkZGxld2FyZSIsIm9uRXJyb3IiLCJvbk5vdEZvdW5kIiwiY29udGV4dCIsIm5leHQiLCJpbmRleCIsImRpc3BhdGNoIiwiaSIsInJlcyIsImlzRXJyb3IiLCJoYW5kbGVyIiwiZXJyIiwiR0VUX01BVENIX1JFU1VMVCIsInBhcnNlQm9keSIsInJlcXVlc3QiLCJvcHRpb25zIiwiYWxsIiwiZG90IiwiY29udGVudFR5cGUiLCJIb25vUmVxdWVzdCIsInBhcnNlRm9ybURhdGEiLCJmb3JtRGF0YSIsImNvbnZlcnRGb3JtRGF0YVRvQm9keURhdGEiLCJmb3JtIiwidmFsdWUiLCJrZXkiLCJoYW5kbGVQYXJzaW5nQWxsVmFsdWVzIiwiaGFuZGxlUGFyc2luZ05lc3RlZFZhbHVlcyIsIm5lc3RlZEZvcm0iLCJrZXlzIiwia2V5MiIsInNwbGl0UGF0aCIsInBhdGgiLCJwYXRocyIsInNwbGl0Um91dGluZ1BhdGgiLCJyb3V0ZVBhdGgiLCJncm91cHMiLCJleHRyYWN0R3JvdXBzRnJvbVBhdGgiLCJyZXBsYWNlR3JvdXBNYXJrcyIsIm1hdGNoIiwibWFyayIsImoiLCJwYXR0ZXJuQ2FjaGUiLCJnZXRQYXR0ZXJuIiwibGFiZWwiLCJjYWNoZUtleSIsInRyeURlY29kZSIsInN0ciIsImRlY29kZXIiLCJ0cnlEZWNvZGVVUkkiLCJnZXRQYXRoIiwidXJsIiwic3RhcnQiLCJjaGFyQ29kZSIsInF1ZXJ5SW5kZXgiLCJnZXRQYXRoTm9TdHJpY3QiLCJyZXN1bHQiLCJtZXJnZVBhdGgiLCJiYXNlIiwic3ViIiwicmVzdCIsImNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIiLCJzZWdtZW50cyIsInJlc3VsdHMiLCJiYXNlUGF0aCIsInNlZ21lbnQiLCJvcHRpb25hbFNlZ21lbnQiLCJ2IiwiX2RlY29kZVVSSSIsImRlY29kZVVSSUNvbXBvbmVudF8iLCJfZ2V0UXVlcnlQYXJhbSIsIm11bHRpcGxlIiwiZW5jb2RlZCIsImtleUluZGV4MiIsInRyYWlsaW5nS2V5Q29kZSIsInZhbHVlSW5kZXgiLCJlbmRJbmRleCIsImtleUluZGV4IiwibmV4dEtleUluZGV4IiwibmFtZSIsImdldFF1ZXJ5UGFyYW0iLCJnZXRRdWVyeVBhcmFtcyIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsIiN2YWxpZGF0ZWREYXRhIiwiI21hdGNoUmVzdWx0IiwibWF0Y2hSZXN1bHQiLCIjZ2V0RGVjb2RlZFBhcmFtIiwiI2dldEFsbERlY29kZWRQYXJhbXMiLCJwYXJhbUtleSIsInBhcmFtIiwiI2dldFBhcmFtVmFsdWUiLCJkZWNvZGVkIiwiaGVhZGVyRGF0YSIsIiNjYWNoZWRCb2R5IiwiYm9keUNhY2hlIiwicmF3IiwiY2FjaGVkQm9keSIsImFueUNhY2hlZEtleSIsImJvZHkiLCJ0ZXh0IiwidGFyZ2V0IiwiZGF0YSIsInJvdXRlIiwiSHRtbEVzY2FwZWRDYWxsYmFja1BoYXNlIiwicmVzb2x2ZUNhbGxiYWNrIiwicGhhc2UiLCJwcmVzZXJ2ZUNhbGxiYWNrcyIsImJ1ZmZlciIsImNhbGxiYWNrcyIsInN0cjIiLCJURVhUX1BMQUlOIiwic2V0RGVmYXVsdENvbnRlbnRUeXBlIiwiaGVhZGVycyIsIkNvbnRleHQiLCIjcmF3UmVxdWVzdCIsIiNyZXEiLCIjdmFyIiwiI3N0YXR1cyIsIiNleGVjdXRpb25DdHgiLCIjcmVzIiwiI2xheW91dCIsIiNyZW5kZXJlciIsIiNub3RGb3VuZEhhbmRsZXIiLCIjcHJlcGFyZWRIZWFkZXJzIiwiI3BhdGgiLCJyZXEiLCJfcmVzIiwiayIsImNvb2tpZXMiLCJjb29raWUiLCJhcmdzIiwiY29udGVudCIsImxheW91dCIsInJlbmRlcmVyIiwic3RhdHVzIiwiI25ld1Jlc3BvbnNlIiwiYXJnIiwicmVzcG9uc2VIZWFkZXJzIiwiYXJnSGVhZGVycyIsInYyIiwib2JqZWN0IiwiaHRtbCIsImh0bWwyIiwibG9jYXRpb24iLCJsb2NhdGlvblN0cmluZyIsIk1FVEhPRF9OQU1FX0FMTCIsIk1FVEhPRF9OQU1FX0FMTF9MT1dFUkNBU0UiLCJNRVRIT0RTIiwiTUVTU0FHRV9NQVRDSEVSX0lTX0FMUkVBRFlfQlVJTFQiLCJVbnN1cHBvcnRlZFBhdGhFcnJvciIsIkNPTVBPU0VEX0hBTkRMRVIiLCJub3RGb3VuZEhhbmRsZXIiLCJjIiwiZXJyb3JIYW5kbGVyIiwiSG9ubyIsIl9Ib25vIiwibWV0aG9kIiwiYXJnczEiLCIjYWRkUm91dGUiLCJoYW5kbGVycyIsInAiLCJtIiwiYXJnMSIsInN0cmljdCIsIm9wdGlvbnNXaXRob3V0U3RyaWN0IiwiI2Nsb25lIiwiY2xvbmUiLCJhcHAiLCJzdWJBcHAiLCJyIiwiYXBwbGljYXRpb25IYW5kbGVyIiwicmVwbGFjZVJlcXVlc3QiLCJvcHRpb25IYW5kbGVyIiwiZ2V0T3B0aW9ucyIsIm9wdGlvbnMyIiwiZXhlY3V0aW9uQ29udGV4dCIsIm1lcmdlZFBhdGgiLCJwYXRoUHJlZml4TGVuZ3RoIiwiI2hhbmRsZUVycm9yIiwiI2Rpc3BhdGNoIiwiZXhlY3V0aW9uQ3R4IiwiZW52IiwicmVzb2x2ZWQiLCJjb21wb3NlZCIsImlucHV0IiwicmVxdWVzdEluaXQiLCJFbnYiLCJldmVudCIsImVtcHR5UGFyYW0iLCJtYXRjaGVycyIsIm1hdGNoMiIsIm1ldGhvZDIiLCJwYXRoMiIsIm1hdGNoZXIiLCJzdGF0aWNNYXRjaCIsIm1hdGNoMyIsIkxBQkVMX1JFR19FWFBfU1RSIiwiT05MWV9XSUxEQ0FSRF9SRUdfRVhQX1NUUiIsIlRBSUxfV0lMRENBUkRfUkVHX0VYUF9TVFIiLCJQQVRIX0VSUk9SIiwicmVnRXhwTWV0YUNoYXJzIiwiY29tcGFyZUtleSIsImEiLCJiIiwiTm9kZSIsIl9Ob2RlIiwiI2luZGV4IiwiI3ZhckluZGV4IiwiI2NoaWxkcmVuIiwidG9rZW5zIiwicGFyYW1NYXAiLCJwYXRoRXJyb3JDaGVja09ubHkiLCJ0b2tlbiIsInJlc3RUb2tlbnMiLCJwYXR0ZXJuIiwibm9kZSIsInJlZ2V4cFN0ciIsInN0ckxpc3QiLCJUcmllIiwiI2NvbnRleHQiLCIjcm9vdCIsInBhcmFtQXNzb2MiLCJyZXBsYWNlZCIsInJlZ2V4cCIsImNhcHR1cmVJbmRleCIsImluZGV4UmVwbGFjZW1lbnRNYXAiLCJwYXJhbVJlcGxhY2VtZW50TWFwIiwiXyIsImhhbmRsZXJJbmRleCIsInBhcmFtSW5kZXgiLCJudWxsTWF0Y2hlciIsIndpbGRjYXJkUmVnRXhwQ2FjaGUiLCJidWlsZFdpbGRjYXJkUmVnRXhwIiwibWV0YUNoYXIiLCJjbGVhcldpbGRjYXJkUmVnRXhwQ2FjaGUiLCJidWlsZE1hdGNoZXJGcm9tUHJlcHJvY2Vzc2VkUm91dGVzIiwicm91dGVzIiwidHJpZSIsImhhbmRsZXJEYXRhIiwicm91dGVzV2l0aFN0YXRpY1BhdGhGbGFnIiwiaXNTdGF0aWNBIiwicGF0aEEiLCJpc1N0YXRpY0IiLCJwYXRoQiIsInN0YXRpY01hcCIsImxlbiIsImgiLCJlIiwicGFyYW1Db3VudCIsInBhcmFtSW5kZXhNYXAiLCJsZW4yIiwibWFwIiwibGVuMyIsImhhbmRsZXJNYXAiLCJmaW5kTWlkZGxld2FyZSIsIlJlZ0V4cFJvdXRlciIsIiNtaWRkbGV3YXJlIiwiI3JvdXRlcyIsInJlIiwiI2J1aWxkTWF0Y2hlciIsImhhc093blJvdXRlIiwib3duUm91dGUiLCJTbWFydFJvdXRlciIsIiNyb3V0ZXJzIiwiaW5pdCIsInJvdXRlcnMiLCJyb3V0ZXIiLCJpMiIsImVtcHR5UGFyYW1zIiwiI21ldGhvZHMiLCIjcGF0dGVybnMiLCIjb3JkZXIiLCIjcGFyYW1zIiwiY2hpbGRyZW4iLCJjdXJOb2RlIiwicGFydHMiLCJwb3NzaWJsZUtleXMiLCJuZXh0UCIsIiNnZXRIYW5kbGVyU2V0cyIsIm5vZGVQYXJhbXMiLCJwYXJhbXMiLCJoYW5kbGVyU2V0cyIsImhhbmRsZXJTZXQiLCJwcm9jZXNzZWRTZXQiLCJwcm9jZXNzZWQiLCJjdXJOb2RlcyIsImN1ck5vZGVzUXVldWUiLCJwYXJ0IiwiaXNMYXN0IiwidGVtcE5vZGVzIiwibmV4dE5vZGUiLCJhc3ROb2RlIiwiY2hpbGQiLCJyZXN0UGF0aFN0cmluZyIsImNvbXBvbmVudENvdW50IiwiVHJpZVJvdXRlciIsIiNub2RlIiwiSG9ub0Jhc2UiLCJjb3JzIiwib3B0cyIsImZpbmRBbGxvd09yaWdpbiIsIm9wdHNPcmlnaW4iLCJvcmlnaW4iLCJmaW5kQWxsb3dNZXRob2RzIiwib3B0c0FsbG93TWV0aG9kcyIsInNldCIsImFsbG93T3JpZ2luIiwiYWxsb3dNZXRob2RzIiwicmVxdWVzdEhlYWRlcnMiLCJnZXRDb2xvckVuYWJsZWQiLCJwcm9jZXNzIiwiRGVubyIsImdldENvbG9yRW5hYmxlZEFzeW5jIiwibmF2aWdhdG9yIiwiY2ZXb3JrZXJzIiwiaHVtYW5pemUiLCJ0aW1lcyIsImRlbGltaXRlciIsInNlcGFyYXRvciIsInRpbWUiLCJkZWx0YSIsImNvbG9yU3RhdHVzIiwibG9nIiwiZm4iLCJwcmVmaXgiLCJlbGFwc2VkIiwib3V0IiwibG9nZ2VyIiwiR2xvYmFsRHVyYWJsZU9iamVjdCIsIkR1cmFibGVPYmplY3QiLCJjdHgiLCJleGlzdGVkIiwiZXhwZWN0ZWRWIiwidHhuIiwiY3VyViIsIm5leHRWIiwic3RhcnRBZnRlciIsImxpbWl0IiwibmFtZXMiLCJpdGVtcyIsIml0IiwicmVtb3ZlZCIsIl9yb290S2V5IiwidXNlciIsInVzZXJJZCIsInVzZXJuYW1lIiwiRW50aXR5IiwiaWQiLCJDdG9yIiwiaW5zdGFuY2VOYW1lIiwiZG9JZCIsImRvYyIsInVwZGF0ZXIiLCJjdXJyZW50Iiwic3RhcnRWIiwib2siLCJJbmRleCIsIml0ZW1zVG9BZGQiLCJpdGVtIiwiaXRlbXNUb1JlbW92ZSIsImN1cnNvciIsIkluZGV4ZWRFbnRpdHkiLCJzdGF0ZSIsImlkeCIsImlkcyIsInNlZWRzIiwicyIsIndpdGhJZCIsImJhZCIsImVycm9yIiwibm90Rm91bmQiLCJpc1N0ciIsIlVTRVJfUk9VVEVTX01PRFVMRSIsIlJFVFJZX01TIiwibmV4dFJldHJ5QXQiLCJ1c2VyUm91dGVzTG9hZGVkIiwidXNlclJvdXRlc0xvYWRFcnJvciIsInNhZmVMb2FkVXNlclJvdXRlcyIsIm5vdyIsInNob3VsZFJldHJ5Iiwic3BlYyIsInBhdGhuYW1lIl0sIm1hcHBpbmdzIjoib0RBQ0EsSUFBSUEsRUFBVSxDQUFDQyxFQUFZQyxFQUFTQyxJQUMzQixDQUFDQyxFQUFTQyxJQUFTLENBQ3hCLElBQUlDLEVBQVEsR0FDWixPQUFPQyxFQUFTLENBQUMsRUFDakIsZUFBZUEsRUFBU0MsRUFBRyxDQUN6QixHQUFJQSxHQUFLRixFQUNQLE1BQU0sSUFBSSxNQUFNLDhCQUE4QixFQUVoREEsRUFBUUUsRUFDUixJQUFJQyxFQUNBQyxFQUFVLEdBQ1ZDLEVBT0osR0FOSVYsRUFBV08sQ0FBQyxHQUNkRyxFQUFVVixFQUFXTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDNUJKLEVBQVEsSUFBSSxXQUFhSSxHQUV6QkcsRUFBVUgsSUFBTVAsRUFBVyxRQUFVSSxHQUFRLE9BRTNDTSxFQUNGLEdBQUksQ0FDRkYsRUFBTSxNQUFNRSxFQUFRUCxFQUFTLElBQU1HLEVBQVNDLEVBQUksQ0FBQyxDQUFDLENBQ3BELE9BQVNJLEVBQUssQ0FDWixHQUFJQSxhQUFlLE9BQVNWLEVBQzFCRSxFQUFRLE1BQVFRLEVBQ2hCSCxFQUFNLE1BQU1QLEVBQVFVLEVBQUtSLENBQU8sRUFDaENNLEVBQVUsT0FFVixPQUFNRSxDQUVWLE1BRUlSLEVBQVEsWUFBYyxJQUFTRCxJQUNqQ00sRUFBTSxNQUFNTixFQUFXQyxDQUFPLEdBR2xDLE9BQUlLLElBQVFMLEVBQVEsWUFBYyxJQUFTTSxLQUN6Q04sRUFBUSxJQUFNSyxHQUVUTCxDQUNULENBQ0YsRUN4Q0VTLEdBQW1DLE9BQU0sRUNDekNDLEdBQVksTUFBT0MsRUFBU0MsRUFBMEIsT0FBTyxPQUFPLElBQUksSUFB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QUFBLEVBQWlCLEtBQU0sQ0FBQyxDQUFDLEVBQzFOL0YsRUFBRSxLQUFLLENBQUUsUUFBUyxHQUFNLENBQ2pDLE9BQVN5TixFQUFPLENBQ2QsZUFBUSxNQUFNLGlDQUFrQ0EsQ0FBSyxFQUM5Q3pOLEVBQUUsS0FBSyxDQUFFLFFBQVMsR0FBTyxNQUFPLG1CQUFBLEVBQXVCLEdBQUcsQ0FDbkUsQ0FDRixDQUFDLEVBRURlLEVBQUksU0FBVWYsR0FBTUEsRUFBRSxLQUFLLENBQUUsUUFBUyxHQUFPLE1BQU8sV0FBQSxFQUFlLEdBQUcsQ0FBQyxFQUN2RWUsRUFBSSxRQUFRLENBQUM1SixFQUFLNkksS0FBUSxRQUFRLE1BQU0sV0FBVzdJLENBQUcsRUFBRSxFQUFVNkksRUFBRSxLQUFLLENBQUUsUUFBUyxHQUFPLE1BQU8sdUJBQUEsRUFBMkIsR0FBRyxFQUFJLEVBRXBJLFFBQVEsSUFBSSxtQkFBbUIsRUFFL0IsTUFBQW5KLEdBQWUsQ0FDYixNQUFNLE1BQU1TLEVBQVN1SyxFQUFLcUosRUFBSyxDQUM3QixNQUFNbUQsRUFBVyxJQUFJLElBQUkvVyxFQUFRLEdBQUcsRUFBRSxTQUV0QyxPQUFJK1csRUFBUyxXQUFXLE9BQU8sR0FBS0EsSUFBYSxlQUFpQkEsSUFBYSx1QkFDN0UsTUFBTUosR0FBbUJsTixDQUFHLEVBQ3hCaU4sR0FDSyxJQUFJLFNBQ1QsS0FBSyxVQUFVLENBQ2IsUUFBUyxHQUNULE1BQU8sK0JBQ1AsT0FBUUEsQ0FBQSxDQUNULEVBQ0QsQ0FBRSxPQUFRLElBQUssUUFBUyxDQUFFLGVBQWdCLG1CQUFtQixDQUFFLEVBSzlEak4sRUFBSSxNQUFNekosRUFBU3VLLEVBQUtxSixDQUFHLENBQ3BDLENBQ0YiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMF19
